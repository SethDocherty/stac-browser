const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/datepicker-DfUSduTx.js","assets/buildMatchPatternFn-_eSDZv-o.js","assets/datepicker-YfhJ1Gwr.js","assets/de-DQlhbKIT.js","assets/datepicker-BEvijyE4.js","assets/datepicker-C7rMgKby.js","assets/match-DN4VZKeM.js","assets/datepicker-Dvdh3peJ.js","assets/en-US-DRXoBfJp.js","assets/datepicker-Baom71XP.js","assets/datepicker-12UwHVoa.js","assets/datepicker-CSr9teMr.js","assets/match-C3potsOX.js","assets/formatRelative-Dv7OIDgt.js","assets/datepicker-CSulcXBB.js","assets/datepicker-CPCLpoGN.js","assets/datepicker-XwOM_asX.js","assets/datepicker-CjPcGVrk.js","assets/match-CLSMjs3e.js","assets/isSameWeek-dWoegHqV.js","assets/startOfWeek-m7vVpAR3.js","assets/datepicker-Dbtq-1rX.js","assets/datepicker-DpKIUoet.js","assets/datepicker-CCSoOM2w.js","assets/datepicker-CclFEVqS.js","assets/datepicker-C1hmHRXf.js","assets/datepicker-D3y-tlK2.js","assets/QueryableInput-DTANWk7V.js","assets/index-a0nW5-q0.js","assets/utils-UTZ1_q7B.js","assets/_commonjsHelpers-CE1G-McA.js","assets/I18N-DlIXJTel.js","assets/index-tJa7Rfc7.css","assets/BFormCheckboxGroup.vue_vue_type_script_setup_true_lang-Dx_mpGFE-D7XQ6QZw.js","assets/BFormRadioGroup.vue_vue_type_script_setup_true_lang-DaMHx4U3-BGnNjbMY.js","assets/useStateClass-BGbSLWFN-C-AURYcn.js","assets/ConditionalWrapper.vue_vue_type_script_lang-IX_NpHH--CXykh4yB.js","assets/BFormInput.vue_vue_type_script_setup_true_lang-DRDhfD8d-c_1MxI_S.js","assets/debounce-BHqBzJ1a-BA2LG0oh.js","assets/BFormSelect.vue_vue_type_script_setup_true_lang-djrVhugk-DCGWTeUf.js","assets/BBadge.vue_vue_type_script_setup_true_lang-D9DEOOtU-CDukIElk.js","assets/BDropdownText.vue_vue_type_script_setup_true_lang-Cm6QYE9x-T4tPGD6S.js","assets/BForm.vue_vue_type_script_setup_true_lang-u44ElAm9-jYPc2yQC.js","assets/BFormGroup.vue_vue_type_script_setup_true_lang-RIWLdYTY-DDuDfcTy.js","assets/BCard.vue_vue_type_script_setup_true_lang-9RhyvL8I-BxnXE0xt.js","assets/Loading-Th-QN0E0.js","assets/Loading-BLYcl2tz.css","assets/helper-CaHhXSPV.js","assets/helper-DO3U350M.js","assets/QueryableInput-D6doxpgu.css","assets/MapSelect-i9hMOnRB.js","assets/GeoJSON-CUQ_XF9z.js","assets/GeoJSON-Bh2emOAl.css","assets/MapSelect-BYZzzk0X.css","assets/SortButtons-DomhFXfH.js","assets/vue-multiselect.esm-BmVF1_5Q.js"])))=>i.map(i=>d[i]);
import{cs as er,ct as St,bu as He,w as st,t as tr,s as h,c as B,Z as Sl,cu as Br,r as ue,cv as Fs,W as Bs,cw as Ar,d as Xe,f as lr,j as Ve,n as I,p as xe,aj as Je,ax as Ye,q as se,C as oe,D as pt,E as Pt,cx as El,am as Ns,m as et,a1 as ut,bA as yr,B as Z,L as Se,y as we,N as ht,A as be,T as Gr,K as z,cy as Vs,aa as $o,i as Hs,z as mr,I as $e,H as Fe,F as Ja,ci as Qe,v as xt,G as Ce,cz as qs,x as Hn,M as qn,cg as Ws,a9 as js,bs as $l,cA as Us,cB as Ne,bk as Ks,bl as gt,_ as Gs,cC as Qs,cl as Ca,co as zs,bv as Ro,bp as Xs,cD as Zs,br as Js,bt as Ln}from"./index-a0nW5-q0.js";import{_ as eu}from"./BForm.vue_vue_type_script_setup_true_lang-u44ElAm9-jYPc2yQC.js";import{_ as tu}from"./BFormInput.vue_vue_type_script_setup_true_lang-DRDhfD8d-c_1MxI_S.js";import{_ as ru}from"./BBadge.vue_vue_type_script_setup_true_lang-D9DEOOtU-CDukIElk.js";import{_ as nu}from"./BFormRadioGroup.vue_vue_type_script_setup_true_lang-DaMHx4U3-BGnNjbMY.js";import{a as au}from"./BFormCheckboxGroup.vue_vue_type_script_setup_true_lang-Dx_mpGFE-D7XQ6QZw.js";import{d as ou}from"./BFormGroup.vue_vue_type_script_setup_true_lang-RIWLdYTY-DDuDfcTy.js";import{c as lu,f as iu,g as su,b as uu}from"./BCard.vue_vue_type_script_setup_true_lang-9RhyvL8I-BxnXE0xt.js";import{c as cu,_ as du}from"./BDropdownText.vue_vue_type_script_setup_true_lang-Cm6QYE9x-T4tPGD6S.js";import{j as dt,o as fu,l as pu}from"./utils-UTZ1_q7B.js";import{t as ge,c as Be,s as kt,n as hn,m as hu,g as Qr,a as Rl,b as mu,d as vu,e as gu}from"./startOfWeek-m7vVpAR3.js";import{e as Ll}from"./en-US-DRXoBfJp.js";import{L as yu}from"./Loading-Th-QN0E0.js";import{h as wu}from"./helper-CaHhXSPV.js";const bu="\\";function Nr(e){return e.startsWith("\\\\?\\")?e:e.split(bu).join("/")}const xu=/^win/.test(globalThis.process?globalThis.process.platform:""),Wn=()=>xu,ku=/\//g,_u=/^(\w{2,}):\/\//i,Au=/~1/g,Du=/~0/g,Tu=/^[a-zA-Z]:\\/,Mu=[[/\?/g,"%3F"],[/#/g,"%23"]],Sa=[/%23/g,"#",/%24/g,"$",/%26/g,"&",/%2C/g,",",/%40/g,"@"],Un=e=>new URL(e);function Bt(e,t){const r=new URL(Nr(e),"https://aaa.nonexistanturl.com"),n=new URL(Nr(t),r),a=t.match(/(\s*)$/)?.[1]||"";if(n.hostname==="aaa.nonexistanturl.com"){const{pathname:l,search:i,hash:s}=n;return l+i+decodeURIComponent(s)+a}const o=n.toString()+a;if(o.includes("#")){const[l,i]=o.split("#",2);return l+"#"+decodeURIComponent(i||"")}return o}function na(){if(typeof window<"u"&&window.location&&window.location.href){const e=window.location.href;if(!e||!e.startsWith("http"))try{return new URL(e),e}catch{return"/"}return e}if(typeof er<"u"&&er.cwd){const e=er.cwd(),t=e.slice(-1);return t==="/"||t==="\\"?e:e+"/"}return"/"}function Yl(e){const t=_u.exec(e||"");if(t)return t[1].toLowerCase()}function Ou(e){const t=e.lastIndexOf(".");return t>=0?Pu(e.substring(t).toLowerCase()):""}function Pu(e){const t=e.indexOf("?");return t>=0&&(e=e.substring(0,t)),e}function mn(e){if(!e)return"#";const t=e.indexOf("#");return t>=0?e.substring(t):"#"}function bt(e){if(!e)return"";const t=e.indexOf("#");return t>=0&&(e=e.substring(0,t)),e}function Cu(e){const t=Yl(e);return t==="http"||t==="https"?!0:t===void 0?typeof window<"u":!1}function Su(e){if(!e||typeof e!="string")return!0;const t=e.trim().toLowerCase();if(!t||t.startsWith("javascript:")||t.startsWith("vbscript:")||t.startsWith("data:")||t.startsWith("file:"))return!0;if(typeof window<"u"&&window.location&&window.location.href)return!1;const r=["localhost","127.0.0.1","::1","10.","172.16.","172.17.","172.18.","172.19.","172.20.","172.21.","172.22.","172.23.","172.24.","172.25.","172.26.","172.27.","172.28.","172.29.","172.30.","172.31.","192.168.","169.254.",".local",".internal",".intranet",".corp",".home",".lan"];try{const n=new URL(t.startsWith("//")?"http:"+t:t),a=n.hostname.toLowerCase();for(const l of r)if(a===l||a.startsWith(l)||a.endsWith(l))return!0;if(Eu(a))return!0;const o=n.port;if(o&&$u(parseInt(o)))return!0}catch{if(t.startsWith("/")&&!t.startsWith("//"))return!1;for(const n of r)if(t.includes(n))return!0}return!1}function Eu(e){const t=/^(\d{1,3})\.(\d{1,3})\.(\d{1,3})\.(\d{1,3})$/,r=e.match(t);if(!r)return!1;const[,n,a,o,l]=r.map(Number);return n>255||a>255||o>255||l>255?!1:n===10||n===127||n===172&&a>=16&&a<=31||n===192&&a===168||n===169&&a===254}function $u(e){return[22,23,25,53,135,139,445,993,995,1433,1521,3306,3389,5432,5900,6379,8080,8443,9200,27017].includes(e)}function Il(e){if(typeof window<"u"||typeof er<"u"&&er.browser)return!1;const t=Yl(e);return t===void 0||t==="file"}function Ru(e){if(Wn()){const t=na(),r=e.toUpperCase(),a=Nr(t).toUpperCase(),o=r.includes(a),l=r.includes(a),i=Tu.test(e)||e.startsWith("http://")||e.startsWith("https://")||e.startsWith("file://");!(o||l||i)&&!t.startsWith("http")&&(e=((c,f)=>c.endsWith("/")||c.endsWith("\\")?c+f:c+"/"+f)(t,e)),e=Nr(e)}e=encodeURI(e);for(const t of Mu)e=e.replace(t[0],t[1]);return e}function eo(e,t){e=decodeURI(e);for(let n=0;n<Sa.length;n+=2)e=e.replace(Sa[n],Sa[n+1]);let r=e.toLowerCase().startsWith("file://");return r&&(e=e.replace(/^file:\/\//,"").replace(/^\//,""),Wn()&&e[1]==="/"&&(e=`${e[0]}:${e.substring(1)}`),t?e="file:///"+e:(r=!1,e=Wn()?e:"/"+e)),Wn()&&!r&&(e=e.replace(ku,"\\"),e.match(/^[a-z]:\\/i)&&(e=e[0].toUpperCase()+e.substring(1))),e}function Fl(e){return e.length<=1||e[0]!=="#"||e[1]!=="/"?[]:e.slice(2).split("/").map(t=>t.replace(Au,"/").replace(Du,"~"))}const Lu=["function","symbol","undefined"],Yu=["constructor","prototype","__proto__"],Iu=Object.getPrototypeOf({});function Bl(){const e={},t=this;for(const r of Fu(t))if(typeof r=="string"){const n=t[r],a=typeof n;Lu.includes(a)||(e[r]=n)}return e}function Fu(e,t=[]){let r=[];for(;e&&e!==Iu;)r=r.concat(Object.getOwnPropertyNames(e),Object.getOwnPropertySymbols(e)),e=Object.getPrototypeOf(e);const n=new Set(r);for(const a of t.concat(Yu))n.delete(a);return n}class Qt extends Error{name;message;source;path;code;constructor(t,r){super(),this.code="EUNKNOWN",this.name="JSONParserError",this.message=t,this.source=r,this.path=null}toJSON=Bl.bind(this);get footprint(){return`${this.path}+${this.source}+${this.code}+${this.message}`}}class sn extends Error{files;constructor(t){super(),this.files=t,this.name="JSONParserErrorGroup",this.message=`${this.errors.length} error${this.errors.length>1?"s":""} occurred while reading '${eo(t.$refs._root$Ref.path)}'`}toJSON=Bl.bind(this);static getParserErrors(t){const r=[];for(const n of Object.values(t.$refs._$refs))n.errors&&r.push(...n.errors);return r}get errors(){return sn.getParserErrors(this.files)}}class Vr extends Qt{code="EPARSER";name="ParserError";constructor(t,r){super(`Error parsing ${r}: ${t}`,r)}}class Bu extends Qt{code="EUNMATCHEDPARSER";name="UnmatchedParserError";constructor(t){super(`Could not find parser for "${t}"`,t)}}class Hr extends Qt{code="ERESOLVER";name="ResolverError";ioErrorCode;constructor(t,r){super(t.message||`Error reading file "${r}"`,r),"code"in t&&(this.ioErrorCode=String(t.code))}}class Nu extends Qt{code="EUNMATCHEDRESOLVER";name="UnmatchedResolverError";constructor(t){super(`Could not find resolver for "${t}"`,t)}}class Vu extends Qt{code="EMISSINGPOINTER";name="MissingPointerError";targetToken;targetRef;targetFound;parentPath;constructor(t,r,n,a,o){super(`Missing $ref pointer "${mn(r)}". Token "${t}" does not exist.`,bt(r)),this.targetToken=t,this.targetRef=n,this.targetFound=a,this.parentPath=o}}class Hu extends Qt{code="ETIMEOUT";name="TimeoutError";constructor(t){super(`Dereferencing timeout reached: ${t}ms`)}}class Nl extends Qt{code="EUNMATCHEDRESOLVER";name="InvalidPointerError";constructor(t,r){super(`Invalid $ref pointer "${t}". Pointers must begin with "#/"`,bt(r))}}function vn(e){return e instanceof Qt||e instanceof sn}function Lo(e){return e.path===null&&(e.path=[]),e}const Ba=Symbol("null"),qu=/\//g,Wu=/~/g,ju=/~1/g,Uu=/~0/g;class nt{$ref;path;originalPath;value;circular;indirections;constructor(t,r,n){this.$ref=t,this.path=r,this.originalPath=n||r,this.value=void 0,this.circular=!1,this.indirections=0}resolve(t,r,n){const a=nt.parse(this.path,this.originalPath),o=[];this.value=Io(t);for(let l=0;l<a.length;l++){Yn(this,r,n)&&(this.path=nt.join(this.path,a.slice(l)));const i=a[l];if(this.value[i]===void 0||this.value[i]===null&&l===a.length-1){let s=!1;for(let u=a.length-1;u>l;u--){const w=a.slice(l,u+1).join("/");if(this.value[w]!==void 0){this.value=this.value[w],l=u,s=!0;break}}if(s)continue;if(i in this.value&&this.value[i]===null){this.value=Ba;continue}this.value=null;const c=this.$ref.path||"",f=this.path.replace(c,""),m=nt.join("",o),v=n?.replace(c,"");throw new Vu(i,decodeURI(this.originalPath),f,m,v)}else this.value=this.value[i];o.push(i)}return(!this.value||this.value.$ref&&Bt(this.path,this.value.$ref)!==n)&&Yn(this,r,n),this}set(t,r,n){const a=nt.parse(this.path);let o;if(a.length===0)return this.value=r,r;this.value=Io(t);for(let l=0;l<a.length-1;l++)Yn(this,n),o=a[l],this.value&&this.value[o]!==void 0?this.value=this.value[o]:this.value=Yo(this,o,{});return Yn(this,n),o=a[a.length-1],Yo(this,o,r),t}static parse(t,r){const n=mn(t).substring(1);if(!n)return[];const a=n.split("/");for(let o=0;o<a.length;o++)a[o]=a[o].replace(ju,"/").replace(Uu,"~");if(a[0]!=="")throw new Nl(n,r===void 0?t:r);return a.slice(1)}static join(t,r){t.indexOf("#")===-1&&(t+="#"),r=Array.isArray(r)?r:[r];for(let n=0;n<r.length;n++){const a=r[n];t+="/"+a.replace(Wu,"~0").replace(qu,"~1")}return t}}function Yn(e,t,r){if(tt.isAllowed$Ref(e.value,t)){const n=Bt(e.path,e.value.$ref);if(n===e.path&&!Ku(r))e.circular=!0;else{const a=e.$ref.$refs._resolve(n,e.path,t);return a===null?!1:(e.indirections+=a.indirections+1,tt.isExtended$Ref(e.value)?(e.value=tt.dereference(e.value,a.value,t),!1):(e.$ref=a.$ref,e.path=a.path,e.value=a.value,!0))}}}function Yo(e,t,r){if(e.value&&typeof e.value=="object")t==="-"&&Array.isArray(e.value)?e.value.push(r):e.value[t]=r;else throw new Qt(`Error assigning $ref pointer "${e.path}". 
Cannot set "${t}" of a non-object.`);return r}function Io(e){if(vn(e))throw e;return e}function Ku(e){return typeof e=="string"&&nt.parse(e).length==0}class tt{path;value;$refs;pathType;errors=[];constructor(t){this.$refs=t}addError(t){this.errors===void 0&&(this.errors=[]);const r=this.errors.map(({footprint:n})=>n);"errors"in t&&Array.isArray(t.errors)?this.errors.push(...t.errors.map(Lo).filter(({footprint:n})=>!r.includes(n))):(!("footprint"in t)||!r.includes(t.footprint))&&this.errors.push(Lo(t))}exists(t,r){try{return this.resolve(t,r),!0}catch{return!1}}get(t,r){return this.resolve(t,r)?.value}resolve(t,r,n,a){const o=new nt(this,t,n);try{const l=o.resolve(this.value,r,a);return l.value===Ba&&(l.value=null),l}catch(l){if(!r||!r.continueOnError||!vn(l))throw l;return l.path===null&&(l.path=Fl(mn(a))),l instanceof Nl&&(l.source=decodeURI(bt(a))),this.addError(l),null}}set(t,r){const n=new nt(this,t);this.value=n.set(this.value,r),this.value===Ba&&(this.value=null)}static is$Ref(t){return!!t&&typeof t=="object"&&t!==null&&"$ref"in t&&typeof t.$ref=="string"&&t.$ref.length>0}static isExternal$Ref(t){return tt.is$Ref(t)&&t.$ref[0]!=="#"}static isAllowed$Ref(t,r){if(this.is$Ref(t)){if(t.$ref.substring(0,2)==="#/"||t.$ref==="#")return!0;if(t.$ref[0]!=="#"&&(!r||r.resolve?.external))return!0}}static isExtended$Ref(t){return tt.is$Ref(t)&&Object.keys(t).length>1}static dereference(t,r,n){if(r&&typeof r=="object"&&tt.isExtended$Ref(t)){const a={};for(const l of Object.keys(t))l!=="$ref"&&(a[l]=t[l]);const o=n?.dereference?.mergeKeys??!0;for(const l of Object.keys(r)){const i=l;i in a?o&&typeof a[i]=="object"&&a[i]!==null&&typeof r[i]=="object"&&r[i]!==null&&(a[i]=Vl(r[i],a[i])):a[i]=r[i]}return a}else return r}}function Vl(e,t){if(typeof e!="object"||e===null||typeof t!="object"||t===null)return t;const r=Array.isArray(e)?[...e]:{...e};for(const n of Object.keys(t))Array.isArray(t[n])?r[n]=[...t[n]]:typeof t[n]=="object"&&t[n]!==null?r[n]=Vl(e[n],t[n]):r[n]=t[n];return r}class Fo{circular;paths(...t){return Bo(this._$refs,t.flat()).map(n=>Nr(n.decoded))}values(...t){const r=this._$refs;return Bo(r,t.flat()).reduce((a,o)=>(a[Nr(o.decoded)]=r[o.encoded].value,a),{})}exists(t,r){try{return this._resolve(t,"",r),!0}catch{return!1}}get(t,r){return this._resolve(t,"",r).value}set(t,r){const n=Bt(this._root$Ref.path,t),a=bt(n),o=this._$refs[a];if(!o)throw new Error(`Error resolving $ref pointer "${t}". 
"${a}" not found.`);o.set(n,r)}_get$Ref(t){t=Bt(this._root$Ref.path,t);const r=bt(t);return this._$refs[r]}_add(t){const r=bt(t),n=new tt(this);return n.path=r,this._$refs[r]=n,this._root$Ref=this._root$Ref||n,n}_resolve(t,r,n){const a=Bt(this._root$Ref.path,t),o=bt(a),l=this._$refs[o];if(!l)throw new Error(`Error resolving $ref pointer "${t}". 
"${o}" not found.`);return l.resolve(a,n,t,r)}_$refs={};_root$Ref;constructor(){this.circular=!1,this._$refs={},this._root$Ref=null}toJSON=this.values}function Bo(e,t){let r=Object.keys(e);return t=Array.isArray(t[0])?t[0]:Array.prototype.slice.call(t),t.length>0&&t[0]&&(r=r.filter(n=>t.includes(e[n].pathType))),r.map(n=>({encoded:n,decoded:e[n].pathType==="file"?eo(n,!0):n}))}function Hl(e){return Object.keys(e||{}).filter(t=>typeof e[t]=="object").map(t=>(e[t].name=t,e[t]))}function ql(e,t,r,n,a){return e.filter(o=>!!Ul(o,t,r,n,a))}function Wl(e){for(const t of e)t.order=t.order||Number.MAX_SAFE_INTEGER;return e.sort((t,r)=>t.order-r.order)}async function jl(e,t,r,n){let a,o,l=0;return new Promise((i,s)=>{c();function c(){if(a=e[l++],!a)return s(o);try{const u=Ul(a,t,r,f,n);if(u&&typeof u.then=="function")u.then(m,v);else if(u!==void 0)m(u);else if(l===e.length)throw new Error("No promise has been returned or callback has been called.")}catch(u){v(u)}}function f(u,w){u?v(u):m(w)}function m(u){i({plugin:a,result:u})}function v(u){o={plugin:a,error:u},c()}})}function Ul(e,t,r,n,a){const o=e[t];if(typeof o=="function")return o.apply(e,[r,n,a]);if(!n){if(o instanceof RegExp)return o.test(r.url);if(typeof o=="string")return o===r.extension;if(Array.isArray(o))return o.indexOf(r.extension)!==-1}return o}async function Kl(e,t,r){const n=e.indexOf("#");let a="";n>=0&&(a=e.substring(n),e=e.substring(0,n));const o=t._add(e),l={url:e,hash:a,extension:Ou(e)};try{const i=await Gu(l,r,t);o.pathType=i.plugin.name,l.data=i.result;const s=await Qu(l,r,t);return o.value=s.result,s.result}catch(i){throw vn(i)&&(o.value=i),i}}async function Gu(e,t,r){let n=Hl(t.resolve);n=ql(n,"canRead",e,void 0,r),Wl(n);try{return await jl(n,"read",e,r)}catch(a){throw!a&&t.continueOnError?new Nu(e.url):!a||!("error"in a)?new SyntaxError(`Unable to resolve $ref pointer "${e.url}"`):a.error instanceof Hr?a.error:new Hr(a,e.url)}}async function Qu(e,t,r){const n=Hl(t.parse),a=ql(n,"canParse",e),o=a.length>0?a:n;Wl(o);try{const l=await jl(o,"parse",e,r);if(!l.plugin.allowEmpty&&zu(l.result))throw new SyntaxError(`Error parsing "${e.url}" as ${l.plugin.name}. 
Parsed value is empty`);return l}catch(l){throw!l&&t.continueOnError?new Bu(e.url):l&&l.message&&l.message.startsWith("Error parsing")?l:!l||!("error"in l)?new SyntaxError(`Unable to parse ${e.url}`):l.error instanceof Vr?l.error:new Vr(l.error.message,e.url)}}function zu(e){return e===void 0||typeof e=="object"&&Object.keys(e).length===0||typeof e=="string"&&e.trim().length===0||St.isBuffer(e)&&e.length===0}const Xu={order:100,allowEmpty:!0,canParse:".json",allowBOM:!0,async parse(e){let t=e.data;if(St.isBuffer(t)&&(t=t.toString()),typeof t=="string"){if(t.trim().length===0)return;try{return JSON.parse(t)}catch(r){if(this.allowBOM)try{const n=t.indexOf("{");return t=t.slice(n),JSON.parse(t)}catch(n){throw new Vr(n.message,e.url)}throw new Vr(r.message,e.url)}}else return t}};function Gl(e){return typeof e>"u"||e===null}function Zu(e){return typeof e=="object"&&e!==null}function Ju(e){return Array.isArray(e)?e:Gl(e)?[]:[e]}function ec(e,t){var r,n,a,o;if(t)for(o=Object.keys(t),r=0,n=o.length;r<n;r+=1)a=o[r],e[a]=t[a];return e}function tc(e,t){var r="",n;for(n=0;n<t;n+=1)r+=e;return r}function rc(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}var nc=Gl,ac=Zu,oc=Ju,lc=tc,ic=rc,sc=ec,ze={isNothing:nc,isObject:ac,toArray:oc,repeat:lc,isNegativeZero:ic,extend:sc};function Ql(e,t){var r="",n=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(r+='in "'+e.mark.name+'" '),r+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(r+=`

`+e.mark.snippet),n+" "+r):n}function un(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=Ql(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}un.prototype=Object.create(Error.prototype);un.prototype.constructor=un;un.prototype.toString=function(t){return this.name+": "+Ql(this,t)};var it=un;function Ea(e,t,r,n,a){var o="",l="",i=Math.floor(a/2)-1;return n-t>i&&(o=" ... ",t=n-i+o.length),r-n>i&&(l=" ...",r=n+i-l.length),{str:o+e.slice(t,r).replace(/\t/g,"→")+l,pos:n-t+o.length}}function $a(e,t){return ze.repeat(" ",t-e.length)+e}function uc(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),typeof t.indent!="number"&&(t.indent=1),typeof t.linesBefore!="number"&&(t.linesBefore=3),typeof t.linesAfter!="number"&&(t.linesAfter=2);for(var r=/\r?\n|\r|\0/g,n=[0],a=[],o,l=-1;o=r.exec(e.buffer);)a.push(o.index),n.push(o.index+o[0].length),e.position<=o.index&&l<0&&(l=n.length-2);l<0&&(l=n.length-1);var i="",s,c,f=Math.min(e.line+t.linesAfter,a.length).toString().length,m=t.maxLength-(t.indent+f+3);for(s=1;s<=t.linesBefore&&!(l-s<0);s++)c=Ea(e.buffer,n[l-s],a[l-s],e.position-(n[l]-n[l-s]),m),i=ze.repeat(" ",t.indent)+$a((e.line-s+1).toString(),f)+" | "+c.str+`
`+i;for(c=Ea(e.buffer,n[l],a[l],e.position,m),i+=ze.repeat(" ",t.indent)+$a((e.line+1).toString(),f)+" | "+c.str+`
`,i+=ze.repeat("-",t.indent+f+3+c.pos)+`^
`,s=1;s<=t.linesAfter&&!(l+s>=a.length);s++)c=Ea(e.buffer,n[l+s],a[l+s],e.position-(n[l]-n[l+s]),m),i+=ze.repeat(" ",t.indent)+$a((e.line+s+1).toString(),f)+" | "+c.str+`
`;return i.replace(/\n$/,"")}var cc=uc,dc=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],fc=["scalar","sequence","mapping"];function pc(e){var t={};return e!==null&&Object.keys(e).forEach(function(r){e[r].forEach(function(n){t[String(n)]=r})}),t}function hc(e,t){if(t=t||{},Object.keys(t).forEach(function(r){if(dc.indexOf(r)===-1)throw new it('Unknown option "'+r+'" is met in definition of "'+e+'" YAML type.')}),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(r){return r},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=pc(t.styleAliases||null),fc.indexOf(this.kind)===-1)throw new it('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}var rt=hc;function No(e,t){var r=[];return e[t].forEach(function(n){var a=r.length;r.forEach(function(o,l){o.tag===n.tag&&o.kind===n.kind&&o.multi===n.multi&&(a=l)}),r[a]=n}),r}function mc(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},t,r;function n(a){a.multi?(e.multi[a.kind].push(a),e.multi.fallback.push(a)):e[a.kind][a.tag]=e.fallback[a.tag]=a}for(t=0,r=arguments.length;t<r;t+=1)arguments[t].forEach(n);return e}function Na(e){return this.extend(e)}Na.prototype.extend=function(t){var r=[],n=[];if(t instanceof rt)n.push(t);else if(Array.isArray(t))n=n.concat(t);else if(t&&(Array.isArray(t.implicit)||Array.isArray(t.explicit)))t.implicit&&(r=r.concat(t.implicit)),t.explicit&&(n=n.concat(t.explicit));else throw new it("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");r.forEach(function(o){if(!(o instanceof rt))throw new it("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(o.loadKind&&o.loadKind!=="scalar")throw new it("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(o.multi)throw new it("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),n.forEach(function(o){if(!(o instanceof rt))throw new it("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var a=Object.create(Na.prototype);return a.implicit=(this.implicit||[]).concat(r),a.explicit=(this.explicit||[]).concat(n),a.compiledImplicit=No(a,"implicit"),a.compiledExplicit=No(a,"explicit"),a.compiledTypeMap=mc(a.compiledImplicit,a.compiledExplicit),a};var zl=Na,Xl=new rt("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return e!==null?e:""}}),Zl=new rt("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return e!==null?e:[]}}),Jl=new rt("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return e!==null?e:{}}}),ei=new zl({explicit:[Xl,Zl,Jl]});function vc(e){if(e===null)return!0;var t=e.length;return t===1&&e==="~"||t===4&&(e==="null"||e==="Null"||e==="NULL")}function gc(){return null}function yc(e){return e===null}var ti=new rt("tag:yaml.org,2002:null",{kind:"scalar",resolve:vc,construct:gc,predicate:yc,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function wc(e){if(e===null)return!1;var t=e.length;return t===4&&(e==="true"||e==="True"||e==="TRUE")||t===5&&(e==="false"||e==="False"||e==="FALSE")}function bc(e){return e==="true"||e==="True"||e==="TRUE"}function xc(e){return Object.prototype.toString.call(e)==="[object Boolean]"}var ri=new rt("tag:yaml.org,2002:bool",{kind:"scalar",resolve:wc,construct:bc,predicate:xc,represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"});function kc(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function _c(e){return 48<=e&&e<=55}function Ac(e){return 48<=e&&e<=57}function Dc(e){if(e===null)return!1;var t=e.length,r=0,n=!1,a;if(!t)return!1;if(a=e[r],(a==="-"||a==="+")&&(a=e[++r]),a==="0"){if(r+1===t)return!0;if(a=e[++r],a==="b"){for(r++;r<t;r++)if(a=e[r],a!=="_"){if(a!=="0"&&a!=="1")return!1;n=!0}return n&&a!=="_"}if(a==="x"){for(r++;r<t;r++)if(a=e[r],a!=="_"){if(!kc(e.charCodeAt(r)))return!1;n=!0}return n&&a!=="_"}if(a==="o"){for(r++;r<t;r++)if(a=e[r],a!=="_"){if(!_c(e.charCodeAt(r)))return!1;n=!0}return n&&a!=="_"}}if(a==="_")return!1;for(;r<t;r++)if(a=e[r],a!=="_"){if(!Ac(e.charCodeAt(r)))return!1;n=!0}return!(!n||a==="_")}function Tc(e){var t=e,r=1,n;if(t.indexOf("_")!==-1&&(t=t.replace(/_/g,"")),n=t[0],(n==="-"||n==="+")&&(n==="-"&&(r=-1),t=t.slice(1),n=t[0]),t==="0")return 0;if(n==="0"){if(t[1]==="b")return r*parseInt(t.slice(2),2);if(t[1]==="x")return r*parseInt(t.slice(2),16);if(t[1]==="o")return r*parseInt(t.slice(2),8)}return r*parseInt(t,10)}function Mc(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!ze.isNegativeZero(e)}var ni=new rt("tag:yaml.org,2002:int",{kind:"scalar",resolve:Dc,construct:Tc,predicate:Mc,represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),Oc=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function Pc(e){return!(e===null||!Oc.test(e)||e[e.length-1]==="_")}function Cc(e){var t,r;return t=e.replace(/_/g,"").toLowerCase(),r=t[0]==="-"?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),t===".inf"?r===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:t===".nan"?NaN:r*parseFloat(t,10)}var Sc=/^[-+]?[0-9]+e/;function Ec(e,t){var r;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(ze.isNegativeZero(e))return"-0.0";return r=e.toString(10),Sc.test(r)?r.replace("e",".e"):r}function $c(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||ze.isNegativeZero(e))}var ai=new rt("tag:yaml.org,2002:float",{kind:"scalar",resolve:Pc,construct:Cc,predicate:$c,represent:Ec,defaultStyle:"lowercase"}),oi=ei.extend({implicit:[ti,ri,ni,ai]}),li=oi,ii=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),si=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function Rc(e){return e===null?!1:ii.exec(e)!==null||si.exec(e)!==null}function Lc(e){var t,r,n,a,o,l,i,s=0,c=null,f,m,v;if(t=ii.exec(e),t===null&&(t=si.exec(e)),t===null)throw new Error("Date resolve error");if(r=+t[1],n=+t[2]-1,a=+t[3],!t[4])return new Date(Date.UTC(r,n,a));if(o=+t[4],l=+t[5],i=+t[6],t[7]){for(s=t[7].slice(0,3);s.length<3;)s+="0";s=+s}return t[9]&&(f=+t[10],m=+(t[11]||0),c=(f*60+m)*6e4,t[9]==="-"&&(c=-c)),v=new Date(Date.UTC(r,n,a,o,l,i,s)),c&&v.setTime(v.getTime()-c),v}function Yc(e){return e.toISOString()}var ui=new rt("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:Rc,construct:Lc,instanceOf:Date,represent:Yc});function Ic(e){return e==="<<"||e===null}var ci=new rt("tag:yaml.org,2002:merge",{kind:"scalar",resolve:Ic}),to=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function Fc(e){if(e===null)return!1;var t,r,n=0,a=e.length,o=to;for(r=0;r<a;r++)if(t=o.indexOf(e.charAt(r)),!(t>64)){if(t<0)return!1;n+=6}return n%8===0}function Bc(e){var t,r,n=e.replace(/[\r\n=]/g,""),a=n.length,o=to,l=0,i=[];for(t=0;t<a;t++)t%4===0&&t&&(i.push(l>>16&255),i.push(l>>8&255),i.push(l&255)),l=l<<6|o.indexOf(n.charAt(t));return r=a%4*6,r===0?(i.push(l>>16&255),i.push(l>>8&255),i.push(l&255)):r===18?(i.push(l>>10&255),i.push(l>>2&255)):r===12&&i.push(l>>4&255),new Uint8Array(i)}function Nc(e){var t="",r=0,n,a,o=e.length,l=to;for(n=0;n<o;n++)n%3===0&&n&&(t+=l[r>>18&63],t+=l[r>>12&63],t+=l[r>>6&63],t+=l[r&63]),r=(r<<8)+e[n];return a=o%3,a===0?(t+=l[r>>18&63],t+=l[r>>12&63],t+=l[r>>6&63],t+=l[r&63]):a===2?(t+=l[r>>10&63],t+=l[r>>4&63],t+=l[r<<2&63],t+=l[64]):a===1&&(t+=l[r>>2&63],t+=l[r<<4&63],t+=l[64],t+=l[64]),t}function Vc(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}var di=new rt("tag:yaml.org,2002:binary",{kind:"scalar",resolve:Fc,construct:Bc,predicate:Vc,represent:Nc}),Hc=Object.prototype.hasOwnProperty,qc=Object.prototype.toString;function Wc(e){if(e===null)return!0;var t=[],r,n,a,o,l,i=e;for(r=0,n=i.length;r<n;r+=1){if(a=i[r],l=!1,qc.call(a)!=="[object Object]")return!1;for(o in a)if(Hc.call(a,o))if(!l)l=!0;else return!1;if(!l)return!1;if(t.indexOf(o)===-1)t.push(o);else return!1}return!0}function jc(e){return e!==null?e:[]}var fi=new rt("tag:yaml.org,2002:omap",{kind:"sequence",resolve:Wc,construct:jc}),Uc=Object.prototype.toString;function Kc(e){if(e===null)return!0;var t,r,n,a,o,l=e;for(o=new Array(l.length),t=0,r=l.length;t<r;t+=1){if(n=l[t],Uc.call(n)!=="[object Object]"||(a=Object.keys(n),a.length!==1))return!1;o[t]=[a[0],n[a[0]]]}return!0}function Gc(e){if(e===null)return[];var t,r,n,a,o,l=e;for(o=new Array(l.length),t=0,r=l.length;t<r;t+=1)n=l[t],a=Object.keys(n),o[t]=[a[0],n[a[0]]];return o}var pi=new rt("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:Kc,construct:Gc}),Qc=Object.prototype.hasOwnProperty;function zc(e){if(e===null)return!0;var t,r=e;for(t in r)if(Qc.call(r,t)&&r[t]!==null)return!1;return!0}function Xc(e){return e!==null?e:{}}var hi=new rt("tag:yaml.org,2002:set",{kind:"mapping",resolve:zc,construct:Xc}),ro=li.extend({implicit:[ui,ci],explicit:[di,fi,pi,hi]}),nr=Object.prototype.hasOwnProperty,Kn=1,mi=2,vi=3,Gn=4,Ra=1,Zc=2,Vo=3,Jc=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,ed=/[\x85\u2028\u2029]/,td=/[,\[\]\{\}]/,gi=/^(?:!|!!|![a-z\-]+!)$/i,yi=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function Ho(e){return Object.prototype.toString.call(e)}function Nt(e){return e===10||e===13}function fr(e){return e===9||e===32}function ft(e){return e===9||e===32||e===10||e===13}function Cr(e){return e===44||e===91||e===93||e===123||e===125}function rd(e){var t;return 48<=e&&e<=57?e-48:(t=e|32,97<=t&&t<=102?t-97+10:-1)}function nd(e){return e===120?2:e===117?4:e===85?8:0}function ad(e){return 48<=e&&e<=57?e-48:-1}function qo(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"":e===95?" ":e===76?"\u2028":e===80?"\u2029":""}function od(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}function wi(e,t,r){t==="__proto__"?Object.defineProperty(e,t,{configurable:!0,enumerable:!0,writable:!0,value:r}):e[t]=r}var bi=new Array(256),xi=new Array(256);for(var Dr=0;Dr<256;Dr++)bi[Dr]=qo(Dr)?1:0,xi[Dr]=qo(Dr);function ld(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||ro,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function ki(e,t){var r={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return r.snippet=cc(r),new it(t,r)}function de(e,t){throw ki(e,t)}function Qn(e,t){e.onWarning&&e.onWarning.call(null,ki(e,t))}var Wo={YAML:function(t,r,n){var a,o,l;t.version!==null&&de(t,"duplication of %YAML directive"),n.length!==1&&de(t,"YAML directive accepts exactly one argument"),a=/^([0-9]+)\.([0-9]+)$/.exec(n[0]),a===null&&de(t,"ill-formed argument of the YAML directive"),o=parseInt(a[1],10),l=parseInt(a[2],10),o!==1&&de(t,"unacceptable YAML version of the document"),t.version=n[0],t.checkLineBreaks=l<2,l!==1&&l!==2&&Qn(t,"unsupported YAML version of the document")},TAG:function(t,r,n){var a,o;n.length!==2&&de(t,"TAG directive accepts exactly two arguments"),a=n[0],o=n[1],gi.test(a)||de(t,"ill-formed tag handle (first argument) of the TAG directive"),nr.call(t.tagMap,a)&&de(t,'there is a previously declared suffix for "'+a+'" tag handle'),yi.test(o)||de(t,"ill-formed tag prefix (second argument) of the TAG directive");try{o=decodeURIComponent(o)}catch{de(t,"tag prefix is malformed: "+o)}t.tagMap[a]=o}};function rr(e,t,r,n){var a,o,l,i;if(t<r){if(i=e.input.slice(t,r),n)for(a=0,o=i.length;a<o;a+=1)l=i.charCodeAt(a),l===9||32<=l&&l<=1114111||de(e,"expected valid JSON character");else Jc.test(i)&&de(e,"the stream contains non-printable characters");e.result+=i}}function jo(e,t,r,n){var a,o,l,i;for(ze.isObject(r)||de(e,"cannot merge mappings; the provided source object is unacceptable"),a=Object.keys(r),l=0,i=a.length;l<i;l+=1)o=a[l],nr.call(t,o)||(wi(t,o,r[o]),n[o]=!0)}function Sr(e,t,r,n,a,o,l,i,s){var c,f;if(Array.isArray(a))for(a=Array.prototype.slice.call(a),c=0,f=a.length;c<f;c+=1)Array.isArray(a[c])&&de(e,"nested arrays are not supported inside keys"),typeof a=="object"&&Ho(a[c])==="[object Object]"&&(a[c]="[object Object]");if(typeof a=="object"&&Ho(a)==="[object Object]"&&(a="[object Object]"),a=String(a),t===null&&(t={}),n==="tag:yaml.org,2002:merge")if(Array.isArray(o))for(c=0,f=o.length;c<f;c+=1)jo(e,t,o[c],r);else jo(e,t,o,r);else!e.json&&!nr.call(r,a)&&nr.call(t,a)&&(e.line=l||e.line,e.lineStart=i||e.lineStart,e.position=s||e.position,de(e,"duplicated mapping key")),wi(t,a,o),delete r[a];return t}function no(e){var t;t=e.input.charCodeAt(e.position),t===10?e.position++:t===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):de(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function Ge(e,t,r){for(var n=0,a=e.input.charCodeAt(e.position);a!==0;){for(;fr(a);)a===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),a=e.input.charCodeAt(++e.position);if(t&&a===35)do a=e.input.charCodeAt(++e.position);while(a!==10&&a!==13&&a!==0);if(Nt(a))for(no(e),a=e.input.charCodeAt(e.position),n++,e.lineIndent=0;a===32;)e.lineIndent++,a=e.input.charCodeAt(++e.position);else break}return r!==-1&&n!==0&&e.lineIndent<r&&Qn(e,"deficient indentation"),n}function aa(e){var t=e.position,r;return r=e.input.charCodeAt(t),!!((r===45||r===46)&&r===e.input.charCodeAt(t+1)&&r===e.input.charCodeAt(t+2)&&(t+=3,r=e.input.charCodeAt(t),r===0||ft(r)))}function ao(e,t){t===1?e.result+=" ":t>1&&(e.result+=ze.repeat(`
`,t-1))}function id(e,t,r){var n,a,o,l,i,s,c,f,m=e.kind,v=e.result,u;if(u=e.input.charCodeAt(e.position),ft(u)||Cr(u)||u===35||u===38||u===42||u===33||u===124||u===62||u===39||u===34||u===37||u===64||u===96||(u===63||u===45)&&(a=e.input.charCodeAt(e.position+1),ft(a)||r&&Cr(a)))return!1;for(e.kind="scalar",e.result="",o=l=e.position,i=!1;u!==0;){if(u===58){if(a=e.input.charCodeAt(e.position+1),ft(a)||r&&Cr(a))break}else if(u===35){if(n=e.input.charCodeAt(e.position-1),ft(n))break}else{if(e.position===e.lineStart&&aa(e)||r&&Cr(u))break;if(Nt(u))if(s=e.line,c=e.lineStart,f=e.lineIndent,Ge(e,!1,-1),e.lineIndent>=t){i=!0,u=e.input.charCodeAt(e.position);continue}else{e.position=l,e.line=s,e.lineStart=c,e.lineIndent=f;break}}i&&(rr(e,o,l,!1),ao(e,e.line-s),o=l=e.position,i=!1),fr(u)||(l=e.position+1),u=e.input.charCodeAt(++e.position)}return rr(e,o,l,!1),e.result?!0:(e.kind=m,e.result=v,!1)}function sd(e,t){var r,n,a;if(r=e.input.charCodeAt(e.position),r!==39)return!1;for(e.kind="scalar",e.result="",e.position++,n=a=e.position;(r=e.input.charCodeAt(e.position))!==0;)if(r===39)if(rr(e,n,e.position,!0),r=e.input.charCodeAt(++e.position),r===39)n=e.position,e.position++,a=e.position;else return!0;else Nt(r)?(rr(e,n,a,!0),ao(e,Ge(e,!1,t)),n=a=e.position):e.position===e.lineStart&&aa(e)?de(e,"unexpected end of the document within a single quoted scalar"):(e.position++,a=e.position);de(e,"unexpected end of the stream within a single quoted scalar")}function ud(e,t){var r,n,a,o,l,i;if(i=e.input.charCodeAt(e.position),i!==34)return!1;for(e.kind="scalar",e.result="",e.position++,r=n=e.position;(i=e.input.charCodeAt(e.position))!==0;){if(i===34)return rr(e,r,e.position,!0),e.position++,!0;if(i===92){if(rr(e,r,e.position,!0),i=e.input.charCodeAt(++e.position),Nt(i))Ge(e,!1,t);else if(i<256&&bi[i])e.result+=xi[i],e.position++;else if((l=nd(i))>0){for(a=l,o=0;a>0;a--)i=e.input.charCodeAt(++e.position),(l=rd(i))>=0?o=(o<<4)+l:de(e,"expected hexadecimal character");e.result+=od(o),e.position++}else de(e,"unknown escape sequence");r=n=e.position}else Nt(i)?(rr(e,r,n,!0),ao(e,Ge(e,!1,t)),r=n=e.position):e.position===e.lineStart&&aa(e)?de(e,"unexpected end of the document within a double quoted scalar"):(e.position++,n=e.position)}de(e,"unexpected end of the stream within a double quoted scalar")}function cd(e,t){var r=!0,n,a,o,l=e.tag,i,s=e.anchor,c,f,m,v,u,w=Object.create(null),b,x,d,p;if(p=e.input.charCodeAt(e.position),p===91)f=93,u=!1,i=[];else if(p===123)f=125,u=!0,i={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=i),p=e.input.charCodeAt(++e.position);p!==0;){if(Ge(e,!0,t),p=e.input.charCodeAt(e.position),p===f)return e.position++,e.tag=l,e.anchor=s,e.kind=u?"mapping":"sequence",e.result=i,!0;r?p===44&&de(e,"expected the node content, but found ','"):de(e,"missed comma between flow collection entries"),x=b=d=null,m=v=!1,p===63&&(c=e.input.charCodeAt(e.position+1),ft(c)&&(m=v=!0,e.position++,Ge(e,!0,t))),n=e.line,a=e.lineStart,o=e.position,qr(e,t,Kn,!1,!0),x=e.tag,b=e.result,Ge(e,!0,t),p=e.input.charCodeAt(e.position),(v||e.line===n)&&p===58&&(m=!0,p=e.input.charCodeAt(++e.position),Ge(e,!0,t),qr(e,t,Kn,!1,!0),d=e.result),u?Sr(e,i,w,x,b,d,n,a,o):m?i.push(Sr(e,null,w,x,b,d,n,a,o)):i.push(b),Ge(e,!0,t),p=e.input.charCodeAt(e.position),p===44?(r=!0,p=e.input.charCodeAt(++e.position)):r=!1}de(e,"unexpected end of the stream within a flow collection")}function dd(e,t){var r,n,a=Ra,o=!1,l=!1,i=t,s=0,c=!1,f,m;if(m=e.input.charCodeAt(e.position),m===124)n=!1;else if(m===62)n=!0;else return!1;for(e.kind="scalar",e.result="";m!==0;)if(m=e.input.charCodeAt(++e.position),m===43||m===45)Ra===a?a=m===43?Vo:Zc:de(e,"repeat of a chomping mode identifier");else if((f=ad(m))>=0)f===0?de(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):l?de(e,"repeat of an indentation width identifier"):(i=t+f-1,l=!0);else break;if(fr(m)){do m=e.input.charCodeAt(++e.position);while(fr(m));if(m===35)do m=e.input.charCodeAt(++e.position);while(!Nt(m)&&m!==0)}for(;m!==0;){for(no(e),e.lineIndent=0,m=e.input.charCodeAt(e.position);(!l||e.lineIndent<i)&&m===32;)e.lineIndent++,m=e.input.charCodeAt(++e.position);if(!l&&e.lineIndent>i&&(i=e.lineIndent),Nt(m)){s++;continue}if(e.lineIndent<i){a===Vo?e.result+=ze.repeat(`
`,o?1+s:s):a===Ra&&o&&(e.result+=`
`);break}for(n?fr(m)?(c=!0,e.result+=ze.repeat(`
`,o?1+s:s)):c?(c=!1,e.result+=ze.repeat(`
`,s+1)):s===0?o&&(e.result+=" "):e.result+=ze.repeat(`
`,s):e.result+=ze.repeat(`
`,o?1+s:s),o=!0,l=!0,s=0,r=e.position;!Nt(m)&&m!==0;)m=e.input.charCodeAt(++e.position);rr(e,r,e.position,!1)}return!0}function Uo(e,t){var r,n=e.tag,a=e.anchor,o=[],l,i=!1,s;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=o),s=e.input.charCodeAt(e.position);s!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,de(e,"tab characters must not be used in indentation")),!(s!==45||(l=e.input.charCodeAt(e.position+1),!ft(l))));){if(i=!0,e.position++,Ge(e,!0,-1)&&e.lineIndent<=t){o.push(null),s=e.input.charCodeAt(e.position);continue}if(r=e.line,qr(e,t,vi,!1,!0),o.push(e.result),Ge(e,!0,-1),s=e.input.charCodeAt(e.position),(e.line===r||e.lineIndent>t)&&s!==0)de(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break}return i?(e.tag=n,e.anchor=a,e.kind="sequence",e.result=o,!0):!1}function fd(e,t,r){var n,a,o,l,i,s,c=e.tag,f=e.anchor,m={},v=Object.create(null),u=null,w=null,b=null,x=!1,d=!1,p;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=m),p=e.input.charCodeAt(e.position);p!==0;){if(!x&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,de(e,"tab characters must not be used in indentation")),n=e.input.charCodeAt(e.position+1),o=e.line,(p===63||p===58)&&ft(n))p===63?(x&&(Sr(e,m,v,u,w,null,l,i,s),u=w=b=null),d=!0,x=!0,a=!0):x?(x=!1,a=!0):de(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,p=n;else{if(l=e.line,i=e.lineStart,s=e.position,!qr(e,r,mi,!1,!0))break;if(e.line===o){for(p=e.input.charCodeAt(e.position);fr(p);)p=e.input.charCodeAt(++e.position);if(p===58)p=e.input.charCodeAt(++e.position),ft(p)||de(e,"a whitespace character is expected after the key-value separator within a block mapping"),x&&(Sr(e,m,v,u,w,null,l,i,s),u=w=b=null),d=!0,x=!1,a=!1,u=e.tag,w=e.result;else if(d)de(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=c,e.anchor=f,!0}else if(d)de(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=c,e.anchor=f,!0}if((e.line===o||e.lineIndent>t)&&(x&&(l=e.line,i=e.lineStart,s=e.position),qr(e,t,Gn,!0,a)&&(x?w=e.result:b=e.result),x||(Sr(e,m,v,u,w,b,l,i,s),u=w=b=null),Ge(e,!0,-1),p=e.input.charCodeAt(e.position)),(e.line===o||e.lineIndent>t)&&p!==0)de(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return x&&Sr(e,m,v,u,w,null,l,i,s),d&&(e.tag=c,e.anchor=f,e.kind="mapping",e.result=m),d}function pd(e){var t,r=!1,n=!1,a,o,l;if(l=e.input.charCodeAt(e.position),l!==33)return!1;if(e.tag!==null&&de(e,"duplication of a tag property"),l=e.input.charCodeAt(++e.position),l===60?(r=!0,l=e.input.charCodeAt(++e.position)):l===33?(n=!0,a="!!",l=e.input.charCodeAt(++e.position)):a="!",t=e.position,r){do l=e.input.charCodeAt(++e.position);while(l!==0&&l!==62);e.position<e.length?(o=e.input.slice(t,e.position),l=e.input.charCodeAt(++e.position)):de(e,"unexpected end of the stream within a verbatim tag")}else{for(;l!==0&&!ft(l);)l===33&&(n?de(e,"tag suffix cannot contain exclamation marks"):(a=e.input.slice(t-1,e.position+1),gi.test(a)||de(e,"named tag handle cannot contain such characters"),n=!0,t=e.position+1)),l=e.input.charCodeAt(++e.position);o=e.input.slice(t,e.position),td.test(o)&&de(e,"tag suffix cannot contain flow indicator characters")}o&&!yi.test(o)&&de(e,"tag name cannot contain such characters: "+o);try{o=decodeURIComponent(o)}catch{de(e,"tag name is malformed: "+o)}return r?e.tag=o:nr.call(e.tagMap,a)?e.tag=e.tagMap[a]+o:a==="!"?e.tag="!"+o:a==="!!"?e.tag="tag:yaml.org,2002:"+o:de(e,'undeclared tag handle "'+a+'"'),!0}function hd(e){var t,r;if(r=e.input.charCodeAt(e.position),r!==38)return!1;for(e.anchor!==null&&de(e,"duplication of an anchor property"),r=e.input.charCodeAt(++e.position),t=e.position;r!==0&&!ft(r)&&!Cr(r);)r=e.input.charCodeAt(++e.position);return e.position===t&&de(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function md(e){var t,r,n;if(n=e.input.charCodeAt(e.position),n!==42)return!1;for(n=e.input.charCodeAt(++e.position),t=e.position;n!==0&&!ft(n)&&!Cr(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&de(e,"name of an alias node must contain at least one character"),r=e.input.slice(t,e.position),nr.call(e.anchorMap,r)||de(e,'unidentified alias "'+r+'"'),e.result=e.anchorMap[r],Ge(e,!0,-1),!0}function qr(e,t,r,n,a){var o,l,i,s=1,c=!1,f=!1,m,v,u,w,b,x;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,o=l=i=Gn===r||vi===r,n&&Ge(e,!0,-1)&&(c=!0,e.lineIndent>t?s=1:e.lineIndent===t?s=0:e.lineIndent<t&&(s=-1)),s===1)for(;pd(e)||hd(e);)Ge(e,!0,-1)?(c=!0,i=o,e.lineIndent>t?s=1:e.lineIndent===t?s=0:e.lineIndent<t&&(s=-1)):i=!1;if(i&&(i=c||a),(s===1||Gn===r)&&(Kn===r||mi===r?b=t:b=t+1,x=e.position-e.lineStart,s===1?i&&(Uo(e,x)||fd(e,x,b))||cd(e,b)?f=!0:(l&&dd(e,b)||sd(e,b)||ud(e,b)?f=!0:md(e)?(f=!0,(e.tag!==null||e.anchor!==null)&&de(e,"alias node should not have any properties")):id(e,b,Kn===r)&&(f=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):s===0&&(f=i&&Uo(e,x))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&de(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),m=0,v=e.implicitTypes.length;m<v;m+=1)if(w=e.implicitTypes[m],w.resolve(e.result)){e.result=w.construct(e.result),e.tag=w.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if(nr.call(e.typeMap[e.kind||"fallback"],e.tag))w=e.typeMap[e.kind||"fallback"][e.tag];else for(w=null,u=e.typeMap.multi[e.kind||"fallback"],m=0,v=u.length;m<v;m+=1)if(e.tag.slice(0,u[m].tag.length)===u[m].tag){w=u[m];break}w||de(e,"unknown tag !<"+e.tag+">"),e.result!==null&&w.kind!==e.kind&&de(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+w.kind+'", not "'+e.kind+'"'),w.resolve(e.result,e.tag)?(e.result=w.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):de(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||f}function vd(e){var t=e.position,r,n,a,o=!1,l;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(l=e.input.charCodeAt(e.position))!==0&&(Ge(e,!0,-1),l=e.input.charCodeAt(e.position),!(e.lineIndent>0||l!==37));){for(o=!0,l=e.input.charCodeAt(++e.position),r=e.position;l!==0&&!ft(l);)l=e.input.charCodeAt(++e.position);for(n=e.input.slice(r,e.position),a=[],n.length<1&&de(e,"directive name must not be less than one character in length");l!==0;){for(;fr(l);)l=e.input.charCodeAt(++e.position);if(l===35){do l=e.input.charCodeAt(++e.position);while(l!==0&&!Nt(l));break}if(Nt(l))break;for(r=e.position;l!==0&&!ft(l);)l=e.input.charCodeAt(++e.position);a.push(e.input.slice(r,e.position))}l!==0&&no(e),nr.call(Wo,n)?Wo[n](e,n,a):Qn(e,'unknown document directive "'+n+'"')}if(Ge(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,Ge(e,!0,-1)):o&&de(e,"directives end mark is expected"),qr(e,e.lineIndent-1,Gn,!1,!0),Ge(e,!0,-1),e.checkLineBreaks&&ed.test(e.input.slice(t,e.position))&&Qn(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&aa(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,Ge(e,!0,-1));return}if(e.position<e.length-1)de(e,"end of the stream or a document separator is expected");else return}function _i(e,t){e=String(e),t=t||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var r=new ld(e,t),n=e.indexOf("\0");for(n!==-1&&(r.position=n,de(r,"null byte is not allowed in input")),r.input+="\0";r.input.charCodeAt(r.position)===32;)r.lineIndent+=1,r.position+=1;for(;r.position<r.length-1;)vd(r);return r.documents}function gd(e,t,r){t!==null&&typeof t=="object"&&typeof r>"u"&&(r=t,t=null);var n=_i(e,r);if(typeof t!="function")return n;for(var a=0,o=n.length;a<o;a+=1)t(n[a])}function yd(e,t){var r=_i(e,t);if(r.length!==0){if(r.length===1)return r[0];throw new it("expected a single document in the stream, but found more")}}var wd=gd,bd=yd,Ai={loadAll:wd,load:bd},Di=Object.prototype.toString,Ti=Object.prototype.hasOwnProperty,oo=65279,xd=9,cn=10,kd=13,_d=32,Ad=33,Dd=34,Va=35,Td=37,Md=38,Od=39,Pd=42,Mi=44,Cd=45,zn=58,Sd=61,Ed=62,$d=63,Rd=64,Oi=91,Pi=93,Ld=96,Ci=123,Yd=124,Si=125,at={};at[0]="\\0";at[7]="\\a";at[8]="\\b";at[9]="\\t";at[10]="\\n";at[11]="\\v";at[12]="\\f";at[13]="\\r";at[27]="\\e";at[34]='\\"';at[92]="\\\\";at[133]="\\N";at[160]="\\_";at[8232]="\\L";at[8233]="\\P";var Id=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],Fd=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function Bd(e,t){var r,n,a,o,l,i,s;if(t===null)return{};for(r={},n=Object.keys(t),a=0,o=n.length;a<o;a+=1)l=n[a],i=String(t[l]),l.slice(0,2)==="!!"&&(l="tag:yaml.org,2002:"+l.slice(2)),s=e.compiledTypeMap.fallback[l],s&&Ti.call(s.styleAliases,i)&&(i=s.styleAliases[i]),r[l]=i;return r}function Nd(e){var t,r,n;if(t=e.toString(16).toUpperCase(),e<=255)r="x",n=2;else if(e<=65535)r="u",n=4;else if(e<=4294967295)r="U",n=8;else throw new it("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+r+ze.repeat("0",n-t.length)+t}var Vd=1,dn=2;function Hd(e){this.schema=e.schema||ro,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=ze.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=Bd(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType=e.quotingType==='"'?dn:Vd,this.forceQuotes=e.forceQuotes||!1,this.replacer=typeof e.replacer=="function"?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function Ko(e,t){for(var r=ze.repeat(" ",t),n=0,a=-1,o="",l,i=e.length;n<i;)a=e.indexOf(`
`,n),a===-1?(l=e.slice(n),n=i):(l=e.slice(n,a+1),n=a+1),l.length&&l!==`
`&&(o+=r),o+=l;return o}function Ha(e,t){return`
`+ze.repeat(" ",e.indent*t)}function qd(e,t){var r,n,a;for(r=0,n=e.implicitTypes.length;r<n;r+=1)if(a=e.implicitTypes[r],a.resolve(t))return!0;return!1}function Xn(e){return e===_d||e===xd}function fn(e){return 32<=e&&e<=126||161<=e&&e<=55295&&e!==8232&&e!==8233||57344<=e&&e<=65533&&e!==oo||65536<=e&&e<=1114111}function Go(e){return fn(e)&&e!==oo&&e!==kd&&e!==cn}function Qo(e,t,r){var n=Go(e),a=n&&!Xn(e);return(r?n:n&&e!==Mi&&e!==Oi&&e!==Pi&&e!==Ci&&e!==Si)&&e!==Va&&!(t===zn&&!a)||Go(t)&&!Xn(t)&&e===Va||t===zn&&a}function Wd(e){return fn(e)&&e!==oo&&!Xn(e)&&e!==Cd&&e!==$d&&e!==zn&&e!==Mi&&e!==Oi&&e!==Pi&&e!==Ci&&e!==Si&&e!==Va&&e!==Md&&e!==Pd&&e!==Ad&&e!==Yd&&e!==Sd&&e!==Ed&&e!==Od&&e!==Dd&&e!==Td&&e!==Rd&&e!==Ld}function jd(e){return!Xn(e)&&e!==zn}function nn(e,t){var r=e.charCodeAt(t),n;return r>=55296&&r<=56319&&t+1<e.length&&(n=e.charCodeAt(t+1),n>=56320&&n<=57343)?(r-55296)*1024+n-56320+65536:r}function Ei(e){var t=/^\n* /;return t.test(e)}var $i=1,qa=2,Ri=3,Li=4,Or=5;function Ud(e,t,r,n,a,o,l,i){var s,c=0,f=null,m=!1,v=!1,u=n!==-1,w=-1,b=Wd(nn(e,0))&&jd(nn(e,e.length-1));if(t||l)for(s=0;s<e.length;c>=65536?s+=2:s++){if(c=nn(e,s),!fn(c))return Or;b=b&&Qo(c,f,i),f=c}else{for(s=0;s<e.length;c>=65536?s+=2:s++){if(c=nn(e,s),c===cn)m=!0,u&&(v=v||s-w-1>n&&e[w+1]!==" ",w=s);else if(!fn(c))return Or;b=b&&Qo(c,f,i),f=c}v=v||u&&s-w-1>n&&e[w+1]!==" "}return!m&&!v?b&&!l&&!a(e)?$i:o===dn?Or:qa:r>9&&Ei(e)?Or:l?o===dn?Or:qa:v?Li:Ri}function Kd(e,t,r,n,a){e.dump=(function(){if(t.length===0)return e.quotingType===dn?'""':"''";if(!e.noCompatMode&&(Id.indexOf(t)!==-1||Fd.test(t)))return e.quotingType===dn?'"'+t+'"':"'"+t+"'";var o=e.indent*Math.max(1,r),l=e.lineWidth===-1?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-o),i=n||e.flowLevel>-1&&r>=e.flowLevel;function s(c){return qd(e,c)}switch(Ud(t,i,e.indent,l,s,e.quotingType,e.forceQuotes&&!n,a)){case $i:return t;case qa:return"'"+t.replace(/'/g,"''")+"'";case Ri:return"|"+zo(t,e.indent)+Xo(Ko(t,o));case Li:return">"+zo(t,e.indent)+Xo(Ko(Gd(t,l),o));case Or:return'"'+Qd(t)+'"';default:throw new it("impossible error: invalid scalar style")}})()}function zo(e,t){var r=Ei(e)?String(t):"",n=e[e.length-1]===`
`,a=n&&(e[e.length-2]===`
`||e===`
`),o=a?"+":n?"":"-";return r+o+`
`}function Xo(e){return e[e.length-1]===`
`?e.slice(0,-1):e}function Gd(e,t){for(var r=/(\n+)([^\n]*)/g,n=(function(){var c=e.indexOf(`
`);return c=c!==-1?c:e.length,r.lastIndex=c,Zo(e.slice(0,c),t)})(),a=e[0]===`
`||e[0]===" ",o,l;l=r.exec(e);){var i=l[1],s=l[2];o=s[0]===" ",n+=i+(!a&&!o&&s!==""?`
`:"")+Zo(s,t),a=o}return n}function Zo(e,t){if(e===""||e[0]===" ")return e;for(var r=/ [^ ]/g,n,a=0,o,l=0,i=0,s="";n=r.exec(e);)i=n.index,i-a>t&&(o=l>a?l:i,s+=`
`+e.slice(a,o),a=o+1),l=i;return s+=`
`,e.length-a>t&&l>a?s+=e.slice(a,l)+`
`+e.slice(l+1):s+=e.slice(a),s.slice(1)}function Qd(e){for(var t="",r=0,n,a=0;a<e.length;r>=65536?a+=2:a++)r=nn(e,a),n=at[r],!n&&fn(r)?(t+=e[a],r>=65536&&(t+=e[a+1])):t+=n||Nd(r);return t}function zd(e,t,r){var n="",a=e.tag,o,l,i;for(o=0,l=r.length;o<l;o+=1)i=r[o],e.replacer&&(i=e.replacer.call(r,String(o),i)),(Kt(e,t,i,!1,!1)||typeof i>"u"&&Kt(e,t,null,!1,!1))&&(n!==""&&(n+=","+(e.condenseFlow?"":" ")),n+=e.dump);e.tag=a,e.dump="["+n+"]"}function Jo(e,t,r,n){var a="",o=e.tag,l,i,s;for(l=0,i=r.length;l<i;l+=1)s=r[l],e.replacer&&(s=e.replacer.call(r,String(l),s)),(Kt(e,t+1,s,!0,!0,!1,!0)||typeof s>"u"&&Kt(e,t+1,null,!0,!0,!1,!0))&&((!n||a!=="")&&(a+=Ha(e,t)),e.dump&&cn===e.dump.charCodeAt(0)?a+="-":a+="- ",a+=e.dump);e.tag=o,e.dump=a||"[]"}function Xd(e,t,r){var n="",a=e.tag,o=Object.keys(r),l,i,s,c,f;for(l=0,i=o.length;l<i;l+=1)f="",n!==""&&(f+=", "),e.condenseFlow&&(f+='"'),s=o[l],c=r[s],e.replacer&&(c=e.replacer.call(r,s,c)),Kt(e,t,s,!1,!1)&&(e.dump.length>1024&&(f+="? "),f+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),Kt(e,t,c,!1,!1)&&(f+=e.dump,n+=f));e.tag=a,e.dump="{"+n+"}"}function Zd(e,t,r,n){var a="",o=e.tag,l=Object.keys(r),i,s,c,f,m,v;if(e.sortKeys===!0)l.sort();else if(typeof e.sortKeys=="function")l.sort(e.sortKeys);else if(e.sortKeys)throw new it("sortKeys must be a boolean or a function");for(i=0,s=l.length;i<s;i+=1)v="",(!n||a!=="")&&(v+=Ha(e,t)),c=l[i],f=r[c],e.replacer&&(f=e.replacer.call(r,c,f)),Kt(e,t+1,c,!0,!0,!0)&&(m=e.tag!==null&&e.tag!=="?"||e.dump&&e.dump.length>1024,m&&(e.dump&&cn===e.dump.charCodeAt(0)?v+="?":v+="? "),v+=e.dump,m&&(v+=Ha(e,t)),Kt(e,t+1,f,!0,m)&&(e.dump&&cn===e.dump.charCodeAt(0)?v+=":":v+=": ",v+=e.dump,a+=v));e.tag=o,e.dump=a||"{}"}function el(e,t,r){var n,a,o,l,i,s;for(a=r?e.explicitTypes:e.implicitTypes,o=0,l=a.length;o<l;o+=1)if(i=a[o],(i.instanceOf||i.predicate)&&(!i.instanceOf||typeof t=="object"&&t instanceof i.instanceOf)&&(!i.predicate||i.predicate(t))){if(r?i.multi&&i.representName?e.tag=i.representName(t):e.tag=i.tag:e.tag="?",i.represent){if(s=e.styleMap[i.tag]||i.defaultStyle,Di.call(i.represent)==="[object Function]")n=i.represent(t,s);else if(Ti.call(i.represent,s))n=i.represent[s](t,s);else throw new it("!<"+i.tag+'> tag resolver accepts not "'+s+'" style');e.dump=n}return!0}return!1}function Kt(e,t,r,n,a,o,l){e.tag=null,e.dump=r,el(e,r,!1)||el(e,r,!0);var i=Di.call(e.dump),s=n,c;n&&(n=e.flowLevel<0||e.flowLevel>t);var f=i==="[object Object]"||i==="[object Array]",m,v;if(f&&(m=e.duplicates.indexOf(r),v=m!==-1),(e.tag!==null&&e.tag!=="?"||v||e.indent!==2&&t>0)&&(a=!1),v&&e.usedDuplicates[m])e.dump="*ref_"+m;else{if(f&&v&&!e.usedDuplicates[m]&&(e.usedDuplicates[m]=!0),i==="[object Object]")n&&Object.keys(e.dump).length!==0?(Zd(e,t,e.dump,a),v&&(e.dump="&ref_"+m+e.dump)):(Xd(e,t,e.dump),v&&(e.dump="&ref_"+m+" "+e.dump));else if(i==="[object Array]")n&&e.dump.length!==0?(e.noArrayIndent&&!l&&t>0?Jo(e,t-1,e.dump,a):Jo(e,t,e.dump,a),v&&(e.dump="&ref_"+m+e.dump)):(zd(e,t,e.dump),v&&(e.dump="&ref_"+m+" "+e.dump));else if(i==="[object String]")e.tag!=="?"&&Kd(e,e.dump,t,o,s);else{if(i==="[object Undefined]")return!1;if(e.skipInvalid)return!1;throw new it("unacceptable kind of an object to dump "+i)}e.tag!==null&&e.tag!=="?"&&(c=encodeURI(e.tag[0]==="!"?e.tag.slice(1):e.tag).replace(/!/g,"%21"),e.tag[0]==="!"?c="!"+c:c.slice(0,18)==="tag:yaml.org,2002:"?c="!!"+c.slice(18):c="!<"+c+">",e.dump=c+" "+e.dump)}return!0}function Jd(e,t){var r=[],n=[],a,o;for(Wa(e,r,n),a=0,o=n.length;a<o;a+=1)t.duplicates.push(r[n[a]]);t.usedDuplicates=new Array(o)}function Wa(e,t,r){var n,a,o;if(e!==null&&typeof e=="object")if(a=t.indexOf(e),a!==-1)r.indexOf(a)===-1&&r.push(a);else if(t.push(e),Array.isArray(e))for(a=0,o=e.length;a<o;a+=1)Wa(e[a],t,r);else for(n=Object.keys(e),a=0,o=n.length;a<o;a+=1)Wa(e[n[a]],t,r)}function ef(e,t){t=t||{};var r=new Hd(t);r.noRefs||Jd(e,r);var n=e;return r.replacer&&(n=r.replacer.call({"":n},"",n)),Kt(r,0,n,!0,!0)?r.dump+`
`:""}var tf=ef,rf={dump:tf};function lo(e,t){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+t+" instead, which is now safe by default.")}}var nf=rt,af=zl,of=ei,Yi=oi,lf=li,sf=ro,uf=Ai.load,cf=Ai.loadAll,df=rf.dump,ff=it,pf={binary:di,float:ai,map:Jl,null:ti,pairs:pi,set:hi,timestamp:ui,bool:ri,int:ni,merge:ci,omap:fi,seq:Zl,str:Xl},hf=lo("safeLoad","load"),mf=lo("safeLoadAll","loadAll"),vf=lo("safeDump","dump"),tl={Type:nf,Schema:af,FAILSAFE_SCHEMA:of,JSON_SCHEMA:Yi,CORE_SCHEMA:lf,DEFAULT_SCHEMA:sf,load:uf,loadAll:cf,dump:df,YAMLException:ff,types:pf,safeLoad:hf,safeLoadAll:mf,safeDump:vf};const gf={order:200,allowEmpty:!0,canParse:[".yaml",".yml",".json"],async parse(e){let t=e.data;if(St.isBuffer(t)&&(t=t.toString()),typeof t=="string")try{return tl.load(t,{schema:Yi})}catch{try{return tl.load(t)}catch(r){throw new Vr(r?.message||"Parser Error",e.url)}}else return t}},yf=/\.(txt|htm|html|md|xml|js|min|map|css|scss|less|svg)$/i,wf={order:300,allowEmpty:!0,encoding:"utf8",canParse(e){return(typeof e.data=="string"||St.isBuffer(e.data))&&yf.test(e.url)},parse(e){if(typeof e.data=="string")return e.data;if(St.isBuffer(e.data))return e.data.toString(this.encoding);throw new Vr("data is not text",e.url)}},bf=/\.(jpeg|jpg|gif|png|bmp|ico)$/i,xf={order:400,allowEmpty:!0,canParse(e){return St.isBuffer(e.data)&&bf.test(e.url)},parse(e){return St.isBuffer(e.data)?e.data:St.from(e.data)}},kf={order:100,canRead(e){return Il(e.url)},async read(e){let t;const r=await He(()=>import("./__vite-browser-external-B1O5LaIO.js"),[]);try{t=eo(e.url)}catch(n){const a=n;throw a.message=`Malformed URI: ${e.url}: ${a.message}`,new Hr(a,e.url)}(t.endsWith("/")||t.endsWith("\\"))&&(t=t.slice(0,-1));try{return await r.promises.readFile(t)}catch(n){const a=n;throw a.message=`Error opening file ${t}: ${a.message}`,new Hr(a,t)}}},_f={order:200,headers:null,timeout:6e4,redirects:5,withCredentials:!1,safeUrlResolver:!0,canRead(e){return Cu(e.url)&&(!this.safeUrlResolver||!Su(e.url))},read(e){const t=Un(e.url);return typeof window<"u"&&!t.protocol&&(t.protocol=Un(location.href).protocol),Ii(t,this)}};async function Ii(e,t,r){e=Un(e);const n=r||[];n.push(e.href);try{const a=await Af(e,t);if(a.status>=400){const o=new Error(`HTTP ERROR ${a.status}`);throw o.status=a.status,o}else if(a.status>=300)if(!Number.isNaN(t.redirects)&&n.length>t.redirects){const o=new Error(`Error downloading ${n[0]}. 
Too many redirects: 
  ${n.join(` 
  `)}`);throw o.status=a.status,new Hr(o)}else if(!("location"in a.headers)||!a.headers.location){const o=new Error(`HTTP ${a.status} redirect with no location header`);throw o.status=a.status,o}else{const o=Bt(e.href,a.headers.location);return Ii(o,t,n)}else{if(a.body){const o=await a.arrayBuffer();return St.from(o)}return St.alloc(0)}}catch(a){const o=a;throw o.message=`Error downloading ${e.href}: ${o.message}`,new Hr(o,e.href)}}async function Af(e,t){let r,n;t.timeout&&typeof AbortController<"u"&&(r=new AbortController,n=setTimeout(()=>r.abort(),t.timeout));const a=await fetch(e,{method:"GET",headers:t.headers||{},credentials:t.withCredentials?"include":"same-origin",signal:r?r.signal:null});return n&&clearTimeout(n),a}const Df=()=>({parse:{json:{...Xu},yaml:{...gf},text:{...wf},binary:{...xf}},resolve:{file:{...kf},http:{..._f},external:!0},continueOnError:!1,bundle:{excludedPathMatcher:()=>!1},dereference:{circular:!0,excludedPathMatcher:()=>!1,referenceResolution:"relative",mergeKeys:!0},mutateInputSchema:!0}),Tf=e=>{const t=Df();return e&&Fi(t,e),t};function Fi(e,t){if(rl(t)){const r=Object.keys(t).filter(n=>!["__proto__","constructor","prototype"].includes(n));for(let n=0;n<r.length;n++){const a=r[n],o=t[a],l=e[a];rl(o)?e[a]=Fi(l||{},o):o!==void 0&&(e[a]=o)}}return e}function rl(e){return e&&typeof e=="object"&&!Array.isArray(e)&&!(e instanceof RegExp)&&!(e instanceof Date)}function In(e){let t,r,n,a;const o=Array.prototype.slice.call(e);typeof o[o.length-1]=="function"&&(a=o.pop()),typeof o[0]=="string"?(t=o[0],typeof o[2]=="object"?(r=o[1],n=o[2]):(r=void 0,n=o[1])):(t="",r=o[0],n=o[1]);try{n=Tf(n)}catch(l){console.error(`JSON Schema Ref Parser: Error normalizing options: ${l}`)}return!n.mutateInputSchema&&typeof r=="object"&&(r=JSON.parse(JSON.stringify(r))),{path:t,schema:r,options:n,callback:a}}function Mf(e,t){if(!t.resolve?.external)return Promise.resolve();try{const r=io(e.schema,e.$refs._root$Ref.path+"#",e.$refs,t);return Promise.all(r)}catch(r){return Promise.reject(r)}}function io(e,t,r,n,a,o){a||=new Set;let l=[];if(e&&typeof e=="object"&&!ArrayBuffer.isView(e)&&!a.has(e)){a.add(e),tt.isExternal$Ref(e)&&l.push(Of(e,t,r,n));const i=Object.keys(e);for(const s of i){const c=nt.join(t,s),f=e[s];l=l.concat(io(f,c,r,n,a))}}return l}async function Of(e,t,r,n){const a=n.dereference?.externalReferenceResolution==="root",o=Bt(a?na():t,e.$ref),l=bt(o),i=r._$refs[l];if(i)return Promise.resolve(i.value);try{const s=await Kl(o,r,n),c=io(s,l+"#",r,n,new Set,!0);return Promise.all(c)}catch(s){if(!n?.continueOnError||!vn(s))throw s;return r._$refs[l]&&(s.source=decodeURI(bt(t)),s.path=Fl(mn(t))),[]}}function Pf(e,t){const r=[];so(e,"schema",e.$refs._root$Ref.path+"#","#",0,r,e.$refs,t),Cf(r,t)}function so(e,t,r,n,a,o,l,i){const s=t===null?e:e[t],c=i.bundle||{},f=c.excludedPathMatcher||(()=>!1);if(s&&typeof s=="object"&&!ArrayBuffer.isView(s)&&!f(n))if(tt.isAllowed$Ref(s))nl(e,t,r,n,a,o,l,i);else{const m=Object.keys(s).sort((v,u)=>v==="definitions"||v==="$defs"?-1:u==="definitions"||u==="$defs"?1:v.length-u.length);for(const v of m){const u=nt.join(r,v),w=nt.join(n,v),b=s[v];tt.isAllowed$Ref(b)?nl(s,v,r,w,a,o,l,i):so(s,v,u,w,a,o,l,i),b&&typeof b=="object"&&!Array.isArray(b)&&"$ref"in b&&c?.onBundle?.(b.$ref,s[v],s,v)}}}function nl(e,t,r,n,a,o,l,i){const s=t===null?e:e[t],c=Bt(r,s.$ref),f=l._resolve(c,n,i);if(f===null)return;const v=nt.parse(n).length,u=bt(f.path),w=mn(f.path),b=u!==l._root$Ref.path,x=tt.isExtended$Ref(s);a+=f.indirections;const d=Sf(o,e,t);if(d)if(v<d.depth||a<d.indirections)Ef(o,d);else return;o.push({$ref:s,parent:e,key:t,pathFromRoot:n,depth:v,file:u,hash:w,value:f.value,circular:f.circular,extended:x,external:b,indirections:a}),(!d||b)&&so(f.value,null,f.path,n,a+1,o,l,i)}function Cf(e,t){e.sort((o,l)=>{if(o.file!==l.file)return o.file<l.file?-1:1;if(o.hash!==l.hash)return o.hash<l.hash?-1:1;if(o.circular!==l.circular)return o.circular?-1:1;if(o.extended!==l.extended)return o.extended?1:-1;if(o.indirections!==l.indirections)return o.indirections-l.indirections;if(o.depth!==l.depth)return o.depth-l.depth;{const i=Math.max(o.pathFromRoot.lastIndexOf("/definitions"),o.pathFromRoot.lastIndexOf("/$defs")),s=Math.max(l.pathFromRoot.lastIndexOf("/definitions"),l.pathFromRoot.lastIndexOf("/$defs"));return i!==s?s-i:o.pathFromRoot.length-l.pathFromRoot.length}});let r,n,a;for(const o of e)o.external?o.file===r&&o.hash===n?o.$ref.$ref=a:o.file===r&&o.hash.indexOf(n+"/")===0?o.$ref.$ref=nt.join(a,nt.parse(o.hash.replace(n,"#"))):(r=o.file,n=o.hash,a=o.pathFromRoot,o.$ref=o.parent[o.key]=tt.dereference(o.$ref,o.value,t),o.circular&&(o.$ref.$ref=o.pathFromRoot)):o.$ref.$ref=o.hash}function Sf(e,t,r){for(const n of e)if(n&&n.parent===t&&n.key===r)return n}function Ef(e,t){const r=e.indexOf(t);e.splice(r,1)}function $f(e,t){const r=Date.now(),n=uo(e.schema,e.$refs._root$Ref.path,"#",new Set,new Set,new Map,e.$refs,t,r);e.$refs.circular=n.circular,e.schema=n.value}function uo(e,t,r,n,a,o,l,i,s){let c;const f={value:e,circular:!1};ol(s,i);const m=i.dereference||{},v=m.excludedPathMatcher||(()=>!1);if((m?.circular==="ignore"||!a.has(e))&&e&&typeof e=="object"&&!ArrayBuffer.isView(e)&&!v(r)){if(n.add(e),a.add(e),tt.isAllowed$Ref(e,i))c=al(e,t,r,n,a,o,l,i,s),f.circular=c.circular,f.value=c.value;else for(const u of Object.keys(e)){ol(s,i);const w=nt.join(t,u),b=nt.join(r,u);if(v(b))continue;const x=e[u];let d=!1;if(tt.isAllowed$Ref(x,i)){if(c=al(x,w,b,n,a,o,l,i,s),d=c.circular,e[u]!==c.value){const p=new Map;m?.preservedProperties&&typeof e[u]=="object"&&!Array.isArray(e[u])&&m?.preservedProperties.forEach(y=>{y in e[u]&&p.set(y,e[u][y])}),e[u]=c.value,m?.preservedProperties&&p.size&&typeof e[u]=="object"&&!Array.isArray(e[u])&&p.forEach((y,_)=>{e[u][_]=y}),m?.onDereference?.(x.$ref,e[u],e,u)}}else n.has(x)?d=jn(w,l,i):(c=uo(x,w,b,n,a,o,l,i,s),d=c.circular,e[u]!==c.value&&(e[u]=c.value));f.circular=f.circular||d}n.delete(e)}return f}function al(e,t,r,n,a,o,l,i,s){const f=tt.isExternal$Ref(e)&&i?.dereference?.externalReferenceResolution==="root",m=Bt(f?na():t,e.$ref),v=o.get(m);if(v){if(!v.circular){const p=Object.keys(e);if(p.length>1){const y={};for(const _ of p)_!=="$ref"&&!(_ in v.value)&&(y[_]=e[_]);return{circular:v.circular,value:Object.assign({},v.value,y)}}return v}if(typeof v.value=="object"&&"$ref"in v.value&&"$ref"in e){if(v.value.$ref===e.$ref)return jn(t,l,i),v}else return jn(t,l,i),v}const u=l._resolve(m,t,i);if(u===null)return{circular:!1,value:null};const w=u.circular;let b=w||n.has(u.value);b&&jn(t,l,i);let x=tt.dereference(e,u.value,i);if(!b){const p=uo(x,u.path,r,n,a,o,l,i,s);b=p.circular,x=p.value}b&&!w&&i.dereference?.circular==="ignore"&&(x=e),w&&(x.$ref=r);const d={circular:b,value:x};return Object.keys(e).length===1&&o.set(m,d),d}function ol(e,t){if(t&&t.timeoutMs&&Date.now()-e>t.timeoutMs)throw new Hu(t.timeoutMs)}function jn(e,t,r){if(t.circular=!0,r?.dereference?.onCircular?.(e),!r.dereference.circular)throw new ReferenceError(`Circular $ref pointer found at ${e}`);return!0}function Rf(){return typeof er=="object"&&typeof er.nextTick=="function"?er.nextTick:typeof setImmediate=="function"?setImmediate:function(t){setTimeout(t,0)}}const ll=Rf();function Dt(e,t){if(e){t.then(function(r){ll(function(){e(null,r)})},function(r){ll(function(){e(r)})});return}else return t}class Er{schema=null;$refs=new Fo;async parse(){const t=In(arguments);let r;if(!t.path&&!t.schema){const a=new Error(`Expected a file path, URL, or object. Got ${t.path||t.schema}`);return Dt(t.callback,Promise.reject(a))}this.schema=null,this.$refs=new Fo;let n="http";if(Il(t.path))t.path=Ru(t.path),n="file";else if(!t.path&&t.schema&&"$id"in t.schema&&t.schema.$id){const a=Un(t.schema.$id),o=a.port??(a.protocol==="https:"?443:80);t.path=`${a.protocol}//${a.hostname}:${o}`}if(t.path=Bt(na(),t.path),t.schema&&typeof t.schema=="object"){const a=this.$refs._add(t.path);a.value=t.schema,a.pathType=n,r=Promise.resolve(t.schema)}else r=Kl(t.path,this.$refs,t.options);try{const a=await r;if(a!==null&&typeof a=="object"&&!St.isBuffer(a))return this.schema=a,Dt(t.callback,Promise.resolve(this.schema));if(t.options.continueOnError)return this.schema=null,Dt(t.callback,Promise.resolve(this.schema));throw new SyntaxError(`"${this.$refs._root$Ref.path||a}" is not a valid JSON Schema`)}catch(a){return!t.options.continueOnError||!vn(a)?Dt(t.callback,Promise.reject(a)):(this.$refs._$refs[bt(t.path)]&&this.$refs._$refs[bt(t.path)].addError(a),Dt(t.callback,Promise.resolve(null)))}}static parse(){const t=new Er;return t.parse.apply(t,arguments)}async resolve(){const t=In(arguments);try{return await this.parse(t.path,t.schema,t.options),await Mf(this,t.options),La(this),Dt(t.callback,Promise.resolve(this.$refs))}catch(r){return Dt(t.callback,Promise.reject(r))}}static resolve(){const t=new Er;return t.resolve.apply(t,arguments)}static bundle(){const t=new Er;return t.bundle.apply(t,arguments)}async bundle(){const t=In(arguments);try{return await this.resolve(t.path,t.schema,t.options),Pf(this,t.options),La(this),Dt(t.callback,Promise.resolve(this.schema))}catch(r){return Dt(t.callback,Promise.reject(r))}}static dereference(){const t=new Er;return t.dereference.apply(t,arguments)}async dereference(){const t=In(arguments);try{return await this.resolve(t.path,t.schema,t.options),$f(this,t.options),La(this),Dt(t.callback,Promise.resolve(this.schema))}catch(r){return Dt(t.callback,Promise.reject(r))}}}function La(e){if(sn.getParserErrors(e).length>0)throw new sn(e)}const Lf=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const Yf=Object.prototype.toString,If=e=>Yf.call(e)==="[object Object]",Fn=()=>{};function Ya(e){return Array.isArray(e)?e:[e]}function Ff(e,t,r){return st(e,t,{...r,immediate:!0})}const Bi=Lf?window:void 0;function mt(e){var t;const r=tr(e);return(t=r?.$el)!==null&&t!==void 0?t:r}function Yr(...e){const t=(n,a,o,l)=>(n.addEventListener(a,o,l),()=>n.removeEventListener(a,o,l)),r=B(()=>{const n=Ya(tr(e[0])).filter(a=>a!=null);return n.every(a=>typeof a!="string")?n:void 0});return Ff(()=>{var n,a;return[(n=(a=r.value)===null||a===void 0?void 0:a.map(o=>mt(o)))!==null&&n!==void 0?n:[Bi].filter(o=>o!=null),Ya(tr(r.value?e[1]:e[0])),Ya(h(r.value?e[2]:e[1])),tr(r.value?e[3]:e[2])]},([n,a,o,l],i,s)=>{if(!n?.length||!a?.length||!o?.length)return;const c=If(l)?{...l}:l,f=n.flatMap(m=>a.flatMap(v=>o.map(u=>t(m,v,u,c))));s(()=>{f.forEach(m=>m())})},{flush:"post"})}function Bf(e,t,r={}){const{window:n=Bi,ignore:a=[],capture:o=!0,detectIframe:l=!1,controls:i=!1}=r;if(!n)return i?{stop:Fn,cancel:Fn,trigger:Fn}:Fn;let s=!0;const c=x=>tr(a).some(d=>{if(typeof d=="string")return Array.from(n.document.querySelectorAll(d)).some(p=>p===x.target||x.composedPath().includes(p));{const p=mt(d);return p&&(x.target===p||x.composedPath().includes(p))}});function f(x){const d=tr(x);return d&&d.$.subTree.shapeFlag===16}function m(x,d){const p=tr(x),y=p.$.subTree&&p.$.subTree.children;return y==null||!Array.isArray(y)?!1:y.some(_=>_.el===d.target||d.composedPath().includes(_.el))}const v=x=>{const d=mt(e);if(x.target!=null&&!(!(d instanceof Element)&&f(e)&&m(e,x))&&!(!d||d===x.target||x.composedPath().includes(d))){if("detail"in x&&x.detail===0&&(s=!c(x)),!s){s=!0;return}t(x)}};let u=!1;const w=[Yr(n,"click",x=>{u||(u=!0,setTimeout(()=>{u=!1},0),v(x))},{passive:!0,capture:o}),Yr(n,"pointerdown",x=>{const d=mt(e);s=!c(x)&&!!(d&&!x.composedPath().includes(d))},{passive:!0}),l&&Yr(n,"blur",x=>{setTimeout(()=>{var d;const p=mt(e);((d=n.document.activeElement)===null||d===void 0?void 0:d.tagName)==="IFRAME"&&!p?.contains(n.document.activeElement)&&t(x)},0)},{passive:!0})].filter(Boolean),b=()=>w.forEach(x=>x());return i?{stop:b,cancel:()=>{s=!1},trigger:x=>{s=!0,v(x),s=!1}}:b}function Nf(e,t={}){const{threshold:r=50,onSwipe:n,onSwipeEnd:a,onSwipeStart:o,passive:l=!0}=t,i=Br({x:0,y:0}),s=Br({x:0,y:0}),c=B(()=>i.x-s.x),f=B(()=>i.y-s.y),{max:m,abs:v}=Math,u=B(()=>m(v(c.value),v(f.value))>=r),w=Sl(!1),b=B(()=>u.value?v(c.value)>v(f.value)?c.value>0?"left":"right":f.value>0?"up":"down":"none"),x=k=>[k.touches[0].clientX,k.touches[0].clientY],d=(k,P)=>{i.x=k,i.y=P},p=(k,P)=>{s.x=k,s.y=P},y={passive:l,capture:!l},_=k=>{w.value&&a?.(k,b.value),w.value=!1},S=[Yr(e,"touchstart",k=>{if(k.touches.length!==1)return;const[P,C]=x(k);d(P,C),p(P,C),o?.(k)},y),Yr(e,"touchmove",k=>{if(k.touches.length!==1)return;const[P,C]=x(k);p(P,C),y.capture&&!y.passive&&Math.abs(c.value)>Math.abs(f.value)&&k.preventDefault(),!w.value&&u.value&&(w.value=!0),w.value&&n?.(k)},y),Yr(e,["touchend","touchcancel"],_,y)];return{isSwiping:w,direction:b,coordsStart:i,coordsEnd:s,lengthX:c,lengthY:f,stop:()=>S.forEach(k=>k())}}const Wr=Math.min,pr=Math.max,Zn=Math.round,Bn=Math.floor,Vt=e=>({x:e,y:e}),Vf={left:"right",right:"left",bottom:"top",top:"bottom"},Hf={start:"end",end:"start"};function ja(e,t,r){return pr(e,Wr(t,r))}function gn(e,t){return typeof e=="function"?e(t):e}function vr(e){return e.split("-")[0]}function yn(e){return e.split("-")[1]}function Ni(e){return e==="x"?"y":"x"}function co(e){return e==="y"?"height":"width"}const qf=new Set(["top","bottom"]);function Jt(e){return qf.has(vr(e))?"y":"x"}function fo(e){return Ni(Jt(e))}function Wf(e,t,r){r===void 0&&(r=!1);const n=yn(e),a=fo(e),o=co(a);let l=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(l=Jn(l)),[l,Jn(l)]}function jf(e){const t=Jn(e);return[Ua(e),t,Ua(t)]}function Ua(e){return e.replace(/start|end/g,t=>Hf[t])}const il=["left","right"],sl=["right","left"],Uf=["top","bottom"],Kf=["bottom","top"];function Gf(e,t,r){switch(e){case"top":case"bottom":return r?t?sl:il:t?il:sl;case"left":case"right":return t?Uf:Kf;default:return[]}}function Qf(e,t,r,n){const a=yn(e);let o=Gf(vr(e),r==="start",n);return a&&(o=o.map(l=>l+"-"+a),t&&(o=o.concat(o.map(Ua)))),o}function Jn(e){return e.replace(/left|right|bottom|top/g,t=>Vf[t])}function zf(e){return{top:0,right:0,bottom:0,left:0,...e}}function Vi(e){return typeof e!="number"?zf(e):{top:e,right:e,bottom:e,left:e}}function ea(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function ul(e,t,r){let{reference:n,floating:a}=e;const o=Jt(t),l=fo(t),i=co(l),s=vr(t),c=o==="y",f=n.x+n.width/2-a.width/2,m=n.y+n.height/2-a.height/2,v=n[i]/2-a[i]/2;let u;switch(s){case"top":u={x:f,y:n.y-a.height};break;case"bottom":u={x:f,y:n.y+n.height};break;case"right":u={x:n.x+n.width,y:m};break;case"left":u={x:n.x-a.width,y:m};break;default:u={x:n.x,y:n.y}}switch(yn(t)){case"start":u[l]-=v*(r&&c?-1:1);break;case"end":u[l]+=v*(r&&c?-1:1);break}return u}async function Xf(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:o,rects:l,elements:i,strategy:s}=e,{boundary:c="clippingAncestors",rootBoundary:f="viewport",elementContext:m="floating",altBoundary:v=!1,padding:u=0}=gn(t,e),w=Vi(u),x=i[v?m==="floating"?"reference":"floating":m],d=ea(await o.getClippingRect({element:(r=await(o.isElement==null?void 0:o.isElement(x)))==null||r?x:x.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(i.floating)),boundary:c,rootBoundary:f,strategy:s})),p=m==="floating"?{x:n,y:a,width:l.floating.width,height:l.floating.height}:l.reference,y=await(o.getOffsetParent==null?void 0:o.getOffsetParent(i.floating)),_=await(o.isElement==null?void 0:o.isElement(y))?await(o.getScale==null?void 0:o.getScale(y))||{x:1,y:1}:{x:1,y:1},S=ea(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:i,rect:p,offsetParent:y,strategy:s}):p);return{top:(d.top-S.top+w.top)/_.y,bottom:(S.bottom-d.bottom+w.bottom)/_.y,left:(d.left-S.left+w.left)/_.x,right:(S.right-d.right+w.right)/_.x}}const Zf=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:o=[],platform:l}=r,i=o.filter(Boolean),s=await(l.isRTL==null?void 0:l.isRTL(t));let c=await l.getElementRects({reference:e,floating:t,strategy:a}),{x:f,y:m}=ul(c,n,s),v=n,u={},w=0;for(let x=0;x<i.length;x++){var b;const{name:d,fn:p}=i[x],{x:y,y:_,data:S,reset:Y}=await p({x:f,y:m,initialPlacement:n,placement:v,strategy:a,middlewareData:u,rects:c,platform:{...l,detectOverflow:(b=l.detectOverflow)!=null?b:Xf},elements:{reference:e,floating:t}});f=y??f,m=_??m,u={...u,[d]:{...u[d],...S}},Y&&w<=50&&(w++,typeof Y=="object"&&(Y.placement&&(v=Y.placement),Y.rects&&(c=Y.rects===!0?await l.getElementRects({reference:e,floating:t,strategy:a}):Y.rects),{x:f,y:m}=ul(c,v,s)),x=-1)}return{x:f,y:m,placement:v,strategy:a,middlewareData:u}},Jf=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:o,platform:l,elements:i,middlewareData:s}=t,{element:c,padding:f=0}=gn(e,t)||{};if(c==null)return{};const m=Vi(f),v={x:r,y:n},u=fo(a),w=co(u),b=await l.getDimensions(c),x=u==="y",d=x?"top":"left",p=x?"bottom":"right",y=x?"clientHeight":"clientWidth",_=o.reference[w]+o.reference[u]-v[u]-o.floating[w],S=v[u]-o.reference[u],Y=await(l.getOffsetParent==null?void 0:l.getOffsetParent(c));let k=Y?Y[y]:0;(!k||!await(l.isElement==null?void 0:l.isElement(Y)))&&(k=i.floating[y]||o.floating[w]);const P=_/2-S/2,C=k/2-b[w]/2-1,N=Wr(m[d],C),H=Wr(m[p],C),W=N,J=k-b[w]-H,ee=k/2-b[w]/2+P,j=ja(W,ee,J),Q=!s.arrow&&yn(a)!=null&&ee!==j&&o.reference[w]/2-(ee<W?N:H)-b[w]/2<0,L=Q?ee<W?ee-W:ee-J:0;return{[u]:v[u]+L,data:{[u]:j,centerOffset:ee-j-L,...Q&&{alignmentOffset:L}},reset:Q}}}),ep=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:o,rects:l,initialPlacement:i,platform:s,elements:c}=t,{mainAxis:f=!0,crossAxis:m=!0,fallbackPlacements:v,fallbackStrategy:u="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:b=!0,...x}=gn(e,t);if((r=o.arrow)!=null&&r.alignmentOffset)return{};const d=vr(a),p=Jt(i),y=vr(i)===i,_=await(s.isRTL==null?void 0:s.isRTL(c.floating)),S=v||(y||!b?[Jn(i)]:jf(i)),Y=w!=="none";!v&&Y&&S.push(...Qf(i,b,w,_));const k=[i,...S],P=await s.detectOverflow(t,x),C=[];let N=((n=o.flip)==null?void 0:n.overflows)||[];if(f&&C.push(P[d]),m){const ee=Wf(a,l,_);C.push(P[ee[0]],P[ee[1]])}if(N=[...N,{placement:a,overflows:C}],!C.every(ee=>ee<=0)){var H,W;const ee=(((H=o.flip)==null?void 0:H.index)||0)+1,j=k[ee];if(j&&(!(m==="alignment"?p!==Jt(j):!1)||N.every(q=>Jt(q.placement)===p?q.overflows[0]>0:!0)))return{data:{index:ee,overflows:N},reset:{placement:j}};let Q=(W=N.filter(L=>L.overflows[0]<=0).sort((L,q)=>L.overflows[1]-q.overflows[1])[0])==null?void 0:W.placement;if(!Q)switch(u){case"bestFit":{var J;const L=(J=N.filter(q=>{if(Y){const ie=Jt(q.placement);return ie===p||ie==="y"}return!0}).map(q=>[q.placement,q.overflows.filter(ie=>ie>0).reduce((ie,K)=>ie+K,0)]).sort((q,ie)=>q[1]-ie[1])[0])==null?void 0:J[0];L&&(Q=L);break}case"initialPlacement":Q=i;break}if(a!==Q)return{reset:{placement:Q}}}return{}}}},tp=new Set(["left","top"]);async function rp(e,t){const{placement:r,platform:n,elements:a}=e,o=await(n.isRTL==null?void 0:n.isRTL(a.floating)),l=vr(r),i=yn(r),s=Jt(r)==="y",c=tp.has(l)?-1:1,f=o&&s?-1:1,m=gn(t,e);let{mainAxis:v,crossAxis:u,alignmentAxis:w}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return i&&typeof w=="number"&&(u=i==="end"?w*-1:w),s?{x:u*f,y:v*c}:{x:v*c,y:u*f}}const np=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:o,placement:l,middlewareData:i}=t,s=await rp(t,e);return l===((r=i.offset)==null?void 0:r.placement)&&(n=i.arrow)!=null&&n.alignmentOffset?{}:{x:a+s.x,y:o+s.y,data:{...s,placement:l}}}}},ap=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a,platform:o}=t,{mainAxis:l=!0,crossAxis:i=!1,limiter:s={fn:d=>{let{x:p,y}=d;return{x:p,y}}},...c}=gn(e,t),f={x:r,y:n},m=await o.detectOverflow(t,c),v=Jt(vr(a)),u=Ni(v);let w=f[u],b=f[v];if(l){const d=u==="y"?"top":"left",p=u==="y"?"bottom":"right",y=w+m[d],_=w-m[p];w=ja(y,w,_)}if(i){const d=v==="y"?"top":"left",p=v==="y"?"bottom":"right",y=b+m[d],_=b-m[p];b=ja(y,b,_)}const x=s.fn({...t,[u]:w,[v]:b});return{...x,data:{x:x.x-r,y:x.y-n,enabled:{[u]:l,[v]:i}}}}}};function oa(){return typeof window<"u"}function wr(e){return po(e)?(e.nodeName||"").toLowerCase():"#document"}function vt(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function jt(e){var t;return(t=(po(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function po(e){return oa()?e instanceof Node||e instanceof vt(e).Node:!1}function $t(e){return oa()?e instanceof Element||e instanceof vt(e).Element:!1}function qt(e){return oa()?e instanceof HTMLElement||e instanceof vt(e).HTMLElement:!1}function cl(e){return!oa()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof vt(e).ShadowRoot}const op=new Set(["inline","contents"]);function wn(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=Rt(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!op.has(a)}const lp=new Set(["table","td","th"]);function ip(e){return lp.has(wr(e))}const sp=[":popover-open",":modal"];function la(e){return sp.some(t=>{try{return e.matches(t)}catch{return!1}})}const up=["transform","translate","scale","rotate","perspective"],cp=["transform","translate","scale","rotate","perspective","filter"],dp=["paint","layout","strict","content"];function ho(e){const t=mo(),r=$t(e)?Rt(e):e;return up.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||cp.some(n=>(r.willChange||"").includes(n))||dp.some(n=>(r.contain||"").includes(n))}function fp(e){let t=ar(e);for(;qt(t)&&!jr(t);){if(ho(t))return t;if(la(t))return null;t=ar(t)}return null}function mo(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const pp=new Set(["html","body","#document"]);function jr(e){return pp.has(wr(e))}function Rt(e){return vt(e).getComputedStyle(e)}function ia(e){return $t(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ar(e){if(wr(e)==="html")return e;const t=e.assignedSlot||e.parentNode||cl(e)&&e.host||jt(e);return cl(t)?t.host:t}function Hi(e){const t=ar(e);return jr(t)?e.ownerDocument?e.ownerDocument.body:e.body:qt(t)&&wn(t)?t:Hi(t)}function pn(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=Hi(e),o=a===((n=e.ownerDocument)==null?void 0:n.body),l=vt(a);if(o){const i=Ka(l);return t.concat(l,l.visualViewport||[],wn(a)?a:[],i&&r?pn(i):[])}return t.concat(a,pn(a,[],r))}function Ka(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function qi(e){const t=Rt(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=qt(e),o=a?e.offsetWidth:r,l=a?e.offsetHeight:n,i=Zn(r)!==o||Zn(n)!==l;return i&&(r=o,n=l),{width:r,height:n,$:i}}function vo(e){return $t(e)?e:e.contextElement}function Ir(e){const t=vo(e);if(!qt(t))return Vt(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:o}=qi(t);let l=(o?Zn(r.width):r.width)/n,i=(o?Zn(r.height):r.height)/a;return(!l||!Number.isFinite(l))&&(l=1),(!i||!Number.isFinite(i))&&(i=1),{x:l,y:i}}const hp=Vt(0);function Wi(e){const t=vt(e);return!mo()||!t.visualViewport?hp:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function mp(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==vt(e)?!1:t}function gr(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),o=vo(e);let l=Vt(1);t&&(n?$t(n)&&(l=Ir(n)):l=Ir(e));const i=mp(o,r,n)?Wi(o):Vt(0);let s=(a.left+i.x)/l.x,c=(a.top+i.y)/l.y,f=a.width/l.x,m=a.height/l.y;if(o){const v=vt(o),u=n&&$t(n)?vt(n):n;let w=v,b=Ka(w);for(;b&&n&&u!==w;){const x=Ir(b),d=b.getBoundingClientRect(),p=Rt(b),y=d.left+(b.clientLeft+parseFloat(p.paddingLeft))*x.x,_=d.top+(b.clientTop+parseFloat(p.paddingTop))*x.y;s*=x.x,c*=x.y,f*=x.x,m*=x.y,s+=y,c+=_,w=vt(b),b=Ka(w)}}return ea({width:f,height:m,x:s,y:c})}function sa(e,t){const r=ia(e).scrollLeft;return t?t.left+r:gr(jt(e)).left+r}function ji(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-sa(e,r),a=r.top+t.scrollTop;return{x:n,y:a}}function vp(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const o=a==="fixed",l=jt(n),i=t?la(t.floating):!1;if(n===l||i&&o)return r;let s={scrollLeft:0,scrollTop:0},c=Vt(1);const f=Vt(0),m=qt(n);if((m||!m&&!o)&&((wr(n)!=="body"||wn(l))&&(s=ia(n)),qt(n))){const u=gr(n);c=Ir(n),f.x=u.x+n.clientLeft,f.y=u.y+n.clientTop}const v=l&&!m&&!o?ji(l,s):Vt(0);return{width:r.width*c.x,height:r.height*c.y,x:r.x*c.x-s.scrollLeft*c.x+f.x+v.x,y:r.y*c.y-s.scrollTop*c.y+f.y+v.y}}function gp(e){return Array.from(e.getClientRects())}function yp(e){const t=jt(e),r=ia(e),n=e.ownerDocument.body,a=pr(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),o=pr(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let l=-r.scrollLeft+sa(e);const i=-r.scrollTop;return Rt(n).direction==="rtl"&&(l+=pr(t.clientWidth,n.clientWidth)-a),{width:a,height:o,x:l,y:i}}const dl=25;function wp(e,t){const r=vt(e),n=jt(e),a=r.visualViewport;let o=n.clientWidth,l=n.clientHeight,i=0,s=0;if(a){o=a.width,l=a.height;const f=mo();(!f||f&&t==="fixed")&&(i=a.offsetLeft,s=a.offsetTop)}const c=sa(n);if(c<=0){const f=n.ownerDocument,m=f.body,v=getComputedStyle(m),u=f.compatMode==="CSS1Compat"&&parseFloat(v.marginLeft)+parseFloat(v.marginRight)||0,w=Math.abs(n.clientWidth-m.clientWidth-u);w<=dl&&(o-=w)}else c<=dl&&(o+=c);return{width:o,height:l,x:i,y:s}}const bp=new Set(["absolute","fixed"]);function xp(e,t){const r=gr(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,o=qt(e)?Ir(e):Vt(1),l=e.clientWidth*o.x,i=e.clientHeight*o.y,s=a*o.x,c=n*o.y;return{width:l,height:i,x:s,y:c}}function fl(e,t,r){let n;if(t==="viewport")n=wp(e,r);else if(t==="document")n=yp(jt(e));else if($t(t))n=xp(t,r);else{const a=Wi(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return ea(n)}function Ui(e,t){const r=ar(e);return r===t||!$t(r)||jr(r)?!1:Rt(r).position==="fixed"||Ui(r,t)}function kp(e,t){const r=t.get(e);if(r)return r;let n=pn(e,[],!1).filter(i=>$t(i)&&wr(i)!=="body"),a=null;const o=Rt(e).position==="fixed";let l=o?ar(e):e;for(;$t(l)&&!jr(l);){const i=Rt(l),s=ho(l);!s&&i.position==="fixed"&&(a=null),(o?!s&&!a:!s&&i.position==="static"&&!!a&&bp.has(a.position)||wn(l)&&!s&&Ui(e,l))?n=n.filter(f=>f!==l):a=i,l=ar(l)}return t.set(e,n),n}function _p(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const l=[...r==="clippingAncestors"?la(t)?[]:kp(t,this._c):[].concat(r),n],i=l[0],s=l.reduce((c,f)=>{const m=fl(t,f,a);return c.top=pr(m.top,c.top),c.right=Wr(m.right,c.right),c.bottom=Wr(m.bottom,c.bottom),c.left=pr(m.left,c.left),c},fl(t,i,a));return{width:s.right-s.left,height:s.bottom-s.top,x:s.left,y:s.top}}function Ap(e){const{width:t,height:r}=qi(e);return{width:t,height:r}}function Dp(e,t,r){const n=qt(t),a=jt(t),o=r==="fixed",l=gr(e,!0,o,t);let i={scrollLeft:0,scrollTop:0};const s=Vt(0);function c(){s.x=sa(a)}if(n||!n&&!o)if((wr(t)!=="body"||wn(a))&&(i=ia(t)),n){const u=gr(t,!0,o,t);s.x=u.x+t.clientLeft,s.y=u.y+t.clientTop}else a&&c();o&&!n&&a&&c();const f=a&&!n&&!o?ji(a,i):Vt(0),m=l.left+i.scrollLeft-s.x-f.x,v=l.top+i.scrollTop-s.y-f.y;return{x:m,y:v,width:l.width,height:l.height}}function Ia(e){return Rt(e).position==="static"}function pl(e,t){if(!qt(e)||Rt(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return jt(e)===r&&(r=r.ownerDocument.body),r}function Ki(e,t){const r=vt(e);if(la(e))return r;if(!qt(e)){let a=ar(e);for(;a&&!jr(a);){if($t(a)&&!Ia(a))return a;a=ar(a)}return r}let n=pl(e,t);for(;n&&ip(n)&&Ia(n);)n=pl(n,t);return n&&jr(n)&&Ia(n)&&!ho(n)?r:n||fp(e)||r}const Tp=async function(e){const t=this.getOffsetParent||Ki,r=this.getDimensions,n=await r(e.floating);return{reference:Dp(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Mp(e){return Rt(e).direction==="rtl"}const Op={convertOffsetParentRelativeRectToViewportRelativeRect:vp,getDocumentElement:jt,getClippingRect:_p,getOffsetParent:Ki,getElementRects:Tp,getClientRects:gp,getDimensions:Ap,getScale:Ir,isElement:$t,isRTL:Mp};function Gi(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Pp(e,t){let r=null,n;const a=jt(e);function o(){var i;clearTimeout(n),(i=r)==null||i.disconnect(),r=null}function l(i,s){i===void 0&&(i=!1),s===void 0&&(s=1),o();const c=e.getBoundingClientRect(),{left:f,top:m,width:v,height:u}=c;if(i||t(),!v||!u)return;const w=Bn(m),b=Bn(a.clientWidth-(f+v)),x=Bn(a.clientHeight-(m+u)),d=Bn(f),y={rootMargin:-w+"px "+-b+"px "+-x+"px "+-d+"px",threshold:pr(0,Wr(1,s))||1};let _=!0;function S(Y){const k=Y[0].intersectionRatio;if(k!==s){if(!_)return l();k?l(!1,k):n=setTimeout(()=>{l(!1,1e-7)},1e3)}k===1&&!Gi(c,e.getBoundingClientRect())&&l(),_=!1}try{r=new IntersectionObserver(S,{...y,root:a.ownerDocument})}catch{r=new IntersectionObserver(S,y)}r.observe(e)}return l(!0),o}function Cp(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:o=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:i=typeof IntersectionObserver=="function",animationFrame:s=!1}=n,c=vo(e),f=a||o?[...c?pn(c):[],...pn(t)]:[];f.forEach(d=>{a&&d.addEventListener("scroll",r,{passive:!0}),o&&d.addEventListener("resize",r)});const m=c&&i?Pp(c,r):null;let v=-1,u=null;l&&(u=new ResizeObserver(d=>{let[p]=d;p&&p.target===c&&u&&(u.unobserve(t),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var y;(y=u)==null||y.observe(t)})),r()}),c&&!s&&u.observe(c),u.observe(t));let w,b=s?gr(e):null;s&&x();function x(){const d=gr(e);b&&!Gi(b,d)&&r(),b=d,w=requestAnimationFrame(x)}return r(),()=>{var d;f.forEach(p=>{a&&p.removeEventListener("scroll",r),o&&p.removeEventListener("resize",r)}),m?.(),(d=u)==null||d.disconnect(),u=null,s&&cancelAnimationFrame(w)}}const Sp=np,Ep=ap,$p=ep,Rp=Jf,Lp=(e,t,r)=>{const n=new Map,a={platform:Op,...r},o={...a.platform,_c:n};return Zf(e,t,{...a,platform:o})};function Yp(e){return e!=null&&typeof e=="object"&&"$el"in e}function Ga(e){if(Yp(e)){const t=e.$el;return po(t)&&wr(t)==="#comment"?null:t}return e}function Pr(e){return typeof e=="function"?e():h(e)}function Ip(e){return{name:"arrow",options:e,fn(t){const r=Ga(Pr(e.element));return r==null?{}:Rp({element:r,padding:e.padding}).fn(t)}}}function Qi(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function hl(e,t){const r=Qi(e);return Math.round(t*r)/r}function Fp(e,t,r){r===void 0&&(r={});const n=r.whileElementsMounted,a=B(()=>{var k;return(k=Pr(r.open))!=null?k:!0}),o=B(()=>Pr(r.middleware)),l=B(()=>{var k;return(k=Pr(r.placement))!=null?k:"bottom"}),i=B(()=>{var k;return(k=Pr(r.strategy))!=null?k:"absolute"}),s=B(()=>{var k;return(k=Pr(r.transform))!=null?k:!0}),c=B(()=>Ga(e.value)),f=B(()=>Ga(t.value)),m=ue(0),v=ue(0),u=ue(i.value),w=ue(l.value),b=Sl({}),x=ue(!1),d=B(()=>{const k={position:u.value,left:"0",top:"0"};if(!f.value)return k;const P=hl(f.value,m.value),C=hl(f.value,v.value);return s.value?{...k,transform:"translate("+P+"px, "+C+"px)",...Qi(f.value)>=1.5&&{willChange:"transform"}}:{position:u.value,left:P+"px",top:C+"px"}});let p;function y(){if(c.value==null||f.value==null)return;const k=a.value;Lp(c.value,f.value,{middleware:o.value,placement:l.value,strategy:i.value}).then(P=>{m.value=P.x,v.value=P.y,u.value=P.strategy,w.value=P.placement,b.value=P.middlewareData,x.value=k!==!1})}function _(){typeof p=="function"&&(p(),p=void 0)}function S(){if(_(),n===void 0){y();return}if(c.value!=null&&f.value!=null){p=n(c.value,f.value,y);return}}function Y(){a.value||(x.value=!1)}return st([o,l,i,a],y,{flush:"sync"}),st([c,f],S,{flush:"sync"}),st(a,Y,{flush:"sync"}),Fs()&&Bs(_),{x:Ar(m),y:Ar(v),strategy:Ar(u),placement:Ar(w),middlewareData:Ar(b),isPositioned:Ar(x),floatingStyles:d,update:y}}function wt(e,t,r){const n=ge(e,r?.in);return isNaN(t)?Be(r?.in||e,NaN):(t&&n.setDate(n.getDate()+t),n)}function Ct(e,t,r){const n=ge(e,r?.in);if(isNaN(t))return Be(e,NaN);if(!t)return n;const a=n.getDate(),o=Be(e,n.getTime());o.setMonth(n.getMonth()+t+1,0);const l=o.getDate();return a>=l?o:(n.setFullYear(o.getFullYear(),o.getMonth(),a),n)}function zi(e,t,r){const{years:n=0,months:a=0,weeks:o=0,days:l=0,hours:i=0,minutes:s=0,seconds:c=0}=t,f=ge(e,r?.in),m=a||n?Ct(f,a+n*12):f,v=l||o?wt(m,l+o*7):m,u=s+i*60,b=(c+u*60)*1e3;return Be(e,+v+b)}function Ur(e,t){return kt(e,{...t,weekStartsOn:1})}function Xi(e,t){const r=ge(e,t?.in),n=r.getFullYear(),a=Be(r,0);a.setFullYear(n+1,0,4),a.setHours(0,0,0,0);const o=Ur(a),l=Be(r,0);l.setFullYear(n,0,4),l.setHours(0,0,0,0);const i=Ur(l);return r.getTime()>=o.getTime()?n+1:r.getTime()>=i.getTime()?n:n-1}function ta(e){const t=ge(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function ml(e,t){const r=ge(e,t?.in);return r.setHours(0,0,0,0),r}function Zi(e,t,r){const[n,a]=hn(r?.in,e,t),o=ml(n),l=ml(a),i=+o-ta(o),s=+l-ta(l);return Math.round((i-s)/hu)}function Bp(e,t){const r=Xi(e,t),n=Be(e,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),Ur(n)}function Np(e,t,r){return Ct(e,t*3,r)}function go(e,t,r){return Ct(e,t*12,r)}function vl(e,t){const r=+ge(e)-+ge(t);return r<0?-1:r>0?1:r}function Ji(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function on(e){return!(!Ji(e)&&typeof e!="number"||isNaN(+ge(e)))}function gl(e,t){const r=ge(e,t?.in);return Math.trunc(r.getMonth()/3)+1}function Vp(e,t,r){const[n,a]=hn(r?.in,e,t);return n.getFullYear()-a.getFullYear()}function Hp(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function qp(e,t,r){const[n,a]=hn(r?.in,e,t),o=vl(n,a),l=Math.abs(Vp(n,a));n.setFullYear(1584),a.setFullYear(1584);const i=vl(n,a)===-o,s=o*(l-+i);return s===0?0:s}function es(e,t){const[r,n]=hn(e,t.start,t.end);return{start:r,end:n}}function yo(e,t){const{start:r,end:n}=es(t?.in,e);let a=+r>+n;const o=a?+r:+n,l=a?n:r;l.setHours(0,0,0,0);let i=1;const s=[];for(;+l<=o;)s.push(Be(r,l)),l.setDate(l.getDate()+i),l.setHours(0,0,0,0);return a?s.reverse():s}function cr(e,t){const r=ge(e,t?.in),n=r.getMonth(),a=n-n%3;return r.setMonth(a,1),r.setHours(0,0,0,0),r}function Wp(e,t){const{start:r,end:n}=es(t?.in,e);let a=+r>+n;const o=a?+cr(r):+cr(n);let l=cr(a?n:r),i=1;const s=[];for(;+l<=o;)s.push(Be(r,l)),l=Np(l,i);return a?s.reverse():s}function jp(e,t){const r=ge(e,t?.in);return r.setDate(1),r.setHours(0,0,0,0),r}function ts(e,t){const r=ge(e,t?.in),n=r.getFullYear();return r.setFullYear(n+1,0,0),r.setHours(23,59,59,999),r}function Fr(e,t){const r=ge(e,t?.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}function wo(e,t){const r=Qr(),n=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,a=ge(e,t?.in),o=a.getDay(),l=(o<n?-7:0)+6-(o-n);return a.setDate(a.getDate()+l),a.setHours(23,59,59,999),a}function yl(e,t){const r=ge(e,t?.in),n=r.getMonth(),a=n-n%3+3;return r.setMonth(a,0),r.setHours(23,59,59,999),r}function Up(e,t){const r=ge(e,t?.in);return Zi(r,Fr(r))+1}function bo(e,t){const r=ge(e,t?.in),n=+Ur(r)-+Bp(r);return Math.round(n/Rl)+1}function xo(e,t){const r=ge(e,t?.in),n=r.getFullYear(),a=Qr(),o=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,l=Be(t?.in||e,0);l.setFullYear(n+1,0,o),l.setHours(0,0,0,0);const i=kt(l,t),s=Be(t?.in||e,0);s.setFullYear(n,0,o),s.setHours(0,0,0,0);const c=kt(s,t);return+r>=+i?n+1:+r>=+c?n:n-1}function Kp(e,t){const r=Qr(),n=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,a=xo(e,t),o=Be(t?.in||e,0);return o.setFullYear(a,0,n),o.setHours(0,0,0,0),kt(o,t)}function ko(e,t){const r=ge(e,t?.in),n=+kt(r,t)-+Kp(r,t);return Math.round(n/Rl)+1}function Le(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Zt={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Le(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Le(r+1,2)},d(e,t){return Le(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Le(e.getHours()%12||12,t.length)},H(e,t){return Le(e.getHours(),t.length)},m(e,t){return Le(e.getMinutes(),t.length)},s(e,t){return Le(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return Le(a,t.length)}},Tr={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wl={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return Zt.y(e,t)},Y:function(e,t,r,n){const a=xo(e,n),o=a>0?a:1-a;if(t==="YY"){const l=o%100;return Le(l,2)}return t==="Yo"?r.ordinalNumber(o,{unit:"year"}):Le(o,t.length)},R:function(e,t){const r=Xi(e);return Le(r,t.length)},u:function(e,t){const r=e.getFullYear();return Le(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Le(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Le(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Zt.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Le(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=ko(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):Le(a,t.length)},I:function(e,t,r){const n=bo(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Le(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Zt.d(e,t)},D:function(e,t,r){const n=Up(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Le(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),o=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return Le(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),o=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return Le(o,t.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return Le(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=Tr.noon:n===0?a=Tr.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=Tr.evening:n>=12?a=Tr.afternoon:n>=4?a=Tr.morning:a=Tr.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Zt.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Zt.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Le(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Le(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Zt.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Zt.s(e,t)},S:function(e,t){return Zt.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return xl(n);case"XXXX":case"XX":return ur(n);default:return ur(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return xl(n);case"xxxx":case"xx":return ur(n);default:return ur(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+bl(n,":");default:return"GMT"+ur(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+bl(n,":");default:return"GMT"+ur(n,":")}},t:function(e,t,r){const n=Math.trunc(+e/1e3);return Le(n,t.length)},T:function(e,t,r){return Le(+e,t.length)}};function bl(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),o=n%60;return o===0?r+String(a):r+String(a)+t+Le(o,2)}function xl(e,t){return e%60===0?(e>0?"-":"+")+Le(Math.abs(e)/60,2):ur(e,t)}function ur(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Le(Math.trunc(n/60),2),o=Le(n%60,2);return r+a+t+o}const kl=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},rs=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},Gp=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return kl(e,t);let o;switch(n){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",kl(n,t)).replace("{{time}}",rs(a,t))},Qa={p:rs,P:Gp},Qp=/^D+$/,zp=/^Y+$/,Xp=["D","DD","YY","YYYY"];function ns(e){return Qp.test(e)}function as(e){return zp.test(e)}function za(e,t,r){const n=Zp(e,t,r);if(console.warn(n),Xp.includes(e))throw new RangeError(n)}function Zp(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Jp=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,eh=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,th=/^'([^]*?)'?$/,rh=/''/g,nh=/[a-zA-Z]/;function yt(e,t,r){const n=Qr(),a=r?.locale??n.locale??Ll,o=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,l=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=ge(e,r?.in);if(!on(i))throw new RangeError("Invalid time value");let s=t.match(eh).map(f=>{const m=f[0];if(m==="p"||m==="P"){const v=Qa[m];return v(f,a.formatLong)}return f}).join("").match(Jp).map(f=>{if(f==="''")return{isToken:!1,value:"'"};const m=f[0];if(m==="'")return{isToken:!1,value:ah(f)};if(wl[m])return{isToken:!0,value:f};if(m.match(nh))throw new RangeError("Format string contains an unescaped latin alphabet character `"+m+"`");return{isToken:!1,value:f}});a.localize.preprocessor&&(s=a.localize.preprocessor(i,s));const c={firstWeekContainsDate:o,weekStartsOn:l,locale:a};return s.map(f=>{if(!f.isToken)return f.value;const m=f.value;(!r?.useAdditionalWeekYearTokens&&as(m)||!r?.useAdditionalDayOfYearTokens&&ns(m))&&za(m,t,String(e));const v=wl[m[0]];return v(i,m,a.localize,c)}).join("")}function ah(e){const t=e.match(th);return t?t[1].replace(rh,"'"):e}function oh(e,t){return ge(e,t?.in).getDay()}function lh(e,t){const r=ge(e,t?.in),n=r.getFullYear(),a=r.getMonth(),o=Be(r,0);return o.setFullYear(n,a+1,0),o.setHours(0,0,0,0),o.getDate()}function ih(){return Object.assign({},Qr())}function Wt(e,t){return ge(e,t?.in).getHours()}function sh(e,t){const r=ge(e,t?.in).getDay();return r===0?7:r}function Gt(e,t){return ge(e,t?.in).getMinutes()}function Pe(e,t){return ge(e,t?.in).getMonth()}function or(e){return ge(e).getSeconds()}function ye(e,t){return ge(e,t?.in).getFullYear()}function It(e,t){return+ge(e)>+ge(t)}function Ut(e,t){return+ge(e)<+ge(t)}function $r(e,t){return+ge(e)==+ge(t)}function uh(e,t){const r=ch(t)?new t(0):Be(t,0);return r.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),r.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),r}function ch(e){return typeof e=="function"&&e.prototype?.constructor===e}const dh=10;class os{subPriority=0;validate(t,r){return!0}}class fh extends os{constructor(t,r,n,a,o){super(),this.value=t,this.validateValue=r,this.setValue=n,this.priority=a,o&&(this.subPriority=o)}validate(t,r){return this.validateValue(t,this.value,r)}set(t,r,n){return this.setValue(t,r,this.value,n)}}class ph extends os{priority=dh;subPriority=-1;constructor(t,r){super(),this.context=t||(n=>Be(r,n))}set(t,r){return r.timestampIsSet?t:Be(t,uh(t,this.context))}}class Re{run(t,r,n,a){const o=this.parse(t,r,n,a);return o?{setter:new fh(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}validate(t,r,n){return!0}}class hh extends Re{priority=140;parse(t,r,n){switch(r){case"G":case"GG":case"GGG":return n.era(t,{width:"abbreviated"})||n.era(t,{width:"narrow"});case"GGGGG":return n.era(t,{width:"narrow"});default:return n.era(t,{width:"wide"})||n.era(t,{width:"abbreviated"})||n.era(t,{width:"narrow"})}}set(t,r,n){return r.era=n,t.setFullYear(n,0,1),t.setHours(0,0,0,0),t}incompatibleTokens=["R","u","t","T"]}const Ue={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Lt={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Ke(e,t){return e&&{value:t(e.value),rest:e.rest}}function qe(e,t){const r=t.match(e);return r?{value:parseInt(r[0],10),rest:t.slice(r[0].length)}:null}function Yt(e,t){const r=t.match(e);if(!r)return null;if(r[0]==="Z")return{value:0,rest:t.slice(1)};const n=r[1]==="+"?1:-1,a=r[2]?parseInt(r[2],10):0,o=r[3]?parseInt(r[3],10):0,l=r[5]?parseInt(r[5],10):0;return{value:n*(a*mu+o*vu+l*gu),rest:t.slice(r[0].length)}}function ls(e){return qe(Ue.anyDigitsSigned,e)}function je(e,t){switch(e){case 1:return qe(Ue.singleDigit,t);case 2:return qe(Ue.twoDigits,t);case 3:return qe(Ue.threeDigits,t);case 4:return qe(Ue.fourDigits,t);default:return qe(new RegExp("^\\d{1,"+e+"}"),t)}}function ra(e,t){switch(e){case 1:return qe(Ue.singleDigitSigned,t);case 2:return qe(Ue.twoDigitsSigned,t);case 3:return qe(Ue.threeDigitsSigned,t);case 4:return qe(Ue.fourDigitsSigned,t);default:return qe(new RegExp("^-?\\d{1,"+e+"}"),t)}}function _o(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;default:return 0}}function is(e,t){const r=t>0,n=r?t:1-t;let a;if(n<=50)a=e||100;else{const o=n+50,l=Math.trunc(o/100)*100,i=e>=o%100;a=e+l-(i?100:0)}return r?a:1-a}function ss(e){return e%400===0||e%4===0&&e%100!==0}class mh extends Re{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(t,r,n){const a=o=>({year:o,isTwoDigitYear:r==="yy"});switch(r){case"y":return Ke(je(4,t),a);case"yo":return Ke(n.ordinalNumber(t,{unit:"year"}),a);default:return Ke(je(r.length,t),a)}}validate(t,r){return r.isTwoDigitYear||r.year>0}set(t,r,n){const a=t.getFullYear();if(n.isTwoDigitYear){const l=is(n.year,a);return t.setFullYear(l,0,1),t.setHours(0,0,0,0),t}const o=!("era"in r)||r.era===1?n.year:1-n.year;return t.setFullYear(o,0,1),t.setHours(0,0,0,0),t}}class vh extends Re{priority=130;parse(t,r,n){const a=o=>({year:o,isTwoDigitYear:r==="YY"});switch(r){case"Y":return Ke(je(4,t),a);case"Yo":return Ke(n.ordinalNumber(t,{unit:"year"}),a);default:return Ke(je(r.length,t),a)}}validate(t,r){return r.isTwoDigitYear||r.year>0}set(t,r,n,a){const o=xo(t,a);if(n.isTwoDigitYear){const i=is(n.year,o);return t.setFullYear(i,0,a.firstWeekContainsDate),t.setHours(0,0,0,0),kt(t,a)}const l=!("era"in r)||r.era===1?n.year:1-n.year;return t.setFullYear(l,0,a.firstWeekContainsDate),t.setHours(0,0,0,0),kt(t,a)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]}class gh extends Re{priority=130;parse(t,r){return ra(r==="R"?4:r.length,t)}set(t,r,n){const a=Be(t,0);return a.setFullYear(n,0,4),a.setHours(0,0,0,0),Ur(a)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]}class yh extends Re{priority=130;parse(t,r){return ra(r==="u"?4:r.length,t)}set(t,r,n){return t.setFullYear(n,0,1),t.setHours(0,0,0,0),t}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]}class wh extends Re{priority=120;parse(t,r,n){switch(r){case"Q":case"QQ":return je(r.length,t);case"Qo":return n.ordinalNumber(t,{unit:"quarter"});case"QQQ":return n.quarter(t,{width:"abbreviated",context:"formatting"})||n.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return n.quarter(t,{width:"narrow",context:"formatting"});default:return n.quarter(t,{width:"wide",context:"formatting"})||n.quarter(t,{width:"abbreviated",context:"formatting"})||n.quarter(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=1&&r<=4}set(t,r,n){return t.setMonth((n-1)*3,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]}class bh extends Re{priority=120;parse(t,r,n){switch(r){case"q":case"qq":return je(r.length,t);case"qo":return n.ordinalNumber(t,{unit:"quarter"});case"qqq":return n.quarter(t,{width:"abbreviated",context:"standalone"})||n.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return n.quarter(t,{width:"narrow",context:"standalone"});default:return n.quarter(t,{width:"wide",context:"standalone"})||n.quarter(t,{width:"abbreviated",context:"standalone"})||n.quarter(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=1&&r<=4}set(t,r,n){return t.setMonth((n-1)*3,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]}class xh extends Re{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(t,r,n){const a=o=>o-1;switch(r){case"M":return Ke(qe(Ue.month,t),a);case"MM":return Ke(je(2,t),a);case"Mo":return Ke(n.ordinalNumber(t,{unit:"month"}),a);case"MMM":return n.month(t,{width:"abbreviated",context:"formatting"})||n.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return n.month(t,{width:"narrow",context:"formatting"});default:return n.month(t,{width:"wide",context:"formatting"})||n.month(t,{width:"abbreviated",context:"formatting"})||n.month(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=11}set(t,r,n){return t.setMonth(n,1),t.setHours(0,0,0,0),t}}class kh extends Re{priority=110;parse(t,r,n){const a=o=>o-1;switch(r){case"L":return Ke(qe(Ue.month,t),a);case"LL":return Ke(je(2,t),a);case"Lo":return Ke(n.ordinalNumber(t,{unit:"month"}),a);case"LLL":return n.month(t,{width:"abbreviated",context:"standalone"})||n.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return n.month(t,{width:"narrow",context:"standalone"});default:return n.month(t,{width:"wide",context:"standalone"})||n.month(t,{width:"abbreviated",context:"standalone"})||n.month(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=0&&r<=11}set(t,r,n){return t.setMonth(n,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]}function _h(e,t,r){const n=ge(e,r?.in),a=ko(n,r)-t;return n.setDate(n.getDate()-a*7),ge(n,r?.in)}class Ah extends Re{priority=100;parse(t,r,n){switch(r){case"w":return qe(Ue.week,t);case"wo":return n.ordinalNumber(t,{unit:"week"});default:return je(r.length,t)}}validate(t,r){return r>=1&&r<=53}set(t,r,n,a){return kt(_h(t,n,a),a)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]}function Dh(e,t,r){const n=ge(e,r?.in),a=bo(n,r)-t;return n.setDate(n.getDate()-a*7),n}class Th extends Re{priority=100;parse(t,r,n){switch(r){case"I":return qe(Ue.week,t);case"Io":return n.ordinalNumber(t,{unit:"week"});default:return je(r.length,t)}}validate(t,r){return r>=1&&r<=53}set(t,r,n){return Ur(Dh(t,n))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]}const Mh=[31,28,31,30,31,30,31,31,30,31,30,31],Oh=[31,29,31,30,31,30,31,31,30,31,30,31];class Ph extends Re{priority=90;subPriority=1;parse(t,r,n){switch(r){case"d":return qe(Ue.date,t);case"do":return n.ordinalNumber(t,{unit:"date"});default:return je(r.length,t)}}validate(t,r){const n=t.getFullYear(),a=ss(n),o=t.getMonth();return a?r>=1&&r<=Oh[o]:r>=1&&r<=Mh[o]}set(t,r,n){return t.setDate(n),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]}class Ch extends Re{priority=90;subpriority=1;parse(t,r,n){switch(r){case"D":case"DD":return qe(Ue.dayOfYear,t);case"Do":return n.ordinalNumber(t,{unit:"date"});default:return je(r.length,t)}}validate(t,r){const n=t.getFullYear();return ss(n)?r>=1&&r<=366:r>=1&&r<=365}set(t,r,n){return t.setMonth(0,n),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]}function Ao(e,t,r){const n=Qr(),a=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,o=ge(e,r?.in),l=o.getDay(),s=(t%7+7)%7,c=7-a,f=t<0||t>6?t-(l+c)%7:(s+c)%7-(l+c)%7;return wt(o,f,r)}class Sh extends Re{priority=90;parse(t,r,n){switch(r){case"E":case"EE":case"EEE":return n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return n.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"});default:return n.day(t,{width:"wide",context:"formatting"})||n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=6}set(t,r,n,a){return t=Ao(t,n,a),t.setHours(0,0,0,0),t}incompatibleTokens=["D","i","e","c","t","T"]}class Eh extends Re{priority=90;parse(t,r,n,a){const o=l=>{const i=Math.floor((l-1)/7)*7;return(l+a.weekStartsOn+6)%7+i};switch(r){case"e":case"ee":return Ke(je(r.length,t),o);case"eo":return Ke(n.ordinalNumber(t,{unit:"day"}),o);case"eee":return n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"});case"eeeee":return n.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"});default:return n.day(t,{width:"wide",context:"formatting"})||n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=6}set(t,r,n,a){return t=Ao(t,n,a),t.setHours(0,0,0,0),t}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]}class $h extends Re{priority=90;parse(t,r,n,a){const o=l=>{const i=Math.floor((l-1)/7)*7;return(l+a.weekStartsOn+6)%7+i};switch(r){case"c":case"cc":return Ke(je(r.length,t),o);case"co":return Ke(n.ordinalNumber(t,{unit:"day"}),o);case"ccc":return n.day(t,{width:"abbreviated",context:"standalone"})||n.day(t,{width:"short",context:"standalone"})||n.day(t,{width:"narrow",context:"standalone"});case"ccccc":return n.day(t,{width:"narrow",context:"standalone"});case"cccccc":return n.day(t,{width:"short",context:"standalone"})||n.day(t,{width:"narrow",context:"standalone"});default:return n.day(t,{width:"wide",context:"standalone"})||n.day(t,{width:"abbreviated",context:"standalone"})||n.day(t,{width:"short",context:"standalone"})||n.day(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=0&&r<=6}set(t,r,n,a){return t=Ao(t,n,a),t.setHours(0,0,0,0),t}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]}function Rh(e,t,r){const n=ge(e,r?.in),a=sh(n,r),o=t-a;return wt(n,o,r)}class Lh extends Re{priority=90;parse(t,r,n){const a=o=>o===0?7:o;switch(r){case"i":case"ii":return je(r.length,t);case"io":return n.ordinalNumber(t,{unit:"day"});case"iii":return Ke(n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"}),a);case"iiiii":return Ke(n.day(t,{width:"narrow",context:"formatting"}),a);case"iiiiii":return Ke(n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"}),a);default:return Ke(n.day(t,{width:"wide",context:"formatting"})||n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"}),a)}}validate(t,r){return r>=1&&r<=7}set(t,r,n){return t=Rh(t,n),t.setHours(0,0,0,0),t}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]}class Yh extends Re{priority=80;parse(t,r,n){switch(r){case"a":case"aa":case"aaa":return n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return n.dayPeriod(t,{width:"narrow",context:"formatting"});default:return n.dayPeriod(t,{width:"wide",context:"formatting"})||n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,n){return t.setHours(_o(n),0,0,0),t}incompatibleTokens=["b","B","H","k","t","T"]}class Ih extends Re{priority=80;parse(t,r,n){switch(r){case"b":case"bb":case"bbb":return n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return n.dayPeriod(t,{width:"narrow",context:"formatting"});default:return n.dayPeriod(t,{width:"wide",context:"formatting"})||n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,n){return t.setHours(_o(n),0,0,0),t}incompatibleTokens=["a","B","H","k","t","T"]}class Fh extends Re{priority=80;parse(t,r,n){switch(r){case"B":case"BB":case"BBB":return n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return n.dayPeriod(t,{width:"narrow",context:"formatting"});default:return n.dayPeriod(t,{width:"wide",context:"formatting"})||n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,n){return t.setHours(_o(n),0,0,0),t}incompatibleTokens=["a","b","t","T"]}class Bh extends Re{priority=70;parse(t,r,n){switch(r){case"h":return qe(Ue.hour12h,t);case"ho":return n.ordinalNumber(t,{unit:"hour"});default:return je(r.length,t)}}validate(t,r){return r>=1&&r<=12}set(t,r,n){const a=t.getHours()>=12;return a&&n<12?t.setHours(n+12,0,0,0):!a&&n===12?t.setHours(0,0,0,0):t.setHours(n,0,0,0),t}incompatibleTokens=["H","K","k","t","T"]}class Nh extends Re{priority=70;parse(t,r,n){switch(r){case"H":return qe(Ue.hour23h,t);case"Ho":return n.ordinalNumber(t,{unit:"hour"});default:return je(r.length,t)}}validate(t,r){return r>=0&&r<=23}set(t,r,n){return t.setHours(n,0,0,0),t}incompatibleTokens=["a","b","h","K","k","t","T"]}class Vh extends Re{priority=70;parse(t,r,n){switch(r){case"K":return qe(Ue.hour11h,t);case"Ko":return n.ordinalNumber(t,{unit:"hour"});default:return je(r.length,t)}}validate(t,r){return r>=0&&r<=11}set(t,r,n){return t.getHours()>=12&&n<12?t.setHours(n+12,0,0,0):t.setHours(n,0,0,0),t}incompatibleTokens=["h","H","k","t","T"]}class Hh extends Re{priority=70;parse(t,r,n){switch(r){case"k":return qe(Ue.hour24h,t);case"ko":return n.ordinalNumber(t,{unit:"hour"});default:return je(r.length,t)}}validate(t,r){return r>=1&&r<=24}set(t,r,n){const a=n<=24?n%24:n;return t.setHours(a,0,0,0),t}incompatibleTokens=["a","b","h","H","K","t","T"]}class qh extends Re{priority=60;parse(t,r,n){switch(r){case"m":return qe(Ue.minute,t);case"mo":return n.ordinalNumber(t,{unit:"minute"});default:return je(r.length,t)}}validate(t,r){return r>=0&&r<=59}set(t,r,n){return t.setMinutes(n,0,0),t}incompatibleTokens=["t","T"]}class Wh extends Re{priority=50;parse(t,r,n){switch(r){case"s":return qe(Ue.second,t);case"so":return n.ordinalNumber(t,{unit:"second"});default:return je(r.length,t)}}validate(t,r){return r>=0&&r<=59}set(t,r,n){return t.setSeconds(n,0),t}incompatibleTokens=["t","T"]}class jh extends Re{priority=30;parse(t,r){const n=a=>Math.trunc(a*Math.pow(10,-r.length+3));return Ke(je(r.length,t),n)}set(t,r,n){return t.setMilliseconds(n),t}incompatibleTokens=["t","T"]}class Uh extends Re{priority=10;parse(t,r){switch(r){case"X":return Yt(Lt.basicOptionalMinutes,t);case"XX":return Yt(Lt.basic,t);case"XXXX":return Yt(Lt.basicOptionalSeconds,t);case"XXXXX":return Yt(Lt.extendedOptionalSeconds,t);default:return Yt(Lt.extended,t)}}set(t,r,n){return r.timestampIsSet?t:Be(t,t.getTime()-ta(t)-n)}incompatibleTokens=["t","T","x"]}class Kh extends Re{priority=10;parse(t,r){switch(r){case"x":return Yt(Lt.basicOptionalMinutes,t);case"xx":return Yt(Lt.basic,t);case"xxxx":return Yt(Lt.basicOptionalSeconds,t);case"xxxxx":return Yt(Lt.extendedOptionalSeconds,t);default:return Yt(Lt.extended,t)}}set(t,r,n){return r.timestampIsSet?t:Be(t,t.getTime()-ta(t)-n)}incompatibleTokens=["t","T","X"]}class Gh extends Re{priority=40;parse(t){return ls(t)}set(t,r,n){return[Be(t,n*1e3),{timestampIsSet:!0}]}incompatibleTokens="*"}class Qh extends Re{priority=20;parse(t){return ls(t)}set(t,r,n){return[Be(t,n),{timestampIsSet:!0}]}incompatibleTokens="*"}const zh={G:new hh,y:new mh,Y:new vh,R:new gh,u:new yh,Q:new wh,q:new bh,M:new xh,L:new kh,w:new Ah,I:new Th,d:new Ph,D:new Ch,E:new Sh,e:new Eh,c:new $h,i:new Lh,a:new Yh,b:new Ih,B:new Fh,h:new Bh,H:new Nh,K:new Vh,k:new Hh,m:new qh,s:new Wh,S:new jh,X:new Uh,x:new Kh,t:new Gh,T:new Qh},Xh=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Zh=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Jh=/^'([^]*?)'?$/,em=/''/g,tm=/\S/,rm=/[a-zA-Z]/;function Xa(e,t,r,n){const a=()=>Be(n?.in||r,NaN),o=ih(),l=n?.locale??o.locale??Ll,i=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??o.firstWeekContainsDate??o.locale?.options?.firstWeekContainsDate??1,s=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??o.weekStartsOn??o.locale?.options?.weekStartsOn??0;if(!t)return e?a():ge(r,n?.in);const c={firstWeekContainsDate:i,weekStartsOn:s,locale:l},f=[new ph(n?.in,r)],m=t.match(Zh).map(x=>{const d=x[0];if(d in Qa){const p=Qa[d];return p(x,l.formatLong)}return x}).join("").match(Xh),v=[];for(let x of m){!n?.useAdditionalWeekYearTokens&&as(x)&&za(x,t,e),!n?.useAdditionalDayOfYearTokens&&ns(x)&&za(x,t,e);const d=x[0],p=zh[d];if(p){const{incompatibleTokens:y}=p;if(Array.isArray(y)){const S=v.find(Y=>y.includes(Y.token)||Y.token===d);if(S)throw new RangeError(`The format string mustn't contain \`${S.fullToken}\` and \`${x}\` at the same time`)}else if(p.incompatibleTokens==="*"&&v.length>0)throw new RangeError(`The format string mustn't contain \`${x}\` and any other token at the same time`);v.push({token:d,fullToken:x});const _=p.run(e,x,l.match,c);if(!_)return a();f.push(_.setter),e=_.rest}else{if(d.match(rm))throw new RangeError("Format string contains an unescaped latin alphabet character `"+d+"`");if(x==="''"?x="'":d==="'"&&(x=nm(x)),e.indexOf(x)===0)e=e.slice(x.length);else return a()}}if(e.length>0&&tm.test(e))return a();const u=f.map(x=>x.priority).sort((x,d)=>d-x).filter((x,d,p)=>p.indexOf(x)===d).map(x=>f.filter(d=>d.priority===x).sort((d,p)=>p.subPriority-d.subPriority)).map(x=>x[0]);let w=ge(r,n?.in);if(isNaN(+w))return a();const b={};for(const x of u){if(!x.validate(w,c))return a();const d=x.set(w,b,c);Array.isArray(d)?(w=d[0],Object.assign(b,d[1])):w=d}return w}function nm(e){return e.match(Jh)[1].replace(em,"'")}function _l(e,t,r){const[n,a]=hn(r?.in,e,t);return+cr(n)==+cr(a)}function us(e,t,r){return wt(e,-t,r)}function am(e,t){const r=t?.nearestTo??1;if(r<1||r>30)return Be(e,NaN);const n=ge(e,t?.in),a=n.getSeconds()/60,o=n.getMilliseconds()/1e3/60,l=n.getMinutes()+a+o,i=t?.roundingMethod??"round",c=Hp(i)(l/r)*r;return n.setMinutes(c,0,0),n}function cs(e,t,r){const n=ge(e,r?.in),a=n.getFullYear(),o=n.getDate(),l=Be(e,0);l.setFullYear(a,t,15),l.setHours(0,0,0,0);const i=lh(l);return n.setMonth(t,Math.min(o,i)),n}function Te(e,t,r){let n=ge(e,r?.in);return isNaN(+n)?Be(e,NaN):(t.year!=null&&n.setFullYear(t.year),t.month!=null&&(n=cs(n,t.month)),t.date!=null&&n.setDate(t.date),t.hours!=null&&n.setHours(t.hours),t.minutes!=null&&n.setMinutes(t.minutes),t.seconds!=null&&n.setSeconds(t.seconds),t.milliseconds!=null&&n.setMilliseconds(t.milliseconds),n)}function om(e,t,r){const n=ge(e,r?.in);return n.setMilliseconds(t),n}function lm(e,t,r){const n=ge(e,r?.in);return n.setSeconds(t),n}function Ot(e,t,r){const n=ge(e,r?.in);return isNaN(+n)?Be(e,NaN):(n.setFullYear(t),n)}function Kr(e,t,r){return Ct(e,-t,r)}function im(e,t,r){const{years:n=0,months:a=0,weeks:o=0,days:l=0,hours:i=0,minutes:s=0,seconds:c=0}=t,f=Kr(e,a+n*12,r),m=us(f,l+o*7,r),v=s+i*60,w=(c+v*60)*1e3;return Be(e,+m-w)}function ds(e,t,r){return go(e,-t,r)}function sm(e,t,r="long"){return new Intl.DateTimeFormat("en-US",{hour:"numeric",timeZone:e,timeZoneName:r}).format(t).split(/\s/g).slice(2).join(" ")}const um={},an={};function dr(e,t){try{const n=(um[e]||=new Intl.DateTimeFormat("en-US",{timeZone:e,timeZoneName:"longOffset"}).format)(t).split("GMT")[1];return n in an?an[n]:Al(n,n.split(":"))}catch{if(e in an)return an[e];const r=e?.match(cm);return r?Al(e,r.slice(1)):NaN}}const cm=/([+-]\d\d):?(\d\d)?/;function Al(e,t){const r=+(t[0]||0),n=+(t[1]||0),a=+(t[2]||0)/60;return an[e]=r*60+n>0?r*60+n+a:r*60-n-a}class Ft extends Date{constructor(...t){super(),t.length>1&&typeof t[t.length-1]=="string"&&(this.timeZone=t.pop()),this.internal=new Date,isNaN(dr(this.timeZone,this))?this.setTime(NaN):t.length?typeof t[0]=="number"&&(t.length===1||t.length===2&&typeof t[1]!="number")?this.setTime(t[0]):typeof t[0]=="string"?this.setTime(+new Date(t[0])):t[0]instanceof Date?this.setTime(+t[0]):(this.setTime(+new Date(...t)),fs(this),Za(this)):this.setTime(Date.now())}static tz(t,...r){return r.length?new Ft(...r,t):new Ft(Date.now(),t)}withTimeZone(t){return new Ft(+this,t)}getTimezoneOffset(){const t=-dr(this.timeZone,this);return t>0?Math.floor(t):Math.ceil(t)}setTime(t){return Date.prototype.setTime.apply(this,arguments),Za(this),+this}[Symbol.for("constructDateFrom")](t){return new Ft(+new Date(t),this.timeZone)}}const Dl=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(e=>{if(!Dl.test(e))return;const t=e.replace(Dl,"$1UTC");Ft.prototype[t]&&(e.startsWith("get")?Ft.prototype[e]=function(){return this.internal[t]()}:(Ft.prototype[e]=function(){return Date.prototype[t].apply(this.internal,arguments),dm(this),+this},Ft.prototype[t]=function(){return Date.prototype[t].apply(this,arguments),Za(this),+this}))});function Za(e){e.internal.setTime(+e),e.internal.setUTCSeconds(e.internal.getUTCSeconds()-Math.round(-dr(e.timeZone,e)*60))}function dm(e){Date.prototype.setFullYear.call(e,e.internal.getUTCFullYear(),e.internal.getUTCMonth(),e.internal.getUTCDate()),Date.prototype.setHours.call(e,e.internal.getUTCHours(),e.internal.getUTCMinutes(),e.internal.getUTCSeconds(),e.internal.getUTCMilliseconds()),fs(e)}function fs(e){const t=dr(e.timeZone,e),r=t>0?Math.floor(t):Math.ceil(t),n=new Date(+e);n.setUTCHours(n.getUTCHours()-1);const a=-new Date(+e).getTimezoneOffset(),o=-new Date(+n).getTimezoneOffset(),l=a-o,i=Date.prototype.getHours.apply(e)!==e.internal.getUTCHours();l&&i&&e.internal.setUTCMinutes(e.internal.getUTCMinutes()+l);const s=a-r;s&&Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+s);const c=new Date(+e);c.setUTCSeconds(0);const f=a>0?c.getSeconds():(c.getSeconds()-60)%60,m=Math.round(-(dr(e.timeZone,e)*60))%60;(m||f)&&(e.internal.setUTCSeconds(e.internal.getUTCSeconds()+m),Date.prototype.setUTCSeconds.call(e,Date.prototype.getUTCSeconds.call(e)+m+f));const v=dr(e.timeZone,e),u=v>0?Math.floor(v):Math.ceil(v),b=-new Date(+e).getTimezoneOffset()-u,x=u!==r,d=b-s;if(x&&d){Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+d);const p=dr(e.timeZone,e),y=p>0?Math.floor(p):Math.ceil(p),_=u-y;_&&(e.internal.setUTCMinutes(e.internal.getUTCMinutes()+_),Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+_))}}class Rr extends Ft{static tz(t,...r){return r.length?new Rr(...r,t):new Rr(Date.now(),t)}toISOString(){const[t,r,n]=this.tzComponents(),a=`${t}${r}:${n}`;return this.internal.toISOString().slice(0,-1)+a}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){const[t,r,n,a]=this.internal.toUTCString().split(" ");return`${t?.slice(0,-1)} ${n} ${r} ${a}`}toTimeString(){const t=this.internal.toUTCString().split(" ")[4],[r,n,a]=this.tzComponents();return`${t} GMT${r}${n}${a} (${sm(this.timeZone,this)})`}toLocaleString(t,r){return Date.prototype.toLocaleString.call(this,t,{...r,timeZone:r?.timeZone||this.timeZone})}toLocaleDateString(t,r){return Date.prototype.toLocaleDateString.call(this,t,{...r,timeZone:r?.timeZone||this.timeZone})}toLocaleTimeString(t,r){return Date.prototype.toLocaleTimeString.call(this,t,{...r,timeZone:r?.timeZone||this.timeZone})}tzComponents(){const t=this.getTimezoneOffset(),r=t>0?"-":"+",n=String(Math.floor(Math.abs(t)/60)).padStart(2,"0"),a=String(Math.abs(t)%60).padStart(2,"0");return[r,n,a]}withTimeZone(t){return new Rr(+this,t)}[Symbol.for("constructDateFrom")](t){return new Rr(+new Date(t),this.timeZone)}}function bn(){return Qe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[Qe("path",{d:"M29.333 8c0-2.208-1.792-4-4-4h-18.667c-2.208 0-4 1.792-4 4v18.667c0 2.208 1.792 4 4 4h18.667c2.208 0 4-1.792 4-4v-18.667zM26.667 8v18.667c0 0.736-0.597 1.333-1.333 1.333 0 0-18.667 0-18.667 0-0.736 0-1.333-0.597-1.333-1.333 0 0 0-18.667 0-18.667 0-0.736 0.597-1.333 1.333-1.333 0 0 18.667 0 18.667 0 0.736 0 1.333 0.597 1.333 1.333z"}),Qe("path",{d:"M20 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),Qe("path",{d:"M9.333 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),Qe("path",{d:"M4 14.667h24c0.736 0 1.333-0.597 1.333-1.333s-0.597-1.333-1.333-1.333h-24c-0.736 0-1.333 0.597-1.333 1.333s0.597 1.333 1.333 1.333z"})])}function fm(){return Qe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[Qe("path",{d:"M23.057 7.057l-16 16c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l16-16c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0z"}),Qe("path",{d:"M7.057 8.943l16 16c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885l-16-16c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}function ps(){return Qe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[Qe("path",{d:"M20.943 23.057l-7.057-7.057c0 0 7.057-7.057 7.057-7.057 0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-8 8c-0.521 0.521-0.521 1.365 0 1.885l8 8c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}function hs(){return Qe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[Qe("path",{d:"M12.943 24.943l8-8c0.521-0.521 0.521-1.365 0-1.885l-8-8c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885l7.057 7.057c0 0-7.057 7.057-7.057 7.057-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0z"})])}function ms(){return Qe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[Qe("path",{d:"M16 1.333c-8.095 0-14.667 6.572-14.667 14.667s6.572 14.667 14.667 14.667c8.095 0 14.667-6.572 14.667-14.667s-6.572-14.667-14.667-14.667zM16 4c6.623 0 12 5.377 12 12s-5.377 12-12 12c-6.623 0-12-5.377-12-12s5.377-12 12-12z"}),Qe("path",{d:"M14.667 8v8c0 0.505 0.285 0.967 0.737 1.193l5.333 2.667c0.658 0.329 1.46 0.062 1.789-0.596s0.062-1.46-0.596-1.789l-4.596-2.298c0 0 0-7.176 0-7.176 0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"})])}function vs(){return Qe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[Qe("path",{d:"M24.943 19.057l-8-8c-0.521-0.521-1.365-0.521-1.885 0l-8 8c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l7.057-7.057c0 0 7.057 7.057 7.057 7.057 0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}function gs(){return Qe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[Qe("path",{d:"M7.057 12.943l8 8c0.521 0.521 1.365 0.521 1.885 0l8-8c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-7.057 7.057c0 0-7.057-7.057-7.057-7.057-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}const ys=Symbol("ContextKey"),pm=(e,t)=>{const{setTimeModelValue:r}=Ze(),n=lv(e),a=ue(null),o=Br({menuFocused:!1,shiftKeyInMenu:!1,isInputFocused:!1,isTextInputDate:!1,arrowNavigationLevel:0}),l=n.getDate(new Date),i=ue(""),s=ue([{month:Pe(l),year:ye(l)}]),c=Br({hours:0,minutes:0,seconds:0});r(c,null,l,n.range.value.enabled);const f=B({get:()=>a.value,set:b=>{a.value=b}}),m=B(()=>b=>s.value[b]?s.value[b].month:0),v=B(()=>b=>s.value[b]?s.value[b].year:0),u=(b,x)=>{o[b]=x},w=()=>{r(c,f.value,l,n.range.value.enabled)};Ns(ys,{rootProps:e,defaults:n,modelValue:f,state:js(o),rootEmit:t,calendars:s,month:m,year:v,time:c,today:l,inputValue:i,setState:u,updateTime:w,getDate:n.getDate})},Oe=()=>{const e=Hs(ys);if(!e)throw new Error("Can't use context");return e};var Tt=(e=>(e.month="month",e.year="year",e))(Tt||{}),hr=(e=>(e.header="header",e.calendar="calendar",e.timePicker="timePicker",e))(hr||{}),lt=(e=>(e.month="month",e.year="year",e.calendar="calendar",e.time="time",e.minutes="minutes",e.hours="hours",e.seconds="seconds",e))(lt||{});const hm=["timestamp","date","iso"];var Mt=(e=>(e.up="up",e.down="down",e.left="left",e.right="right",e))(Mt||{}),Ie=(e=>(e.arrowUp="ArrowUp",e.arrowDown="ArrowDown",e.arrowLeft="ArrowLeft",e.arrowRight="ArrowRight",e.enter="Enter",e.space=" ",e.esc="Escape",e.tab="Tab",e.home="Home",e.end="End",e.pageUp="PageUp",e.pageDown="PageDown",e))(Ie||{}),Lr=(e=>(e.MONTH_AND_YEAR="MM-yyyy",e.YEAR="yyyy",e.DATE="dd-MM-yyyy",e))(Lr||{}),ws=(e=>(e[e.Sunday=0]="Sunday",e[e.Monday=1]="Monday",e[e.Tuesday=2]="Tuesday",e[e.Wednesday=3]="Wednesday",e[e.Thursday=4]="Thursday",e[e.Friday=5]="Friday",e[e.Saturday=6]="Saturday",e))(ws||{});const mm=()=>{const{rootProps:e,state:t}=Oe(),r=B(()=>t.arrowNavigationLevel),n=ue(-1),a=ue(-1);st(r,(p,y)=>{d(p===0&&y>0)});const o=ue([]),l=ue(new Map),i=()=>{const p=Array.from(document.querySelectorAll(`[data-dp-action-element="${r.value}"]`)),y=new Map,_=new Map;for(const S of p){const Y=S.getBoundingClientRect(),k=Y.top,P=Y.left;y.has(k)||y.set(k,[]),y.get(k).push(S),_.set(S,{row:k,col:P})}o.value=Array.from(y.entries()).sort((S,Y)=>S[0]-Y[0]).map(([S,Y])=>s(Y,_)),l.value=_},s=(p,y)=>p.sort((_,S)=>{const Y=y.get(_),k=y.get(S);return Y.col-k.col}),c=(p,y)=>{r.value===0&&(n.value=p,a.value=y)},f=p=>{if(![Ie.arrowUp,Ie.arrowDown,Ie.arrowLeft,Ie.arrowRight].includes(p.key))return;i(),p.preventDefault();const y=document.activeElement;if(!y?.hasAttribute("data-dp-action-element"))return;let _=-1,S=-1;for(let Y=0;Y<o.value.length;Y++){const k=o.value[Y].indexOf(y);if(k!==-1){_=Y,S=k;break}}if(_!==-1)switch(p.key){case Ie.arrowLeft:return m(_,S);case Ie.arrowRight:return v(_,S);case Ie.arrowUp:return u(_,S);case Ie.arrowDown:return w(_,S);default:return}},m=(p,y)=>{if(y>0){const _=o.value[p][y-1];c(p,y-1),_&&_.focus()}},v=(p,y)=>{if(y<o.value[p].length-1){const _=o.value[p][y+1];c(p,y+1),_&&_.focus()}},u=(p,y)=>{if(p>0){const _=o.value[p-1],S=Math.min(y,_.length-1),Y=_[S];c(p-1,S),Y&&Y.focus()}},w=(p,y)=>{if(p<o.value.length-1){const _=o.value[p+1],S=Math.min(y,_.length-1),Y=_[S];c(p+1,S),Y&&Y.focus()}},b=()=>{ut().then(()=>{i();const p=o.value[n.value]?.[a.value];p&&x(p)})},x=p=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{p.focus({preventScroll:!0})})})},d=p=>{if(p)return b();const y=document.querySelector(`[data-dp-element-active="${r.value}"]`);if(y&&!p)x(y);else{const _=document.querySelector(`[data-dp-action-element="${r.value}"]`);_&&x(_)}};et(()=>{e.arrowNavigation&&(d(!1),document.addEventListener("keydown",f))}),yr(()=>{e.arrowNavigation&&document.removeEventListener("keydown",f)})},vm=()=>{const{checkPartialRangeValue:e,checkRangeEnabled:t,isValidDate:r}=_t(),{convertType:n,errorMapper:a}=Ze(),{getDate:o,rootEmit:l,state:i,rootProps:s,inputValue:c,defaults:{textInput:f,range:m,multiDates:v,timeConfig:u,formats:w},modelValue:b,updateTime:x}=Oe(),{setTime:d,getWeekFromDate:p}=ot(),{formatSelectedDate:y,formatForTextInput:_}=ir();st(b,(D,R)=>{l("internal-model-change",b.value),JSON.stringify(R??{})!==JSON.stringify(D??{})&&x()},{deep:!0}),st(m,(D,R)=>{D.enabled!==R.enabled&&(b.value=null)}),st(()=>w.value.input,()=>{he()});const S=D=>D?s.modelType?ae(D):{hours:Wt(D),minutes:Gt(D),seconds:u.value.enableSeconds?or(D):0}:null,Y=D=>s.modelType?ae(D):{month:Pe(D),year:ye(D)},k=D=>Array.isArray(D)?v.value.enabled?D.map(R=>P(R,Ot(o(),R))):t(()=>[Ot(o(),D[0]),D[1]?Ot(o(),D[1]):e(m.value.partialRange)],m.value.enabled):Ot(o(),+D),P=(D,R)=>(typeof D=="string"||typeof D=="number")&&s.modelType?ke(D):R,C=D=>Array.isArray(D)?[P(D[0],d(D[0])),P(D[1],d(D[1]))]:P(D,d(D)),N=D=>{const R=Te(o(),{date:1});return Array.isArray(D)?v.value.enabled?D.map(X=>P(X,Te(R,{month:+X.month,year:+X.year}))):t(()=>[P(D[0],Te(R,{month:+D[0].month,year:+D[0].year})),P(D[1],D[1]?Te(R,{month:+D[1].month,year:+D[1].year}):e(m.value.partialRange))],m.value.enabled):P(D,Te(R,{month:+D.month,year:+D.year}))},H=D=>{if(Array.isArray(D))return D.map(R=>ke(R));throw new Error(a.dateArr("multi-dates"))},W=D=>{if(Array.isArray(D)&&m.value.enabled){const R=D[0],X=D[1];return[o(Array.isArray(R)?R[0]:null),Array.isArray(X)&&X.length?o(X[0]):null]}return o(D[0])},J=D=>s.modelAuto?Array.isArray(D)?[ke(D[0]),ke(D[1])]:s.autoApply?[ke(D)]:[ke(D),null]:Array.isArray(D)?t(()=>D[1]?[ke(D[0]),D[1]?ke(D[1]):e(m.value.partialRange)]:[ke(D[0])],m.value.enabled):ke(D),ee=()=>{Array.isArray(b.value)&&m.value.enabled&&b.value.length===1&&b.value.push(e(m.value.partialRange))},j=()=>{const D=b.value;return[ae(D[0]),D[1]?ae(D[1]):e(m.value.partialRange)]},Q=()=>Array.isArray(b.value)?b.value[1]?j():ae(n(b.value[0])):[],L=()=>(b.value||[]).map(D=>ae(D)),q=(D=!1)=>(D||ee(),s.modelAuto?Q():v.value.enabled?L():Array.isArray(b.value)?t(()=>j(),m.value.enabled):ae(n(b.value))),ie=D=>!D||Array.isArray(D)&&!D.length?null:s.timePicker?C(n(D)):s.monthPicker?N(n(D)):s.yearPicker?k(n(D)):v.value.enabled?H(n(D)):s.weekPicker?W(n(D)):J(n(D)),K=D=>{if(i.isTextInputDate)return;const R=ie(D);r(n(R))?(b.value=n(R),he()):(b.value=null,c.value="")},le=()=>b.value?v.value.enabled?b.value.map(D=>y(D)).join("; "):f.value.enabled?_():y(b.value):"",he=()=>{c.value=le()},ke=D=>s.modelType?hm.includes(s.modelType)?o(D):s.modelType==="format"&&typeof w.value.input=="string"?Xa(D,w.value.input,o(),{locale:s.locale}):Xa(D,s.modelType,o(),{locale:s.locale}):o(D),ae=D=>D?s.modelType?s.modelType==="timestamp"?+D:s.modelType==="iso"?D.toISOString():s.modelType==="format"&&typeof w.value.input=="string"?y(D):y(D,s.modelType):D:null,ve=D=>{l("update:model-value",D)},ce=D=>Array.isArray(b.value)?v.value.enabled?b.value.map(R=>D(R)):[D(b.value[0]),b.value[1]?D(b.value[1]):null]:D(n(b.value)),_e=()=>{if(Array.isArray(b.value)){const D=p(b.value[0],s.weekStart),R=b.value[1]?p(b.value[1],s.weekStart):[];return[D.map(X=>o(X)),R.map(X=>o(X))]}return p(b.value,s.weekStart).map(D=>o(D))},me=D=>ve(n(ce(D))),Ee=()=>l("update:model-value",_e());return{checkBeforeEmit:()=>b.value?m.value.enabled?m.value.partialRange?b.value.length>=1:b.value.length===2:!!b.value:!1,parseExternalModelValue:K,formatInputValue:he,emitModelValue:()=>(he(),s.monthPicker?me(Y):s.timePicker?me(S):s.yearPicker?me(ye):s.weekPicker?Ee():ve(q()))}},xn=()=>{const{defaults:{transitions:e}}=Oe(),t=B(()=>n=>e.value?n?e.value.open:e.value.close:""),r=B(()=>n=>e.value?n?e.value.menuAppearTop:e.value.menuAppearBottom:"");return{transitionName:t,showTransition:!!e.value,menuTransition:r}},kn=e=>{const{today:t,time:r,modelValue:n,defaults:{range:a}}=Oe(),{setTimeModelValue:o}=Ze();st(a,(l,i)=>{l.enabled!==i.enabled&&o(r,n.value,t,a.value.enabled)},{deep:!0}),st(n,(l,i)=>{e&&JSON.stringify(l??{})!==JSON.stringify(i??{})&&e()},{deep:!0})},_t=()=>{const{defaults:{safeDates:e,range:t,multiDates:r,filters:n,timeConfig:a},rootProps:o,getDate:l}=Oe(),{getMapKeyType:i,getMapDate:s,errorMapper:c,convertType:f}=Ze(),{isDateBefore:m,isDateAfter:v,isDateEqual:u,resetDate:w,getDaysInBetween:b,setTimeValue:x,getTimeObj:d,setTime:p}=ot(),y=T=>e.value.disabledDates?typeof e.value.disabledDates=="function"?e.value.disabledDates(l(T)):!!s(T,e.value.disabledDates):!1,_=T=>e.value.maxDate?o.yearPicker?ye(T)>ye(e.value.maxDate):v(T,e.value.maxDate):!1,S=T=>e.value.minDate?o.yearPicker?ye(T)<ye(e.value.minDate):m(T,e.value.minDate):!1,Y=T=>{if(!T)return!1;const F=_(T),te=S(T),O=y(T),V=n.value.months.map(M=>+M).includes(Pe(T)),g=n.value.weekDays?.length?n.value.weekDays.some(M=>+M===oh(T)):!1,$=H(T),A=ye(T),U=A<+o.yearRange[0]||A>+o.yearRange[1];return!(F||te||O||V||U||g||$)},k=(T,F)=>m(...Ee(e.value.minDate,T,F))||u(...Ee(e.value.minDate,T,F)),P=(T,F)=>v(...Ee(e.value.maxDate,T,F))||u(...Ee(e.value.maxDate,T,F)),C=(T,F,te)=>{let O=!1;return e.value.maxDate&&te&&P(T,F)&&(O=!0),e.value.minDate&&!te&&k(T,F)&&(O=!0),O},N=(T,F,te,O)=>{let V=!1;return O&&(e.value.minDate||e.value.maxDate)?e.value.minDate&&e.value.maxDate?V=C(T,F,te):(e.value.minDate&&k(T,F)||e.value.maxDate&&P(T,F))&&(V=!0):V=!0,V},H=T=>Array.isArray(e.value.allowedDates)&&!e.value.allowedDates.length?!0:e.value.allowedDates?!s(T,e.value.allowedDates,i(o.monthPicker,o.yearPicker)):!1,W=T=>!Y(T),J=T=>t.value.noDisabledRange?!yo({start:T[0],end:T[1]}).some(F=>W(F)):!0,ee=T=>{if(T){const F=ye(T);return F>=+o.yearRange[0]&&F<=o.yearRange[1]}return!0},j=(T,F)=>!!(Array.isArray(T)&&T[F]&&(t.value.maxRange||t.value.minRange)&&ee(T[F])),Q=(T,F,te=0)=>{if(j(F,te)&&ee(T)){const O=Zi(T,F[te]),V=b(F[te],T),g=V.length===1?0:V.filter(A=>W(A)).length,$=Math.abs(O)-(t.value.minMaxRawRange?0:g);if(t.value.minRange&&t.value.maxRange)return $>=+t.value.minRange&&$<=+t.value.maxRange;if(t.value.minRange)return $>=+t.value.minRange;if(t.value.maxRange)return $<=+t.value.maxRange}return!0},L=()=>!a.value.enableTimePicker||o.monthPicker||o.yearPicker||a.value.ignoreTimeValidation,q=T=>Array.isArray(T)?[T[0]?x(T[0]):null,T[1]?x(T[1]):null]:x(T),ie=(T,F,te)=>F?T.find(O=>+O.hours===Wt(F)&&O.minutes==="*"?!0:+O.minutes===Gt(F)&&+O.hours===Wt(F))&&te:!1,K=(T,F,te)=>{const[O,V]=T,[g,$]=F;return!ie(O,g,te)&&!ie(V,$,te)&&te},le=(T,F)=>{const te=Array.isArray(F)?F:[F];return Array.isArray(o.disabledTimes)?Array.isArray(o.disabledTimes[0])?K(o.disabledTimes,te,T):!te.some(O=>ie(o.disabledTimes,O,T)):T},he=(T,F)=>{const te=Array.isArray(F)?[d(F[0]),F[1]?d(F[1]):void 0]:d(F),O=!o.disabledTimes(te);return T&&O},ke=(T,F)=>o.disabledTimes?Array.isArray(o.disabledTimes)?le(F,T):he(F,T):F,ae=T=>{let F=!0;if(!T||L())return!0;const te=!e.value.minDate&&!e.value.maxDate?q(T):T;return(o.maxTime||e.value.maxDate)&&(F=R(o.maxTime,e.value.maxDate,"max",f(te),F)),(o.minTime||e.value.minDate)&&(F=R(o.minTime,e.value.minDate,"min",f(te),F)),ke(T,F)},ve=T=>{if(!o.monthPicker)return!0;let F=!0;const te=l(w(T));if(e.value.minDate&&e.value.maxDate){const O=l(w(e.value.minDate)),V=l(w(e.value.maxDate));return v(te,O)&&m(te,V)||u(te,O)||u(te,V)}if(e.value.minDate){const O=l(w(e.value.minDate));F=v(te,O)||u(te,O)}if(e.value.maxDate){const O=l(w(e.value.maxDate));F=m(te,O)||u(te,O)}return F},ce=B(()=>T=>!a.value.enableTimePicker||a.value.ignoreTimeValidation?!0:ae(T)),_e=B(()=>T=>o.monthPicker?Array.isArray(T)&&(t.value.enabled||r.value.enabled)?!T.filter(F=>!ve(F)).length:ve(T):!0),me=(T,F,te)=>{if(!F||te&&!e.value.maxDate||!te&&!e.value.minDate)return!1;const O=te?Ct(T,1):Kr(T,1),V=[Pe(O),ye(O)];return te?!P(...V):!k(...V)},Ee=(T,F,te)=>[Te(l(T),{date:1}),Te(l(),{month:F,year:te,date:1})],D=(T,F,te,O)=>{if(!T)return!0;if(O){const V=te==="max"?Ut(T,F):It(T,F),g={seconds:0,milliseconds:0};return V||$r(Te(T,g),Te(F,g))}return te==="max"?T.getTime()<=F.getTime():T.getTime()>=F.getTime()},R=(T,F,te,O,V)=>{if(Array.isArray(O)){const $=X(T,O[0],F),A=X(T,O[1],F);return D(O[0],$,te,!!F)&&D(O[1],A,te,!!F)&&V}const g=X(T,O,F);return D(O,g,te,!!F)&&V},X=(T,F,te)=>T?p(T,F):l(te??F);return{isDisabled:W,validateDate:Y,validateMonthYearInRange:N,isDateRangeAllowed:J,checkMinMaxRange:Q,isValidTime:ae,validateMonthYear:me,validateMinDate:k,validateMaxDate:P,isValidDate:T=>Array.isArray(T)?on(T[0])&&(T[1]?on(T[1]):!0):T?on(T):!1,checkPartialRangeValue:T=>{if(T)return null;throw new Error(c.prop("partial-range"))},checkRangeEnabled:(T,F)=>{if(F)return T();throw new Error(c.prop("range"))},checkMinMaxValue:(T,F,te)=>{const O=te!=null,V=F!=null;if(!O&&!V)return!1;const g=+te,$=+F;return O&&V?+T>g||+T<$:O?+T>g:V?+T<$:!1},isTimeValid:ce,isMonthValid:_e}},gm=e=>{const{rootEmit:t,rootProps:r,defaults:{timeConfig:n,flow:a}}=Oe(),o=ue(0),l=Br({[hr.timePicker]:!n.value.enableTimePicker||r.timePicker||r.monthPicker,[hr.calendar]:!1,[hr.header]:!1}),i=B(()=>r.monthPicker||r.timePicker),s=u=>{if(a.value?.steps?.length){if(!u&&i.value)return v();l[u]=!0,Object.keys(l).filter(w=>!l[w]).length||v()}},c=()=>{a.value?.steps?.length&&o.value!==-1&&(o.value+=1,t("flow-step",o.value),v()),a.value?.steps?.length===o.value&&ut().then(()=>f())},f=()=>{o.value=-1},m=(u,w,...b)=>{a.value?.steps[o.value]===u&&e.value&&e.value[w]?.(...b)},v=(u=0)=>{u&&(o.value+=u),m(lt.month,"toggleMonthPicker",!0),m(lt.year,"toggleYearPicker",!0),m(lt.calendar,"toggleTimePicker",!1,!0),m(lt.time,"toggleTimePicker",!0,!0);const w=a.value?.steps[o.value];(w===lt.hours||w===lt.minutes||w===lt.seconds)&&m(w,"toggleTimePicker",!0,!0,w)};return{childMount:s,updateFlowStep:c,resetFlow:f,handleFlow:v,flowStep:o}};function Fa(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}function tn(e){return(t,r)=>{const n=r?.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const l=e.defaultFormattingWidth||e.defaultWidth,i=r?.width?String(r.width):l;a=e.formattingValues[i]||e.formattingValues[l]}else{const l=e.defaultWidth,i=r?.width?String(r.width):e.defaultWidth;a=e.values[i]||e.values[l]}const o=e.argumentCallback?e.argumentCallback(t):t;return a[o]}}function rn(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],o=t.match(a);if(!o)return null;const l=o[0],i=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],s=Array.isArray(i)?wm(i,m=>m.test(l)):ym(i,m=>m.test(l));let c;c=e.valueCallback?e.valueCallback(s):s,c=r.valueCallback?r.valueCallback(c):c;const f=t.slice(l.length);return{value:c,rest:f}}}function ym(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function wm(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function bm(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],o=t.match(e.parsePattern);if(!o)return null;let l=e.valueCallback?e.valueCallback(o[0]):o[0];l=r.valueCallback?r.valueCallback(l):l;const i=t.slice(a.length);return{value:l,rest:i}}}const xm={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},km=(e,t,r)=>{let n;const a=xm[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n},_m={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Am=(e,t,r,n)=>_m[e],Dm={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Tm={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Mm={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Om={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Pm={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Cm={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Sm=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Em={ordinalNumber:Sm,era:tn({values:Dm,defaultWidth:"wide"}),quarter:tn({values:Tm,defaultWidth:"wide",argumentCallback:e=>e-1}),month:tn({values:Mm,defaultWidth:"wide"}),day:tn({values:Om,defaultWidth:"wide"}),dayPeriod:tn({values:Pm,defaultWidth:"wide",formattingValues:Cm,defaultFormattingWidth:"wide"})},$m=/^(\d+)(th|st|nd|rd)?/i,Rm=/\d+/i,Lm={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Ym={any:[/^b/i,/^(a|c)/i]},Im={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Fm={any:[/1/i,/2/i,/3/i,/4/i]},Bm={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Nm={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Vm={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Hm={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},qm={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Wm={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},jm={ordinalNumber:bm({matchPattern:$m,parsePattern:Rm,valueCallback:e=>parseInt(e,10)}),era:rn({matchPatterns:Lm,defaultMatchWidth:"wide",parsePatterns:Ym,defaultParseWidth:"any"}),quarter:rn({matchPatterns:Im,defaultMatchWidth:"wide",parsePatterns:Fm,defaultParseWidth:"any",valueCallback:e=>e+1}),month:rn({matchPatterns:Bm,defaultMatchWidth:"wide",parsePatterns:Nm,defaultParseWidth:"any"}),day:rn({matchPatterns:Vm,defaultMatchWidth:"wide",parsePatterns:Hm,defaultParseWidth:"any"}),dayPeriod:rn({matchPatterns:qm,defaultMatchWidth:"any",parsePatterns:Wm,defaultParseWidth:"any"})},Um={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Km={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Gm={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Qm={date:Fa({formats:Um,defaultWidth:"full"}),time:Fa({formats:Km,defaultWidth:"full"}),dateTime:Fa({formats:Gm,defaultWidth:"full"})},zm={code:"en-US",formatDistance:km,formatLong:Qm,formatRelative:Am,localize:Em,match:jm,options:{weekStartsOn:0,firstWeekContainsDate:1}},Tl={noDisabledRange:!1,showLastInRange:!0,minMaxRawRange:!1,partialRange:!0,disableTimeRangeValidation:!1,maxRange:void 0,minRange:void 0,autoRange:void 0,fixedStart:!1,fixedEnd:!1,autoSwitchStartEnd:!0},Xm={allowStopPropagation:!0,closeOnScroll:!1,modeHeight:255,allowPreventDefault:!1,closeOnClearValue:!0,closeOnAutoApply:!0,noSwipe:!1,keepActionRow:!1,onClickOutside:void 0,tabOutClosesMenu:!0,arrowLeft:void 0,keepViewOnOffsetClick:!1,timeArrowHoldThreshold:0,shadowDom:!1,mobileBreakpoint:600,setDateOnMenuClose:!1,escClose:!0,spaceConfirm:!0,monthChangeOnArrows:!0,monthChangeOnScroll:!0},Ml={enterSubmit:!0,tabSubmit:!0,openMenu:"open",selectOnFocus:!1,rangeSeparator:" - ",escClose:!0,format:void 0,maskFormat:void 0,applyOnBlur:!1,separators:void 0},Zm={dates:[],years:[],months:[],quarters:[],weeks:[],weekdays:[],options:{highlightDisabled:!1}},Jm={showSelect:!0,showCancel:!0,showNow:!1,showPreview:!0,selectBtnLabel:"Select",cancelBtnLabel:"Cancel",nowBtnLabel:"Now",nowBtnRound:void 0},ev={toggleOverlay:"Toggle overlay",menu:"Datepicker menu",input:"Datepicker input",openTimePicker:"Open time picker",closeTimePicker:"Close time Picker",incrementValue:e=>`Increment ${e}`,decrementValue:e=>`Decrement ${e}`,openTpOverlay:e=>`Open ${e} overlay`,amPmButton:"Switch AM/PM mode",openYearsOverlay:"Open years overlay",openMonthsOverlay:"Open months overlay",nextMonth:"Next month",prevMonth:"Previous month",nextYear:"Next year",prevYear:"Previous year",day:void 0,weekDay:void 0,clearInput:"Clear value",calendarIcon:"Calendar icon",timePicker:"Time picker",monthPicker:e=>`Month picker${e?" overlay":""}`,yearPicker:e=>`Year picker${e?" overlay":""}`,timeOverlay:e=>`${e} overlay`},Ol={menuAppearTop:"dp-menu-appear-top",menuAppearBottom:"dp-menu-appear-bottom",open:"dp-slide-down",close:"dp-slide-up",next:"calendar-next",previous:"calendar-prev",vNext:"dp-slide-up",vPrevious:"dp-slide-down"},tv={weekDays:[],months:[],years:[],times:{hours:[],minutes:[],seconds:[]}},rv={month:"LLL",year:"yyyy",weekDay:"EEEEEE",quarter:"MMMM",day:"d",input:void 0,preview:void 0},nv={enableTimePicker:!0,ignoreTimeValidation:!1,enableSeconds:!1,enableMinutes:!0,is24:!0,noHoursOverlay:!1,noMinutesOverlay:!1,noSecondsOverlay:!1,hoursGridIncrement:1,minutesGridIncrement:5,secondsGridIncrement:5,hoursIncrement:1,minutesIncrement:1,secondsIncrement:1,timePickerInline:!1,startTime:void 0},av={flowStep:0,menuWrapRef:null,collapse:!1},ov={weekStart:ws.Monday,yearRange:()=>[1900,2100],ui:()=>({}),locale:()=>zm,dark:!1,transitions:!0,hideNavigation:()=>[],vertical:!1,hideMonthYearSelect:!1,disableYearSelect:!1,autoApply:!1,disabledDates:()=>[],hideOffsetDates:!1,noToday:!1,markers:()=>[],presetDates:()=>[],preventMinMaxNavigation:!1,reverseYears:!1,weekPicker:!1,arrowNavigation:!1,monthPicker:!1,yearPicker:!1,quarterPicker:!1,timePicker:!1,modelAuto:!1,multiDates:!1,range:!1,inline:!1,sixWeeks:!1,focusStartDate:!1,yearFirst:!1,loading:!1,centered:!1},Pl={name:void 0,required:!1,autocomplete:"off",state:void 0,clearable:!0,alwaysClearable:!1,hideInputIcon:!1,id:void 0,inputmode:"none"},Nn={type:"local",hideOnOffsetDates:!1,label:"W"},lv=e=>{const{getMapKey:t,getMapKeyType:r,getTimeObjFromCurrent:n}=Ze();function a(L,q){let ie;return e.timezone?ie=new Rr(L??new Date,e.timezone):ie=L?new Date(L):new Date,q?Te(ie,{hours:0,minutes:0,seconds:0,milliseconds:0}):ie}const o=()=>{const L=J.value.enableSeconds?":ss":"",q=J.value.enableMinutes?":mm":"";return J.value.is24?`HH${q}${L}`:`hh${q}${L} aa`},l=()=>e.monthPicker?"MM/yyyy":e.timePicker?o():e.weekPicker?`${Y.value?.type==="iso"?"II":"ww"}-RR`:e.yearPicker?"yyyy":e.quarterPicker?"QQQ/yyyy":J.value.enableTimePicker?`MM/dd/yyyy, ${o()}`:"MM/dd/yyyy",i=L=>n(a(),L,J.value.enableSeconds),s=()=>C.value.enabled?J.value.startTime&&Array.isArray(J.value.startTime)?[i(J.value.startTime[0]),i(J.value.startTime[1])]:null:J.value.startTime&&!Array.isArray(J.value.startTime)?i(J.value.startTime):null,c=L=>L?typeof L=="boolean"?L?2:0:Math.max(+L,2):0,f=L=>{const q=r(e.monthPicker,e.yearPicker);return new Map(L.map(ie=>{const K=a(ie,m.value);return[t(K,q),K]}))},m=B(()=>e.monthPicker||e.yearPicker||e.quarterPicker),v=B(()=>{const L=typeof e.multiCalendars=="object"&&e.multiCalendars,q={static:!0,solo:!1};if(!e.multiCalendars)return{...q,count:c(!1)};const ie=L?e.multiCalendars:{},K=L?ie.count??!0:e.multiCalendars,le=c(K);return Object.assign(q,ie,{count:le})}),u=B(()=>s()),w=B(()=>({...ev,...e.ariaLabels})),b=B(()=>({...tv,...e.filters})),x=B(()=>typeof e.transitions=="boolean"?e.transitions?Ol:!1:{...Ol,...e.transitions}),d=B(()=>({...Jm,...e.actionRow})),p=B(()=>typeof e.textInput=="object"?{...Ml,...e.textInput,format:typeof e.textInput.format=="string"?e.textInput.format:H.value.input,pattern:e.textInput.format??H.value.input,enabled:!0}:{...Ml,format:H.value.input,pattern:H.value.input,enabled:e.textInput}),y=B(()=>{const L={input:!1};return typeof e.inline=="object"?{...L,...e.inline,enabled:!0}:{enabled:e.inline,...L}}),_=B(()=>({...Xm,...e.config})),S=B(()=>typeof e.highlight=="function"?e.highlight:{...Zm,...e.highlight}),Y=B(()=>typeof e.weekNumbers=="object"?{type:e.weekNumbers?.type??Nn.type,hideOnOffsetDates:e.weekNumbers?.hideOnOffsetDates??Nn.hideOnOffsetDates,label:e.weekNumbers.label??Nn.label}:e.weekNumbers?Nn:void 0),k=B(()=>typeof e.multiDates=="boolean"?{enabled:e.multiDates,dragSelect:!0,limit:null}:{enabled:!!e.multiDates,limit:e.multiDates?.limit?+e.multiDates.limit:null,dragSelect:e.multiDates?.dragSelect??!0}),P=B(()=>({minDate:e.minDate?a(e.minDate):null,maxDate:e.maxDate?a(e.maxDate):null,disabledDates:Array.isArray(e.disabledDates)?f(e.disabledDates):e.disabledDates,allowedDates:Array.isArray(e.allowedDates)?f(e.allowedDates):null,highlight:typeof S.value=="object"&&Array.isArray(S.value.dates)?f(S.value.dates):S.value,markers:e.markers?.length?new Map(e.markers.map(L=>{const q=a(L.date);return[t(q,Lr.DATE),L]})):null})),C=B(()=>typeof e.range=="object"?{enabled:!0,...Tl,...e.range}:{enabled:e.range,...Tl}),N=B(()=>({...Object.fromEntries(Object.keys(e.ui).map(L=>{const q=L,ie=e.ui[q];if(q==="dayClass")return[q,e.ui[q]];const K=typeof e.ui[q]=="string"?{[ie]:!0}:Object.fromEntries(ie.map(le=>[le,!0]));return[L,K]}))})),H=B(()=>({...rv,...e.formats,input:e.formats?.input??l(),preview:e.formats?.preview??l()})),W=B(()=>{if(e.teleport)return typeof e.teleport=="string"?e.teleport:typeof e.teleport=="boolean"?"body":e.teleport}),J=B(()=>({...nv,...e.timeConfig})),ee=B(()=>{if(e.flow)return{steps:[],partial:!1,...e.flow}}),j=B(()=>{const L=p.value.enabled?"text":"none";return e.inputAttrs?{...Pl,inputmode:L,...e.inputAttrs}:{...Pl,inputmode:L}}),Q=B(()=>({offset:e.floating?.offset??10,arrow:e.floating?.arrow??!0,strategy:e.floating?.strategy??void 0,placement:e.floating?.placement??void 0,flip:e.floating?.flip??!0,shift:e.floating?.shift??!0}));return{transitions:x,multiCalendars:v,startTime:u,ariaLabels:w,filters:b,actionRow:d,textInput:p,inline:y,config:_,highlight:S,weekNumbers:Y,range:C,safeDates:P,multiDates:k,ui:N,formats:H,teleport:W,timeConfig:J,flow:ee,inputAttrs:j,floatingConfig:Q,getDate:a}},Ze=()=>{const e=(p,y)=>yt(p,y??Lr.DATE),t=(p,y)=>p?Lr.MONTH_AND_YEAR:y?Lr.YEAR:Lr.DATE,r=(p,y,_)=>y.get(e(p,_)),n=p=>p,a=p=>p===0?p:!p||Number.isNaN(+p)?null:+p,o=()=>["a[href]","area[href]","input:not([disabled]):not([type='hidden'])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","[tabindex]:not([tabindex='-1'])","[data-datepicker-instance]"].join(", "),l=(p,y)=>{let _=[...document.querySelectorAll(o())];_=_.filter(Y=>!p.contains(Y)||"datepicker-instance"in Y.dataset);const S=_.indexOf(p);if(S>=0&&(y?S-1>=0:S+1<=_.length))return _[S+(y?-1:1)]},i=p=>String(p).padStart(2,"0"),s=(p,y)=>p?.querySelector(`[data-dp-element="${y}"]`),c=(p,y,_=!1)=>{p&&y.allowStopPropagation&&(_&&p.stopImmediatePropagation(),p.stopPropagation())},f=(p,y,_=!1,S)=>{if(p.key===Ie.enter||p.key===Ie.space)return _&&p.preventDefault(),y();if(S)return S(p)},m=(p,y)=>{y.allowStopPropagation&&p.stopPropagation(),y.allowPreventDefault&&p.preventDefault()},v=p=>{if(p)return[...p.querySelectorAll("input, button, select, textarea, a[href]")][0]},u=()=>"ontouchstart"in globalThis||navigator.maxTouchPoints>0,w=p=>[12,1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11][p],b=p=>{const y=[],_=S=>S.filter(Y=>!!Y);for(let S=0;S<p.length;S+=3){const Y=[p[S],p[S+1],p[S+2]];y.push(_(Y))}return y},x={prop:p=>`"${p}" prop must be enabled!`,dateArr:p=>`You need to use array as "model-value" binding in order to support "${p}"`},d=(p,y,_,S,Y)=>{const k={hours:Wt,minutes:Gt,seconds:or};if(!y)return S?[k[p](_),k[p](_)]:k[p](_);if(Array.isArray(y)&&S){const P=y[0]??_,C=y[1];return[k[p](P),C?k[p](C):Y[p][1]??k[p](_)]}return Array.isArray(y)&&!S?k[p](y[y.length-1]??_):k[p](y)};return{getMapKey:e,getMapKeyType:t,getMapDate:r,convertType:n,getNumVal:a,findNextFocusableElement:l,padZero:i,getElWithin:s,checkStopPropagation:c,checkKeyDown:f,handleEventPropagation:m,findFocusableEl:v,isTouchDevice:u,hoursToAmPmHours:w,getGroupedList:b,setTimeModelValue:(p,y,_,S)=>{p.hours=d("hours",y,_,S,p),p.minutes=d("minutes",y,_,S,p),p.seconds=d("seconds",y,_,S,p)},getTimeObjFromCurrent:(p,y,_)=>{const S={hours:Wt(p),minutes:Gt(p),seconds:_?or(p):0};return Object.assign(S,y)},errorMapper:x}},ot=()=>{const{getDate:e}=Oe(),{getMapDate:t,getGroupedList:r}=Ze(),n=(d,p)=>{if(!d)return e();const y=e(d),_=Te(y,{hours:0,minutes:0,seconds:0,milliseconds:0});return p?jp(_):_},a=(d,p)=>{const y=e(p);return Te(y,{hours:+(d.hours??Wt(y)),minutes:+(d.minutes??Gt(y)),seconds:+(d.seconds??or(y)),milliseconds:0})},o=(d,p)=>{const y=kt(d,{weekStartsOn:+p}),_=wo(d,{weekStartsOn:+p});return[y,_]},l=(d,p)=>!d||!p?!1:Ut(n(d),n(p)),i=(d,p)=>!d||!p?!1:$r(n(d),n(p)),s=(d,p)=>!d||!p?!1:It(n(d),n(p)),c=(d,p,y)=>d?.[0]&&d?.[1]?s(y,d[0])&&l(y,d[1]):d?.[0]&&p?s(y,d[0])&&l(y,p)||l(y,d[0])&&s(y,p):!1,f=(d,p)=>{const y=s(d,p)?p:d,_=s(p,d)?p:d;return yo({start:y,end:_})},m=d=>`dp-${yt(d,"yyyy-MM-dd")}`,v=d=>n(Te(e(d),{date:1})),u=(d,p)=>{if(p){const y=ye(e(p));if(y>d)return 12;if(y===d)return Pe(e(p))}},w=(d,p)=>{if(p){const y=ye(e(p));return y<d?-1:y===d?Pe(e(p)):void 0}},b=d=>{if(d)return ye(e(d))},x=d=>({hours:Wt(d),minutes:Gt(d),seconds:or(d)});return{resetDateTime:n,groupListAndMap:(d,p)=>r(d).map(y=>y.map(_=>{const{active:S,disabled:Y,isBetween:k,highlighted:P}=p(_);return{..._,active:S,disabled:Y,className:{dp__overlay_cell_active:S,dp__overlay_cell:!S,dp__overlay_cell_disabled:Y,dp__overlay_cell_pad:!0,dp__overlay_cell_active_disabled:Y&&S,dp__cell_in_between:k,"dp--highlighted":P}}})),setTime:a,getWeekFromDate:o,isDateAfter:s,isDateBefore:l,isDateBetween:c,isDateEqual:i,getDaysInBetween:f,getCellId:m,resetDate:v,getMinMonth:u,getMaxMonth:w,getYearFromDate:b,getTimeObj:x,setTimeValue:d=>Te(e(),x(d)),sanitizeTime:(d,p,y)=>p&&(y||y===0)?Object.fromEntries(["hours","minutes","seconds"].map(_=>_===p?[_,y]:[_,Number.isNaN(+d[_])?void 0:+d[_]])):{hours:Number.isNaN(+d.hours)?void 0:+d.hours,minutes:Number.isNaN(+d.minutes)?void 0:+d.minutes,seconds:Number.isNaN(+(d.seconds??""))?void 0:+d.seconds},getBeforeAndAfterInRange:(d,p)=>{const y=us(n(p),d),_=wt(n(p),d);return{before:y,after:_}},isModelAuto:d=>Array.isArray(d)?!!d[0]&&!!d[1]:!1,matchDate:(d,p)=>d?p?p instanceof Map?!!t(d,p):p(e(d)):!1:!0,checkHighlightMonth:(d,p,y)=>typeof d=="function"?d({month:p,year:y}):d.months.some(_=>_.month===p&&_.year===y),checkHighlightYear:(d,p)=>typeof d=="function"?d(p):d.years.includes(p)}},ua=()=>{const{defaults:{config:e}}=Oe(),t=ue(0);et(()=>{r(),globalThis.addEventListener("resize",r,{passive:!0})}),yr(()=>{globalThis.removeEventListener("resize",r)});const r=()=>{t.value=globalThis.document.documentElement.clientWidth};return{isMobile:B(()=>t.value<=e.value.mobileBreakpoint?!0:void 0)}},ir=()=>{const{getDate:e,state:t,modelValue:r,rootProps:n,defaults:{formats:a,textInput:o}}=Oe(),l=w=>yt(Ot(e(),w),a.value.year,{locale:n.locale}),i=w=>yt(cs(e(),w),a.value.month,{locale:n.locale}),s=w=>yt(w,a.value.weekDay,{locale:n.locale}),c=w=>yt(w,a.value.quarter,{locale:n.locale}),f=(w,b)=>[w,b].map(x=>c(x)).join("-"),m=w=>yt(w,a.value.day,{locale:n.locale}),v=(w,b,x)=>{const d=x?a.value.preview:a.value.input;if(!w)return"";if(typeof d=="function")return d(w);const p=b??d,y={locale:n.locale};return Array.isArray(w)?`${yt(w[0],p,y)}${n.modelAuto&&!w[1]?"":o.value.rangeSeparator}${w[1]?yt(w[1],p,y):""}`:yt(w,p,y)},u=()=>{const w=b=>yt(b,o.value.format);return Array.isArray(r.value)?`${w(r.value[0])} ${o.value.rangeSeparator} ${r.value[1]?w(r.value[1]):""}`:""};return{formatYear:l,formatMonth:i,formatWeekDay:s,formatQuarter:c,formatSelectedDate:v,formatForTextInput:()=>t.isInputFocused&&r.value?Array.isArray(r.value)?u():yt(r.value,o.value.format):v(r.value),formatPreview:w=>v(w,void 0,!0),formatQuarterText:f,formatDay:m}},ca=()=>{const{rootProps:e}=Oe(),{formatYear:t,formatMonth:r}=ir();return{getMonths:()=>[0,1,2,3,4,5,6,7,8,9,10,11].map(n=>({text:r(n),value:n})),getYears:()=>{const n=[];for(let a=+e.yearRange[0];a<=+e.yearRange[1];a++)n.push({value:+a,text:t(a)});return e.reverseYears?n.reverse():n},isOutOfYearRange:n=>n<+e.yearRange[0]||n>+e.yearRange[1]}},iv=e=>({openMenu:()=>e.value?.openMenu(),closeMenu:()=>e.value?.closeMenu(),selectDate:()=>e.value?.selectDate(),clearValue:()=>e.value?.clearValue(),formatInputValue:()=>e.value?.formatInputValue(),updateInternalModelValue:t=>e.value?.updateInternalModelValue(t),setMonthYear:(t,r)=>e.value?.setMonthYear(t,r),parseModel:()=>e.value?.parseModel(),switchView:(t,r)=>e.value?.switchView(t,r),handleFlow:()=>e.value?.handleFlow(),toggleMenu:()=>e.value?.toggleMenu(),dpMenuRef:()=>e.value?.dpMenuRef(),dpWrapMenuRef:()=>e.value?.dpWrapMenuRef(),inputRef:()=>e.value?.inputRef()}),zr=()=>({boolHtmlAttribute:e=>e?!0:void 0}),sv=()=>{const{getDate:e,rootProps:t,defaults:{textInput:r,startTime:n,timeConfig:a}}=Oe(),{getTimeObjFromCurrent:o}=Ze(),l=ue(!1),i=B(()=>Array.isArray(n.value)?n.value[0]:n.value??o(e(),{},a.value.enableSeconds)),s=(f,m)=>{const v=/[^a-zA-Z]+/g,u=/\D+/g,w=m.split(u),b=f.split(v),x=f.match(v)||[],d=m.match(u)||[];let p="";for(let y=0;y<w.length&&y<b.length;y++){y>0&&d[y-1]&&(p+=x[y-1]||d[y-1]);const _=w[y]?.length;p+=b[y]?.slice(0,_)}return p},c=(f,m,v)=>{const u=Xa(f,s(m,f),e(),{locale:t.locale});return on(u)&&Ji(u)?v||l.value?u:Te(u,{hours:+i.value.hours,minutes:+i.value.minutes,seconds:+(i.value.seconds??0),milliseconds:0}):null};return{textPasted:l,parseFreeInput:(f,m)=>{if(typeof r.value.pattern=="string")return c(f,r.value.pattern,m);if(Array.isArray(r.value.pattern)){let v=null;for(const u of r.value.pattern)if(v=c(f,u,m),v)break;return v}return typeof r.value.pattern=="function"?r.value.pattern(f):null},applyMaxValues:(f,m)=>{const v={MM:12,DD:31,hh:23,mm:59,ss:59};let u="",w=0;for(let b=0;b<m.length;b++){const x=m[b],d=x.length,p=f.slice(w,w+d);if(!p)break;if(p.length<d)u+=p;else{let y=Number.parseInt(p,10);v[x]&&y>v[x]&&(y=v[x]),u+=y.toString().padStart(d,"0").slice(0,d)}w+=d}return u},createMaskedValue:(f,m)=>{const v=/(YYYY|MM|DD|hh|mm|ss)/g,u=[...m.matchAll(v)].map(p=>p[0]),w=m.replace(v,"|").split("|").filter(Boolean),b=u.map(p=>p.length);let x="",d=0;for(let p=0;p<u.length;p++){const y=b[p],_=f.slice(d,d+y);if(!_)break;x+=_,_.length===y&&w[p]&&(x+=w[p]),d+=y}return x}}};var Et=(e=>(e.Input="input",e.DatePicker="date-picker",e.Calendar="calendar",e.DatePickerHeader="date-picker-header",e.Menu="menu",e.ActionRow="action-row",e.TimePicker="time-picker",e.TimeInput="time-input",e.PassTrough="pass-trough",e.MonthPicker="month-picker",e.YearMode="year-mode",e.QuarterPicker="quarter-picker",e.YearPicker="year-picker",e))(Et||{});const Mr=["time-input","time-picker","pass-trough"],bs=[{name:"trigger",use:["input"]},{name:"input-icon",use:["input"]},{name:"clear-icon",use:["input"]},{name:"dp-input",use:["input"]},{name:"clock-icon",use:["time-picker","time-input","pass-trough"]},{name:"arrow-left",use:["date-picker-header","pass-trough","year-mode"]},{name:"arrow-right",use:["date-picker-header","pass-trough","year-mode"]},{name:"arrow-up",use:["time-picker","time-input","date-picker-header","pass-trough"]},{name:"arrow-down",use:["time-picker","time-input","date-picker-header","pass-trough"]},{name:"calendar-icon",use:["date-picker-header","time-picker","pass-trough","year-mode"]},{name:"day",use:["calendar","pass-trough"]},{name:"month-overlay-value",use:["date-picker-header","pass-trough","month-picker"]},{name:"year-overlay-value",use:["date-picker-header","pass-trough","year-mode","year-picker"]},{name:"year-overlay",use:["date-picker-header","pass-trough"]},{name:"month-overlay",use:["date-picker-header","pass-trough"]},{name:"month-overlay-header",use:["date-picker-header","pass-trough"]},{name:"year-overlay-header",use:["date-picker-header","pass-trough"]},{name:"hours-overlay-value",use:Mr},{name:"hours-overlay-header",use:Mr},{name:"minutes-overlay-value",use:Mr},{name:"minutes-overlay-header",use:Mr},{name:"seconds-overlay-value",use:Mr},{name:"seconds-overlay-header",use:Mr},{name:"hours",use:["time-input","time-picker","pass-trough"]},{name:"minutes",use:["time-input","time-picker","pass-trough"]},{name:"seconds",use:["time-input","time-picker","pass-trough"]},{name:"month",use:["date-picker-header","time-picker","pass-trough"]},{name:"year",use:["date-picker-header","time-picker","pass-trough","year-mode"]},{name:"action-buttons",use:["action-row"]},{name:"action-preview",use:["action-row"]},{name:"calendar-header",use:["calendar","pass-trough"]},{name:"marker-tooltip",use:["calendar","pass-trough"]},{name:"action-extra",use:["menu"]},{name:"time-picker-overlay",use:["time-picker","time-picker","pass-trough"]},{name:"am-pm-button",use:["time-picker","time-input","pass-trough"]},{name:"left-sidebar",use:["menu"]},{name:"right-sidebar",use:["menu"]},{name:"month-year",use:["date-picker-header","pass-trough","month-picker","year-picker"]},{name:"time-picker",use:["date-picker","pass-trough"]},{name:"action-row",use:["action-row"]},{name:"marker",use:["calendar","pass-trough"]},{name:"quarter",use:["quarter-picker","pass-trough"]},{name:"top-extra",use:["date-picker-header","pass-trough","month-picker","quarter-picker","year-picker"]},{name:"tp-inline-arrow-up",use:["date-picker","time-input","time-picker","pass-trough"]},{name:"tp-inline-arrow-down",use:["date-picker","time-input","time-picker","pass-trough"]},{name:"arrow",use:["menu"]},{name:"menu-header",use:["menu"]}],Ht=(e,t)=>bs.filter(r=>e[r.name]&&r.use.includes(t)).map(r=>r.name),xs=(e,t)=>bs.map(r=>r.name).concat(t?.filter(r=>r.slot).map(r=>r.slot)??[]).filter(r=>!!e[r]),uv={key:1,class:"dp__input_wrap"},cv=["id","name","inputmode","placeholder","disabled","readonly","required","value","autocomplete","aria-label","aria-disabled","aria-invalid"],dv={key:1,class:"dp--clear-btn"},fv=["aria-label"],pv=Xe({__name:"DatepickerInput",props:{isMenuOpen:{type:Boolean,default:!1}},emits:["clear","open","set-input-date","close","select-date","set-empty-date","toggle","focus","blur","real-blur"],setup(e,{expose:t,emit:r}){const n=r,a=e,{rootEmit:o,inputValue:l,rootProps:i,defaults:{textInput:s,ariaLabels:c,inline:f,config:m,range:v,multiDates:u,ui:w,inputAttrs:b}}=Oe(),{checkMinMaxRange:x,isValidDate:d}=_t(),{parseFreeInput:p,textPasted:y,createMaskedValue:_,applyMaxValues:S}=sv(),{checkKeyDown:Y,checkStopPropagation:k}=Ze(),{boolHtmlAttribute:P}=zr(),C=Ve("dp-input"),N=ue(null),H=ue(!1),W=B(()=>({dp__pointer:!i.disabled&&!i.readonly&&!s.value.enabled,dp__disabled:i.disabled,dp__input_readonly:!s.value.enabled,dp__input:!0,dp__input_not_clearable:!b.value.clearable,dp__input_icon_pad:!b.value.hideInputIcon,dp__input_valid:typeof b.value.state=="boolean"?b.value.state:!1,dp__input_invalid:typeof b.value.state=="boolean"?!b.value.state:!1,dp__input_focus:H.value||a.isMenuOpen,dp__input_reg:!s.value.enabled,...w.value.input})),J=()=>{n("set-input-date",null),b&&i.autoApply&&(n("set-empty-date"),N.value=null)},ee=D=>{if(s.value.separators?.length){const R=new RegExp(s.value.separators.map(X=>X.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")).join("|"));return D.split(R)}return D.split(s.value.rangeSeparator)},j=D=>{const[R,X]=ee(D);if(R){const T=p(R.trim(),l.value),F=X?p(X.trim(),l.value):void 0;if(It(T,F))return;const te=T&&F?[T,F]:[T];x(F,te,0)&&(N.value=T?te:null)}},Q=()=>{y.value=!0},L=D=>{if(v.value.enabled)j(D);else if(u.value.enabled){const R=D.split(";");N.value=R.map(X=>p(X.trim())).filter(X=>!!X)}else N.value=p(D,l.value)},q=D=>{const R=typeof D=="string"?D:D.target?.value,X=s?.value?.maskFormat;let T=R;if(typeof X=="string"){const F=/(YYYY|MM|DD|hh|mm|ss)/g,te=[...X.matchAll(F)].map(g=>g[0]),O=R.replace(/\D/g,""),V=S(O,te);T=_(V,X)}T===""?J():(s.value.openMenu&&!a.isMenuOpen&&n("open"),L(T),n("set-input-date",N.value)),y.value=!1,l.value=T,o("text-input",D,N.value)},ie=D=>{s.value.enabled?(L(D.target.value),s.value.enterSubmit&&d(N.value)&&l.value!==""?(n("set-input-date",N.value,!0),N.value=null):s.value.enterSubmit&&l.value===""&&(N.value=null,n("clear"))):he(D)},K=(D,R)=>{s.value.enabled&&s.value.tabSubmit&&!R&&L(D.target.value),s.value.tabSubmit&&d(N.value)&&l.value!==""?(n("set-input-date",N.value,!0,!0),N.value=null):s.value.tabSubmit&&l.value===""&&(N.value=null,n("clear"))},le=()=>{H.value=!0,n("focus"),ut().then(()=>{s.value.enabled&&s.value.selectOnFocus&&C.value?.select()})},he=D=>{if(k(D,m.value,!0),s.value.enabled&&s.value.openMenu&&!f.value.input){if(s.value.openMenu==="open"&&!a.isMenuOpen)return n("open");if(s.value.openMenu==="toggle")return n("toggle")}else s.value.enabled||n("toggle")},ke=()=>{n("real-blur"),H.value=!1,(!a.isMenuOpen||f.value.enabled&&f.value.input)&&n("blur"),(i.autoApply&&s.value.enabled&&N.value&&!a.isMenuOpen||s.value.applyOnBlur)&&(n("set-input-date",N.value),n("select-date"),N.value=null)},ae=D=>{k(D,m.value,!0),n("clear")},ve=()=>{n("close")},ce=D=>{if(D.key==="Tab"&&K(D),D.key==="Enter"&&ie(D),D.key==="Escape"&&s.value.escClose&&ve(),!s.value.enabled){if(D.code==="Tab")return;D.preventDefault()}},_e=()=>{C.value?.focus({preventScroll:!0})},me=D=>{N.value=D},Ee=D=>{D.key===Ie.tab&&K(D,!0)};return t({focusInput:_e,setParsedDate:me}),(D,R)=>(I(),Z("div",{onClick:he},[!D.$slots["dp-input"]&&!h(f).enabled?oe(D.$slots,"trigger",{key:0}):z("",!0),!D.$slots.trigger&&(!h(f).enabled||h(f).input)?(I(),Z("div",uv,[!D.$slots.trigger&&(!h(f).enabled||h(f).enabled&&h(f).input)?oe(D.$slots,"dp-input",{key:0,value:h(l),isMenuOpen:e.isMenuOpen,onInput:q,onEnter:ie,onTab:K,onClear:ae,onBlur:ke,onKeypress:ce,onPaste:Q,onFocus:le,openMenu:()=>D.$emit("open"),closeMenu:()=>D.$emit("close"),toggleMenu:()=>D.$emit("toggle")},()=>[we("input",{id:h(b).id,ref:"dp-input","data-test-id":"dp-input",name:h(b).name,class:be(W.value),inputmode:h(b).inputmode,placeholder:h(i).placeholder,disabled:h(P)(h(i).disabled),readonly:h(P)(h(i).readonly),required:h(P)(h(b).required),value:h(l),autocomplete:h(b).autocomplete,"aria-label":h(c).input,"aria-disabled":h(i).disabled||void 0,"aria-invalid":h(b).state===!1?!0:void 0,onInput:q,onBlur:ke,onFocus:le,onKeypress:ce,onKeydown:R[0]||(R[0]=X=>ce(X)),onPaste:Q,onInvalid:R[1]||(R[1]=X=>h(o)("invalid",X))},null,42,cv)]):z("",!0),we("div",{onClick:R[4]||(R[4]=X=>n("toggle"))},[D.$slots["input-icon"]&&!h(b).hideInputIcon?(I(),Z("span",{key:0,class:"dp__input_icon",onClick:R[2]||(R[2]=X=>n("toggle"))},[oe(D.$slots,"input-icon")])):z("",!0),!D.$slots["input-icon"]&&!h(b).hideInputIcon&&!D.$slots["dp-input"]?(I(),xe(h(bn),{key:1,"aria-label":h(c)?.calendarIcon,class:"dp__input_icon dp__input_icons",onClick:R[3]||(R[3]=X=>n("toggle"))},null,8,["aria-label"])):z("",!0)]),D.$slots["clear-icon"]&&(h(b).alwaysClearable||h(l)&&h(b).clearable&&!h(i).disabled&&!h(i).readonly)?(I(),Z("span",dv,[oe(D.$slots,"clear-icon",{clear:ae})])):z("",!0),!D.$slots["clear-icon"]&&(h(b).alwaysClearable||h(b).clearable&&h(l)&&!h(i).disabled&&!h(i).readonly)?(I(),Z("button",{key:2,"aria-label":h(c)?.clearInput,class:"dp--clear-btn",type:"button","data-test-id":"clear-input-value-btn",onKeydown:R[5]||(R[5]=X=>h(Y)(X,()=>ae(X),!0,Ee)),onClick:R[6]||(R[6]=mr(X=>ae(X),["prevent"]))},[Se(h(fm),{class:"dp__input_icons"})],40,fv)):z("",!0)])):z("",!0)]))}}),hv={ref:"action-row",class:"dp__action_row"},mv=["title"],vv={ref:"action-buttons-container",class:"dp__action_buttons","data-dp-element":"action-row"},gv=["disabled"],yv=Xe({__name:"ActionRow",props:{menuMount:{type:Boolean,default:!1},calendarWidth:{default:0}},emits:["close-picker","select-date","select-now"],setup(e,{emit:t}){const r=t,n=e,{rootEmit:a,rootProps:o,modelValue:l,defaults:{actionRow:i,multiCalendars:s,inline:c,range:f,multiDates:m,formats:v}}=Oe(),{isTimeValid:u,isMonthValid:w}=_t(),{formatPreview:b}=ir(),{checkKeyDown:x,convertType:d}=Ze(),{boolHtmlAttribute:p}=zr(),y=Ve("action-buttons-container"),_=Ve("action-row"),S=ue(!1),Y=ue({});et(()=>{k(),globalThis.addEventListener("resize",k)}),yr(()=>{globalThis.removeEventListener("resize",k)});const k=()=>{S.value=!1,setTimeout(()=>{const Q=y.value?.getBoundingClientRect(),L=_.value?.getBoundingClientRect();Q&&L&&(Y.value.maxWidth=`${L.width-Q.width-20}px`),S.value=!0},0)},P=B(()=>f.value.enabled&&!f.value.partialRange&&l.value?l.value.length===2:!0),C=B(()=>!u.value(l.value)||!w.value(l.value)||!P.value),N=()=>{const Q=v.value.preview;return o.timePicker||o.monthPicker,Q(d(l.value))},H=()=>{const Q=l.value;return s.value.count>0?`${b(Q[0])} - ${b(Q[1])}`:[b(Q[0]),b(Q[1])]},W=B(()=>!l.value||!n.menuMount?"":typeof v.value.preview=="string"?Array.isArray(l.value)?l.value.length===2&&l.value[1]?H():m.value.enabled?l.value.map(Q=>`${b(Q)}`):o.modelAuto?`${b(l.value[0])}`:`${b(l.value[0])} -`:b(l.value):N()),J=()=>m.value.enabled?"; ":" - ",ee=B(()=>Array.isArray(W.value)?W.value.join(J()):W.value),j=()=>{u.value(l.value)&&w.value(l.value)&&P.value?r("select-date"):a("invalid-select")};return(Q,L)=>(I(),Z("div",hv,[Q.$slots["action-row"]?oe(Q.$slots,"action-row",pt(xt({key:0},{modelValue:h(l),disabled:C.value,selectDate:()=>Q.$emit("select-date"),closePicker:()=>Q.$emit("close-picker")}))):(I(),Z($e,{key:1},[h(i).showPreview?(I(),Z("div",{key:0,class:"dp__selection_preview",title:ee.value||void 0,style:ht(Y.value)},[Q.$slots["action-preview"]&&S.value?oe(Q.$slots,"action-preview",{key:0,value:h(l),formatValue:ee.value}):z("",!0),!Q.$slots["action-preview"]&&S.value?(I(),Z($e,{key:1},[Ce(Fe(ee.value),1)],64)):z("",!0)],12,mv)):z("",!0),we("div",vv,[Q.$slots["action-buttons"]?oe(Q.$slots,"action-buttons",{key:0,value:h(l),selectDate:j,selectionDisabled:C.value}):z("",!0),Q.$slots["action-buttons"]?z("",!0):(I(),Z($e,{key:1},[!h(c).enabled&&h(i).showCancel?(I(),Z("button",{key:0,ref:"cancel-btn",type:"button","data-dp-action-element":"0",class:"dp__action_button dp__action_cancel",onClick:L[0]||(L[0]=q=>Q.$emit("close-picker")),onKeydown:L[1]||(L[1]=q=>h(x)(q,()=>Q.$emit("close-picker")))},Fe(h(i).cancelBtnLabel),545)):z("",!0),h(i).showNow?(I(),Z("button",{key:1,type:"button","data-dp-action-element":"0",class:"dp__action_button dp__action_cancel",onClick:L[2]||(L[2]=q=>Q.$emit("select-now")),onKeydown:L[3]||(L[3]=q=>h(x)(q,()=>Q.$emit("select-now")))},Fe(h(i).nowBtnLabel),33)):z("",!0),h(i).showSelect?(I(),Z("button",{key:2,ref:"select-btn",type:"button","data-dp-action-element":"0",class:"dp__action_button dp__action_select",disabled:h(p)(C.value),"data-test-id":"select-button",onKeydown:L[4]||(L[4]=q=>h(x)(q,()=>j())),onClick:j},Fe(h(i).selectBtnLabel),41,gv)):z("",!0)],64))],512)],64))],512))}}),da=()=>{const{rootProps:e,defaults:{multiCalendars:t}}=Oe(),r=B(()=>o=>e.hideNavigation?.includes(o)),n=B(()=>o=>t.value.count?t.value.solo?!0:o===0:!0),a=B(()=>o=>t.value.count?t.value.solo?!0:o===t.value.count-1:!0);return{hideNavigationButtons:r,showLeftIcon:n,showRightIcon:a}},wv=["role","aria-label","tabindex"],bv={class:"dp__selection_grid_header"},xv=["aria-selected","aria-disabled","data-dp-action-element","data-dp-element-active","data-test-id","onClick","onKeydown","onMouseover"],kv=["aria-label","data-dp-action-element"],_n=Xe({__name:"SelectionOverlay",props:{items:{},type:{},useRelative:{type:Boolean},height:{},overlayLabel:{},isLast:{type:Boolean},level:{}},emits:["selected","toggle","reset-flow","hover-value"],setup(e,{emit:t}){const r=t,n=e,{setState:a,defaults:{ariaLabels:o,config:l}}=Oe(),{hideNavigationButtons:i}=da(),{handleEventPropagation:s,checkKeyDown:c}=Ze(),f=Ve("toggle-button"),m=Ve("overlay-container"),v=Ve("grid-wrap"),u=ue(!1),w=ue(null),b=ue(),x=ue(0);qs(()=>{w.value=null}),et(async()=>{await ut(),Y(),a("arrowNavigationLevel",n.level??1)}),yr(()=>{a("arrowNavigationLevel",(n.level??1)-1)});const d=B(()=>({dp__overlay:!0,"dp--overlay-absolute":!n.useRelative,"dp--overlay-relative":n.useRelative})),p=B(()=>n.useRelative?{height:`${n.height}px`,width:"var(--dp-menu-min-width)"}:void 0),y=B(()=>({dp__overlay_col:!0})),_=B(()=>({dp__btn:!0,dp__button:!0,dp__overlay_action:!0,dp__over_action_scroll:u.value,dp__button_bottom:n.isLast})),S=B(()=>({dp__overlay_container:!0,dp__container_flex:n.items?.length<=6,dp__container_block:n.items?.length>6}));st(()=>n.items,()=>Y(!1),{deep:!0});const Y=(J=!0)=>{ut().then(()=>{const ee=document.querySelector(`[data-dp-element-active="${n.level??1}"]`),j=mt(v),Q=mt(f),L=mt(m),q=Q?Q.getBoundingClientRect().height:0;j&&(j.getBoundingClientRect().height?x.value=j.getBoundingClientRect().height-q:x.value=l.value.modeHeight-q),ee&&L&&J&&(L.scrollTop=ee.offsetTop-L.offsetTop-(x.value/2-ee.getBoundingClientRect().height)-q)})},k=J=>{J.disabled||r("selected",J.value)},P=()=>{r("toggle"),r("reset-flow")},C=J=>{l.value.escClose&&(P(),s(J,l.value))},N=J=>{b.value=J,r("hover-value",J)},H=J=>{if(J.key===Ie.esc)return C(J)},W=J=>{if(J.key===Ie.enter)return P()};return(J,ee)=>(I(),Z("div",{ref:"grid-wrap",class:be(d.value),style:ht(p.value),role:e.useRelative?void 0:"dialog","aria-label":e.overlayLabel,tabindex:e.useRelative?void 0:"0",onKeydown:H,onClick:ee[0]||(ee[0]=mr(()=>{},["prevent"]))},[we("div",{ref:"overlay-container",class:be(S.value),style:ht({"--dp-overlay-height":`${x.value}px`}),role:"grid"},[we("div",bv,[oe(J.$slots,"header")]),oe(J.$slots,"overlay",{},()=>[(I(!0),Z($e,null,Ye(e.items,(j,Q)=>(I(),Z("div",{key:Q,class:be(["dp__overlay_row",{dp__flex_row:e.items.length>=3}]),role:"row"},[(I(!0),Z($e,null,Ye(j,L=>(I(),Z("div",{key:L.value,role:"gridcell",class:be(y.value),"aria-selected":L.active||void 0,"aria-disabled":L.disabled||void 0,"data-dp-action-element":e.level??1,"data-dp-element-active":L.active?e.level??1:void 0,tabindex:"0","data-test-id":L.text,onClick:mr(q=>k(L),["prevent"]),onKeydown:q=>h(c)(q,()=>k(L),!0),onMouseover:q=>N(L.value)},[we("div",{class:be(L.className)},[oe(J.$slots,"item",{item:L},()=>[Ce(Fe(L.text),1)])],2)],42,xv))),128))],2))),128))])],6),J.$slots["button-icon"]?Hn((I(),Z("button",{key:0,ref:"toggle-button",type:"button","aria-label":h(o)?.toggleOverlay,class:be(_.value),tabindex:"0","data-dp-action-element":e.level??1,onClick:P,onKeydown:W},[oe(J.$slots,"button-icon")],42,kv)),[[qn,!h(i)(e.type)]]):z("",!0)],46,wv))}}),_v=["data-dp-mobile"],fa=Xe({__name:"InstanceWrap",props:{stretch:{type:Boolean},collapse:{type:Boolean}},setup(e){const{defaults:{multiCalendars:t}}=Oe(),{isMobile:r}=ua(),n=B(()=>t.value.count>0?[...new Array(t.value.count).keys()]:[0]);return(a,o)=>(I(),Z("div",{class:be({dp__menu_inner:!e.stretch,"dp--menu--inner-stretched":e.stretch,dp__flex_display:h(t).count>0,"dp--flex-display-collapsed":e.collapse}),"data-dp-mobile":h(r)},[oe(a.$slots,"default",{instances:n.value,wrapClass:{dp__instance_calendar:h(t).count>0}})],10,_v))}}),Av=["data-dp-element","aria-label","aria-disabled"],ln=Xe({__name:"ArrowBtn",props:{ariaLabel:{},elName:{},disabled:{type:Boolean}},emits:["activate","set-ref"],setup(e,{emit:t}){const{checkKeyDown:r}=Ze(),n=t;return(a,o)=>(I(),Z("button",{ref:"arrow-btn",type:"button","data-dp-element":e.elName,"data-dp-action-element":"0",class:"dp__btn dp--arrow-btn-nav",tabindex:"0","aria-label":e.ariaLabel,"aria-disabled":e.disabled||void 0,onClick:o[0]||(o[0]=l=>n("activate")),onKeydown:o[1]||(o[1]=l=>h(r)(l,()=>n("activate"),!0))},[we("span",{class:be(["dp__inner_nav",{dp__inner_nav_disabled:e.disabled}])},[oe(a.$slots,"default")],2)],40,Av))}}),Dv=["aria-label","data-test-id"],ks=Xe({__name:"YearModePicker",props:{items:{},instance:{},year:{},showYearPicker:{type:Boolean,default:!1},isDisabled:{}},emits:["handle-year","year-select","toggle-year-picker"],setup(e,{emit:t}){const r=t,n=e,{showRightIcon:a,showLeftIcon:o}=da(),{rootProps:l,defaults:{config:i,ariaLabels:s,ui:c}}=Oe(),{showTransition:f,transitionName:m}=xn(),{formatYear:v}=ir(),{boolHtmlAttribute:u}=zr(),w=ue(!1),b=B(()=>v(n.year)),x=(y=!1,_)=>{w.value=!w.value,r("toggle-year-picker",{flow:y,show:_})},d=y=>{w.value=!1,r("year-select",y)},p=(y=!1)=>{r("handle-year",y)};return(y,_)=>(I(),Z($e,null,[we("div",{class:be(["dp--year-mode-picker",{"dp--hidden-el":w.value}])},[h(o)(e.instance)?(I(),xe(ln,{key:0,ref:"mpPrevIconRef","aria-label":h(s)?.prevYear,disabled:h(u)(e.isDisabled(!1)),class:be(h(c)?.navBtnPrev),onActivate:_[0]||(_[0]=S=>p(!1))},{default:se(()=>[y.$slots["arrow-left"]?oe(y.$slots,"arrow-left",{key:0}):z("",!0),y.$slots["arrow-left"]?z("",!0):(I(),xe(h(ps),{key:1}))]),_:3},8,["aria-label","disabled","class"])):z("",!0),we("button",{ref:"mpYearButtonRef",class:"dp__btn dp--year-select",type:"button","aria-label":`${e.year}-${h(s)?.openYearsOverlay}`,"data-test-id":`year-mode-btn-${e.instance}`,"data-dp-action-element":"0",onClick:_[1]||(_[1]=()=>x(!1)),onKeydown:_[2]||(_[2]=Ws(mr(()=>x(!1),["prevent"]),["enter"]))},[y.$slots.year?oe(y.$slots,"year",{key:0,text:b.value,value:e.year}):z("",!0),y.$slots.year?z("",!0):(I(),Z($e,{key:1},[Ce(Fe(e.year),1)],64))],40,Dv),h(a)(e.instance)?(I(),xe(ln,{key:1,ref:"mpNextIconRef","aria-label":h(s)?.nextYear,disabled:h(u)(e.isDisabled(!0)),class:be(h(c)?.navBtnNext),onActivate:_[3]||(_[3]=S=>p(!0))},{default:se(()=>[y.$slots["arrow-right"]?oe(y.$slots,"arrow-right",{key:0}):z("",!0),y.$slots["arrow-right"]?z("",!0):(I(),xe(h(hs),{key:1}))]),_:3},8,["aria-label","disabled","class"])):z("",!0)],2),Se(Gr,{name:h(m)(e.showYearPicker),css:h(f)},{default:se(()=>[e.showYearPicker?(I(),xe(_n,{key:0,items:e.items,config:h(i),"is-last":h(l).autoApply&&!h(i).keepActionRow,"overlay-label":h(s)?.yearPicker?.(!0),type:"year",onToggle:x,onSelected:_[4]||(_[4]=S=>d(S))},Je({"button-icon":se(()=>[y.$slots["calendar-icon"]?oe(y.$slots,"calendar-icon",{key:0}):z("",!0),y.$slots["calendar-icon"]?z("",!0):(I(),xe(h(bn),{key:1}))]),_:2},[y.$slots["year-overlay-value"]?{name:"item",fn:se(({item:S})=>[oe(y.$slots,"year-overlay-value",{text:S.text,value:S.value})]),key:"0"}:void 0]),1032,["items","config","is-last","overlay-label"])):z("",!0)]),_:3},8,["name","css"])],64))}}),_s=e=>{const{getDate:t,rootEmit:r,state:n,month:a,year:o,modelValue:l,calendars:i,rootProps:s,defaults:{multiCalendars:c,range:f,safeDates:m,filters:v,highlight:u}}=Oe(),{resetDate:w,getYearFromDate:b,checkHighlightYear:x,groupListAndMap:d}=ot(),{getYears:p}=ca(),{validateMonthYear:y,checkMinMaxValue:_}=_t(),S=ue([!1]),Y=B(()=>p()),k=B(()=>(K,le)=>{const he=Te(w(t()),{month:a.value(K),year:o.value(K)}),ke=le?ts(he):Fr(he);return y(ke,s.preventMinMaxNavigation,le)}),P=()=>Array.isArray(l.value)&&c.value.solo&&l.value[1],C=()=>{for(let K=0;K<c.value.count;K++)if(K===0)i.value[K]=i.value[0];else if(K===c.value.count-1&&P())i.value[K]={month:Pe(l.value[1]),year:ye(l.value[1])};else{const le=Te(t(),i.value[K-1]);i.value[K]={month:Pe(le),year:ye(go(le,1))}}},N=K=>{if(!K)return C();const le=Te(t(),i.value[K]);return i.value[0].year=ye(ds(le,c.value.count-1)),C()},H=(K,le)=>{const he=qp(le,K);return f.value.showLastInRange&&he>1?le:K},W=K=>s.focusStartDate||c.value.solo?K[0]:K[1]?H(K[0],K[1]):K[0],J=()=>{if(l.value){const K=Array.isArray(l.value)?W(l.value):l.value;i.value[0]={month:Pe(K),year:ye(K)}}},ee=()=>{J(),c.value.count&&C()};st(l,(K,le)=>{n.isTextInputDate&&JSON.stringify(K??{})!==JSON.stringify(le??{})&&ee()}),et(()=>{ee()});const j=(K,le)=>{i.value[le].year=K,r("update-month-year",{instance:le,year:K,month:i.value[le].month}),c.value.count&&!c.value.solo&&N(le)},Q=B(()=>K=>d(Y.value,le=>{const he=o.value(K)===le.value,ke=_(le.value,b(m.value.minDate),b(m.value.maxDate))||v.value.years?.includes(o.value(K)),ae=x(u.value,le.value);return{active:he,disabled:ke,highlighted:ae}})),L=(K,le)=>{j(K,le),ie(le)},q=(K,le=!1)=>{if(!k.value(K,le)){const he=le?o.value(K)+1:o.value(K)-1;j(he,K)}},ie=(K,le=!1,he)=>{le||e("reset-flow"),he===void 0?S.value[K]=!S.value[K]:S.value[K]=he,S.value[K]?r("overlay-toggle",{open:!0,overlay:lt.year}):r("overlay-toggle",{open:!1,overlay:lt.year})};return{isDisabled:k,groupedYears:Q,showYearPicker:S,selectYear:j,setStartDate:()=>{s.startDate&&(l.value&&s.focusStartDate||!l.value)&&j(ye(t(s.startDate)),0)},toggleYearPicker:ie,handleYearSelect:L,handleYear:q}},pa=()=>{const{isDateAfter:e,isDateBefore:t,isDateEqual:r}=ot(),{getDate:n,rootEmit:a,rootProps:o,modelValue:l,defaults:{range:i}}=Oe();return{getRangeWithFixedDate:s=>Array.isArray(l.value)&&(l.value.length===2||l.value.length===1&&i.value.partialRange)?i.value.fixedStart&&(e(s,l.value[0])||r(s,l.value[0]))?[l.value[0],s]:i.value.fixedEnd&&(t(s,l.value[1])||r(s,l.value[1]))?[s,l.value[1]]:(a("invalid-fixed-range",s),l.value):[],setPresetDate:s=>{Array.isArray(s.value)&&s.value.length<=2&&i.value.enabled?l.value=s.value.map(c=>n(c)):Array.isArray(s.value)||(l.value=n(s.value))},checkRangeAutoApply:(s,c,f)=>{i&&(s[0]&&s[1]&&o.autoApply&&c("auto-apply",f),s[0]&&!s[1]&&(o.modelAuto||i.value.partialRange)&&o.autoApply&&c("auto-apply",f))},setMonthOrYearRange:s=>{let c=l.value?l.value.slice():[];return c.length===2&&c[1]!==null&&(c=[]),c.length?(t(s,c[0])?c.unshift(s):c[1]=s,a("range-end",s)):(c=[s],a("range-start",s)),c},handleMultiDatesSelect:(s,c)=>{if(l.value&&Array.isArray(l.value))if(l.value.some(f=>r(s,f))){const f=l.value.filter(m=>!r(m,s));l.value=f.length?f:null}else(c&&+c>l.value.length||!c)&&l.value.push(s);else l.value=[s]}}},Tv=(e,t)=>{const{getDate:r,rootEmit:n,state:a,calendars:o,year:l,modelValue:i,rootProps:s,defaults:{range:c,highlight:f,safeDates:m,filters:v,multiDates:u}}=Oe();kn(()=>{a.isTextInputDate&&L(ye(r(s.startDate)),0)});const{checkMinMaxRange:w,checkMinMaxValue:b}=_t(),{isDateBetween:x,resetDateTime:d,resetDate:p,getMinMonth:y,getMaxMonth:_,checkHighlightMonth:S,groupListAndMap:Y}=ot(),{checkRangeAutoApply:k,getRangeWithFixedDate:P,handleMultiDatesSelect:C,setMonthOrYearRange:N,setPresetDate:H}=pa(),{padZero:W}=Ze(),{getMonths:J,isOutOfYearRange:ee}=ca(),j=B(()=>J()),Q=ue(null),{selectYear:L,groupedYears:q,showYearPicker:ie,toggleYearPicker:K,handleYearSelect:le,handleYear:he,isDisabled:ke,setStartDate:ae}=_s(t);et(()=>{ae()});const ve=M=>M?{month:Pe(M),year:ye(M)}:{month:null,year:null},ce=()=>i.value?Array.isArray(i.value)?i.value.map(M=>ve(M)):ve(i.value):ve(),_e=(M,ne)=>{const re=o.value[M],Me=ce();return Array.isArray(Me)?Me.some(Ae=>Ae.year===re?.year&&Ae.month===ne):re?.year===Me.year&&ne===Me.month},me=(M,ne,re)=>{const Me=ce();return Array.isArray(Me)?l.value(ne)===Me[re]?.year&&M===Me[re]?.month:!1},Ee=(M,ne)=>{if(c.value.enabled){const re=ce();if(Array.isArray(i.value)&&Array.isArray(re)){const Me=me(M,ne,0)||me(M,ne,1),Ae=Te(p(r()),{month:M,year:l.value(ne)});return x(i.value,Q.value,Ae)&&!Me}return!1}return!1},D=B(()=>M=>Y(j.value,ne=>{const re=_e(M,ne.value),Me=b(ne.value,y(l.value(M),m.value.minDate),_(l.value(M),m.value.maxDate))||A(m.value.disabledDates,l.value(M),ne.value)||v.value.months?.includes(ne.value)||!U(m.value.allowedDates,l.value(M),ne.value)||ee(l.value(M)),Ae=Ee(ne.value,M),kr=S(f.value,ne.value,l.value(M));return{active:re,disabled:Me,isBetween:Ae,highlighted:kr}})),R=(M,ne)=>Te(p(r()),{month:M,year:l.value(ne)}),X=(M,ne)=>{const re=i.value?i.value:p(r());i.value=Te(re,{month:M,year:l.value(ne)}),t("auto-apply"),t("update-flow-step")},T=(M,ne)=>{const re=R(M,ne);c.value.fixedEnd||c.value.fixedStart?i.value=P(re):i.value?w(re,i.value)&&(i.value=N(R(M,ne))):i.value=[R(M,ne)],ut().then(()=>{k(i.value,t,i.value.length<2)})},F=(M,ne)=>{C(R(M,ne),u.value.limit),t("auto-apply",!0)},te=(M,ne)=>(o.value[ne].month=M,V(ne,o.value[ne].year,M),u.value.enabled?F(M,ne):c.value.enabled?T(M,ne):X(M,ne)),O=(M,ne)=>{L(M,ne),V(ne,M,null)},V=(M,ne,re)=>{let Me=re;if(!Me&&Me!==0){const Ae=ce();Me=Array.isArray(Ae)?Ae[M].month:Ae.month}n("update-month-year",{instance:M,year:ne,month:Me})},g=(M,ne)=>{Q.value=R(M,ne)},$=M=>{H({value:M}),t("auto-apply")},A=(M,ne,re)=>{if(M instanceof Map){const Me=`${W(re+1)}-${ne}`;return M.size?M.has(Me):!1}return typeof M=="function"?M(d(Te(r(),{month:re,year:ne}),!0)):!1},U=(M,ne,re)=>{if(M instanceof Map){const Me=`${W(re+1)}-${ne}`;return M.size?M.has(Me):!0}return!0};return{groupedMonths:D,groupedYears:q,year:l,isDisabled:ke,showYearPicker:ie,modelValue:i,toggleYearPicker:K,handleYearSelect:le,handleYear:he,presetDate:$,setHoverDate:g,selectMonth:te,selectYear:O,getModelMonthYear:ce}},Mv=Xe({__name:"MonthPicker",props:{flowStep:{},collapse:{type:Boolean},menuWrapRef:{},noOverlayFocus:{type:Boolean}},emits:["reset-flow","auto-apply","update-flow-step","mount"],setup(e,{expose:t,emit:r}){const n=r,a=e,o=lr(),{rootProps:l,defaults:{config:i}}=Oe(),s=Ht(o,Et.YearMode);et(()=>{n("mount")});const{groupedMonths:c,groupedYears:f,year:m,isDisabled:v,showYearPicker:u,modelValue:w,presetDate:b,setHoverDate:x,selectMonth:d,selectYear:p,toggleYearPicker:y,handleYearSelect:_,handleYear:S,getModelMonthYear:Y}=Tv(a,n);return t({getSidebarProps:()=>({modelValue:w,year:m,getModelMonthYear:Y,selectMonth:d,selectYear:p,handleYear:S}),presetDate:b,toggleYearPicker:k=>y(0,k)}),(k,P)=>(I(),xe(fa,{collapse:e.collapse,stretch:""},{default:se(({instances:C,wrapClass:N})=>[(I(!0),Z($e,null,Ye(C,H=>(I(),Z("div",{key:H,class:be(N)},[k.$slots["top-extra"]?oe(k.$slots,"top-extra",{key:0,value:h(w)}):z("",!0),oe(k.$slots,"month-year",xt({ref_for:!0},{year:h(m),months:h(c)(H),years:h(f)(H),selectMonth:h(d),selectYear:h(p),instance:H}),()=>[Se(_n,{items:h(c)(H),"is-last":h(l).autoApply&&!h(i).keepActionRow,height:h(i).modeHeight,"no-overlay-focus":!!(e.noOverlayFocus||h(l).textInput),"use-relative":"",level:0,type:"month",onSelected:W=>h(d)(W,H),onHoverValue:W=>h(x)(W,H)},Je({header:se(()=>[Se(ks,{items:h(f)(H),instance:H,"show-year-picker":h(u)[H],year:h(m)(H),"is-disabled":W=>h(v)(H,W),onHandleYear:W=>h(S)(H,W),onYearSelect:W=>h(_)(W,H),onToggleYearPicker:W=>h(y)(H,W?.flow,W?.show)},Je({_:2},[Ye(h(s),(W,J)=>({name:W,fn:se(ee=>[oe(k.$slots,W,xt({ref_for:!0},ee))])}))]),1032,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),_:2},[k.$slots["month-overlay-value"]?{name:"item",fn:se(({item:W})=>[oe(k.$slots,"month-overlay-value",{text:W.text,value:W.value})]),key:"0"}:void 0]),1032,["items","is-last","height","no-overlay-focus","onSelected","onHoverValue"])])],2))),128))]),_:3},8,["collapse"]))}}),Ov=(e,t)=>{const{rootEmit:r,getDate:n,state:a,modelValue:o,rootProps:l,defaults:{highlight:i,multiDates:s,filters:c,range:f,safeDates:m}}=Oe(),{getYears:v}=ca(),{isDateBetween:u,resetDate:w,resetDateTime:b,getYearFromDate:x,checkHighlightYear:d,groupListAndMap:p}=ot(),{checkRangeAutoApply:y,setMonthOrYearRange:_}=pa(),{checkMinMaxValue:S,checkMinMaxRange:Y}=_t();kn(()=>{a.isTextInputDate&&(P.value=ye(n(l.startDate)))});const k=ue(null),P=ue();et(()=>{l.startDate&&(o.value&&l.focusStartDate||!o.value)&&(P.value=ye(n(l.startDate)))});const C=j=>Array.isArray(o.value)?o.value.some(Q=>ye(Q)===j):o.value?ye(o.value)===j:!1,N=j=>f.value.enabled&&Array.isArray(o.value)?u(o.value,k.value,ee(j)):!1,H=j=>m.value.allowedDates?.size?m.value.allowedDates.has(`${j}`):!0,W=j=>m.value.disabledDates instanceof Map?m.value.disabledDates.size?m.value.disabledDates.has(`${j}`):!1:typeof m.value.disabledDates=="function"?m.value.disabledDates(Ot(b(Fr(n())),j)):!0,J=B(()=>p(v(),j=>{const Q=C(j.value),L=S(j.value,x(m.value.minDate),x(m.value.maxDate))||c.value.years.includes(j.value)||!H(j.value)||W(j.value),q=N(j.value)&&!Q,ie=d(i.value,j.value);return{active:Q,disabled:L,isBetween:q,highlighted:ie}})),ee=j=>Ot(w(Fr(n())),j);return{groupedYears:J,focusYear:P,setHoverValue:j=>{k.value=Ot(w(n()),j)},selectYear:j=>{if(r("update-month-year",{instance:0,year:j,month:Number.NaN}),s.value.enabled)return o.value?Array.isArray(o.value)&&((o.value?.map(Q=>ye(Q))).includes(j)?o.value=o.value.filter(Q=>ye(Q)!==j):o.value.push(Ot(b(n()),j))):o.value=[Ot(b(Fr(n())),j)],t("auto-apply",!0);f.value.enabled?Y(ee(j),o.value)&&(o.value=_(ee(j)),ut().then(()=>{y(o.value,t,o.value.length<2)})):(o.value=ee(j),t("auto-apply"))}}},Pv=Xe({__name:"YearPicker",props:{flowStep:{},collapse:{type:Boolean},menuWrapRef:{},noOverlayFocus:{type:Boolean}},emits:["reset-flow","auto-apply"],setup(e,{expose:t,emit:r}){const n=r,a=e,{modelValue:o,defaults:{config:l},rootProps:i}=Oe(),{groupedYears:s,focusYear:c,selectYear:f,setHoverValue:m}=Ov(a,n);return t({getSidebarProps:()=>({modelValue:o,selectYear:f})}),(v,u)=>(I(),Z("div",null,[v.$slots["top-extra"]?oe(v.$slots,"top-extra",{key:0,value:h(o)}):z("",!0),v.$slots["month-year"]?oe(v.$slots,"month-year",pt(xt({key:1},{years:h(s),selectYear:h(f)}))):(I(),xe(_n,{key:2,items:h(s),"is-last":h(i).autoApply&&!h(l).keepActionRow,height:h(l).modeHeight,"no-overlay-focus":!!(e.noOverlayFocus||h(i).textInput),"focus-value":h(c),type:"year","use-relative":"",onSelected:h(f),onHoverValue:h(m)},Je({_:2},[v.$slots["year-overlay-value"]?{name:"item",fn:se(({item:w})=>[oe(v.$slots,"year-overlay-value",{text:w.text,value:w.value})]),key:"0"}:void 0]),1032,["items","is-last","height","no-overlay-focus","focus-value","onSelected","onHoverValue"]))]))}}),Cv={key:0,class:"dp__time_input"},Sv=["data-compact","data-collapsed"],Ev=["data-test-id","aria-label","data-dp-action-element","onKeydown","onClick","onMousedown"],$v=["aria-label","disabled","data-dp-action-element","data-test-id","onKeydown","onClick"],Rv=["data-test-id","aria-label","data-dp-action-element","onKeydown","onClick","onMousedown"],Lv={key:0},Yv=["aria-label","data-dp-action-element","data-compact"],Iv=Xe({__name:"TimeInput",props:{hours:{},minutes:{},seconds:{},order:{},closeTimePickerBtn:{},disabledTimesConfig:{},validateTime:{}},emits:["update:hours","update:minutes","update:seconds","overlay-opened","overlay-closed","set-hours","set-minutes","reset-flow","mounted"],setup(e,{expose:t,emit:r}){const n=r,a=e,{getDate:o,rootEmit:l,rootProps:i,defaults:{ariaLabels:s,filters:c,config:f,range:m,multiCalendars:v,timeConfig:u}}=Oe(),{checkKeyDown:w,hoursToAmPmHours:b}=Ze(),{boolHtmlAttribute:x}=zr(),{sanitizeTime:d,groupListAndMap:p}=ot(),{transitionName:y,showTransition:_}=xn(),S=Br({hours:!1,minutes:!1,seconds:!1}),Y=ue("AM"),k=ue(null),P=ue(),C=ue(!1);et(()=>{n("mounted")});const N=A=>Te(o(),{hours:A.hours,minutes:A.minutes,seconds:u.value.enableSeconds?A.seconds:0,milliseconds:0}),H=B(()=>i.timePicker||u.value.timePickerInline?0:1),W=B(()=>A=>ve(A,a[A])||ee(A,a[A])),J=B(()=>({hours:a.hours,minutes:a.minutes,seconds:a.seconds})),ee=(A,U)=>m.value.enabled&&!m.value.disableTimeRangeValidation?!a.validateTime(A,U):!1,j=(A,U)=>{if(m.value.enabled&&!m.value.disableTimeRangeValidation){const M=U?+u.value[`${A}Increment`]:-+u.value[`${A}Increment`],ne=a[A]+M;return!a.validateTime(A,ne)}return!1},Q=B(()=>A=>!D(+a[A]+ +u.value[`${A}Increment`],A)||j(A,!0)),L=B(()=>A=>!D(+a[A]-+u.value[`${A}Increment`],A)||j(A,!1)),q=(A,U)=>zi(Te(o(),A),U),ie=(A,U)=>im(Te(o(),A),U),K=B(()=>({dp__time_col:!0,dp__time_col_block:!u.value.timePickerInline,dp__time_col_reg_block:!u.value.enableSeconds&&u.value.is24&&!u.value.timePickerInline,dp__time_col_reg_inline:!u.value.enableSeconds&&u.value.is24&&u.value.timePickerInline,dp__time_col_reg_with_button:!u.value.enableSeconds&&!u.value.is24,dp__time_col_sec:u.value.enableSeconds&&u.value.is24,dp__time_col_sec_with_button:u.value.enableSeconds&&!u.value.is24})),le=B(()=>u.value.timePickerInline&&m.value.enabled&&!v.value.count),he=B(()=>{const A=[{type:"hours"}];return u.value.enableMinutes&&A.push({type:"",separator:!0},{type:"minutes"}),u.value.enableSeconds&&A.push({type:"",separator:!0},{type:"seconds"}),A}),ke=B(()=>he.value.filter(A=>!A.separator)),ae=B(()=>A=>{if(A==="hours"){const U=O(+a.hours);return{text:U<10?`0${U}`:`${U}`,value:U}}return{text:a[A]<10?`0${a[A]}`:`${a[A]}`,value:a[A]}}),ve=(A,U)=>{if(!a.disabledTimesConfig)return!1;const M=a.disabledTimesConfig(a.order,A==="hours"?U:void 0);return M[A]?!!M[A]?.includes(U):!0},ce=(A,U)=>U!=="hours"||Y.value==="AM"?A:A+12,_e=A=>{const U=u.value.is24?24:12,M=A==="hours"?U:60,ne=+u.value[`${A}GridIncrement`],re=A==="hours"&&!u.value.is24?ne:0,Me=[];for(let Ae=re;Ae<M;Ae+=ne)Me.push({value:u.value.is24?Ae:ce(Ae,A),text:Ae<10?`0${Ae}`:`${Ae}`});return A==="hours"&&!u.value.is24&&Me.unshift({value:Y.value==="PM"?12:0,text:"12"}),p(Me,Ae=>({active:!1,disabled:c.value.times[A].includes(Ae.value)||!D(Ae.value,A)||ve(A,Ae.value)||ee(A,Ae.value)}))},me=A=>A>=0?A:59,Ee=A=>A>=0?A:23,D=(A,U)=>{const M=i.minTime?N(d(i.minTime)):null,ne=i.maxTime?N(d(i.maxTime)):null,re=N(d(J.value,U,U==="minutes"||U==="seconds"?me(A):Ee(A)));return M&&ne?(Ut(re,ne)||$r(re,ne))&&(It(re,M)||$r(re,M)):M?It(re,M)||$r(re,M):ne?Ut(re,ne)||$r(re,ne):!0},R=A=>u.value[`no${A[0].toUpperCase()+A.slice(1)}Overlay`],X=A=>{R(A)||(S[A]=!S[A],S[A]?(C.value=!0,n("overlay-opened",A)):(C.value=!1,n("overlay-closed",A)))},T=A=>A==="hours"?Wt:A==="minutes"?Gt:or,F=()=>{P.value&&clearTimeout(P.value)},te=(A,U=!0,M)=>{const ne=U?q:ie,re=U?+u.value[`${A}Increment`]:-+u.value[`${A}Increment`];D(+a[A]+re,A)&&n(`update:${A}`,T(A)(ne({[A]:+a[A]},{[A]:+u.value[`${A}Increment`]}))),!M?.keyboard&&f.value.timeArrowHoldThreshold&&(P.value=setTimeout(()=>{te(A,U)},f.value.timeArrowHoldThreshold))},O=A=>u.value.is24?A:(A>=12?Y.value="PM":Y.value="AM",b(A)),V=()=>{Y.value==="PM"?(Y.value="AM",n("update:hours",a.hours-12)):(Y.value="PM",n("update:hours",a.hours+12)),l("am-pm-change",Y.value)},g=A=>{S[A]=!0},$=(A,U)=>(X(A),n(`update:${A}`,U));return t({openChildCmp:g}),(A,U)=>h(i).disabled?z("",!0):(I(),Z("div",Cv,[(I(!0),Z($e,null,Ye(he.value,(M,ne)=>(I(),Z("div",{key:ne,class:be(K.value),"data-compact":le.value&&!h(u).enableSeconds,"data-collapsed":le.value&&h(u).enableSeconds},[M.separator?(I(),Z($e,{key:0},[C.value?z("",!0):(I(),Z($e,{key:0},[Ce(":")],64))],64)):(I(),Z($e,{key:1},[we("button",{type:"button",class:be({dp__btn:!0,dp__inc_dec_button:!h(u).timePickerInline,dp__inc_dec_button_inline:h(u).timePickerInline,dp__tp_inline_btn_top:h(u).timePickerInline,dp__inc_dec_button_disabled:Q.value(M.type),"dp--hidden-el":C.value}),"data-test-id":`${M.type}-time-inc-btn-${a.order}`,"aria-label":h(s)?.incrementValue(M.type),tabindex:"0","data-dp-action-element":H.value,onKeydown:re=>h(w)(re,()=>te(M.type,!0,{keyboard:!0}),!0),onClick:re=>h(f).timeArrowHoldThreshold?void 0:te(M.type,!0),onMousedown:re=>h(f).timeArrowHoldThreshold?te(M.type,!0):void 0,onMouseup:F},[h(u).timePickerInline?oe(A.$slots,"tp-inline-arrow-up",{key:1},()=>[U[2]||(U[2]=we("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1)),U[3]||(U[3]=we("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1))]):oe(A.$slots,"arrow-up",{key:0},()=>[Se(h(vs))])],42,Ev),we("button",{type:"button","aria-label":`${ae.value(M.type).text}-${h(s)?.openTpOverlay(M.type)}`,class:be({dp__time_display:!0,dp__time_display_block:!h(u).timePickerInline,dp__time_display_inline:h(u).timePickerInline,"dp--time-invalid":W.value(M.type),"dp--time-overlay-btn":!W.value(M.type),"dp--hidden-el":C.value}),disabled:h(x)(R(M.type)),tabindex:"0","data-dp-action-element":H.value,"data-test-id":`${M.type}-toggle-overlay-btn-${a.order}`,onKeydown:re=>h(w)(re,()=>X(M.type),!0),onClick:re=>X(M.type)},[oe(A.$slots,M.type,{text:ae.value(M.type).text,value:ae.value(M.type).value},()=>[Ce(Fe(ae.value(M.type).text),1)])],42,$v),we("button",{type:"button",class:be({dp__btn:!0,dp__inc_dec_button:!h(u).timePickerInline,dp__inc_dec_button_inline:h(u).timePickerInline,dp__tp_inline_btn_bottom:h(u).timePickerInline,dp__inc_dec_button_disabled:L.value(M.type),"dp--hidden-el":C.value}),"data-test-id":`${M.type}-time-dec-btn-${a.order}`,"aria-label":h(s)?.decrementValue(M.type),tabindex:"0","data-dp-action-element":H.value,onKeydown:re=>h(w)(re,()=>te(M.type,!1,{keyboard:!0}),!0),onClick:re=>h(f).timeArrowHoldThreshold?void 0:te(M.type,!1),onMousedown:re=>h(f).timeArrowHoldThreshold?te(M.type,!1):void 0,onMouseup:F},[h(u).timePickerInline?oe(A.$slots,"tp-inline-arrow-down",{key:1},()=>[U[4]||(U[4]=we("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1)),U[5]||(U[5]=we("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1))]):oe(A.$slots,"arrow-down",{key:0},()=>[Se(h(gs))])],42,Rv)],64))],10,Sv))),128)),h(u).is24?z("",!0):(I(),Z("div",Lv,[oe(A.$slots,"am-pm-button",{toggle:V,value:Y.value},()=>[we("button",{ref_key:"amPmButton",ref:k,type:"button",class:"dp__pm_am_button",role:"button","aria-label":h(s)?.amPmButton,tabindex:"0","data-dp-action-element":H.value,"data-compact":le.value,onClick:V,onKeydown:U[0]||(U[0]=M=>h(w)(M,()=>V(),!0))},Fe(Y.value),41,Yv)])])),(I(!0),Z($e,null,Ye(ke.value,(M,ne)=>(I(),xe(Gr,{key:ne,name:h(y)(S[M.type]),css:h(_)},{default:se(()=>[S[M.type]?(I(),xe(_n,{key:0,items:_e(M.type),"is-last":h(i).autoApply&&!h(f).keepActionRow,type:M.type,"aria-labels":h(s),level:h(u).timePickerInline||h(i).timePicker?1:2,"overlay-label":h(s).timeOverlay?.(M.type),onSelected:re=>$(M.type,re),onToggle:re=>X(M.type),onResetFlow:U[1]||(U[1]=re=>A.$emit("reset-flow"))},Je({"button-icon":se(()=>[oe(A.$slots,"clock-icon",{},()=>[A.$slots["clock-icon"]?z("",!0):(I(),xe(Ja(h(u).timePickerInline?h(bn):h(ms)),{key:0}))])]),_:2},[A.$slots[`${M.type}-overlay-value`]?{name:"item",fn:se(({item:re})=>[oe(A.$slots,`${M.type}-overlay-value`,{text:re.text,value:re.value})]),key:"0"}:void 0,A.$slots[`${M.type}-overlay-header`]?{name:"header",fn:se(()=>[oe(A.$slots,`${M.type}-overlay-header`,{toggle:()=>X(M.type)})]),key:"1"}:void 0]),1032,["items","is-last","type","aria-labels","level","overlay-label","onSelected","onToggle"])):z("",!0)]),_:2},1032,["name","css"]))),128))]))}}),Fv=["data-dp-mobile"],Bv=["aria-label","tabindex"],Nv=["role","aria-label","tabindex"],Vv=["aria-label"],As=Xe({__name:"TimePicker",props:{hours:{},minutes:{},seconds:{},disabledTimesConfig:{type:[Function,null]},noOverlayFocus:{type:Boolean},validateTime:{type:Function}},emits:["update:hours","update:minutes","update:seconds","mount","reset-flow"],setup(e,{expose:t,emit:r}){const n=r,a=e,{rootEmit:o,setState:l,modelValue:i,rootProps:s,defaults:{ariaLabels:c,textInput:f,config:m,range:v,timeConfig:u}}=Oe(),{isModelAuto:w}=ot(),{checkKeyDown:b,findFocusableEl:x}=Ze(),{transitionName:d,showTransition:p}=xn(),{hideNavigationButtons:y}=da(),{isMobile:_}=ua(),S=lr(),Y=Ve("overlay"),k=Ve("close-tp-btn"),P=Ve("tp-input"),C=ue(!1);et(()=>{n("mount")});const N=B(()=>v.value.enabled&&s.modelAuto?w(i.value):!0),H=ue(!1),W=ae=>({hours:Array.isArray(a.hours)?a.hours[ae]:a.hours,minutes:Array.isArray(a.minutes)?a.minutes[ae]:a.minutes,seconds:Array.isArray(a.seconds)?a.seconds[ae]:a.seconds}),J=B(()=>{const ae=[];if(v.value.enabled)for(let ve=0;ve<2;ve++)ae.push(W(ve));else ae.push(W(0));return ae}),ee=(ae,ve=!1,ce="")=>{ve||n("reset-flow"),H.value=ae,l("arrowNavigationLevel",ae?1:0),o("overlay-toggle",{open:ae,overlay:lt.time}),ut(()=>{ce!==""&&P.value?.[0]&&P.value[0].openChildCmp(ce)})},j=B(()=>({dp__btn:!0,dp__button:!0,dp__button_bottom:s.autoApply&&!m.value.keepActionRow})),Q=Ht(S,Et.TimeInput),L=(ae,ve,ce)=>v.value.enabled?ve===0?[ae,J.value[1][ce]]:[J.value[0][ce],ae]:ae,q=ae=>{n("update:hours",ae)},ie=ae=>{n("update:minutes",ae)},K=ae=>{n("update:seconds",ae)},le=()=>{if(Y.value&&!f.value.enabled&&!a.noOverlayFocus){const ae=x(Y.value);ae&&ae.focus({preventScroll:!0})}},he=ae=>{C.value=!1,o("overlay-toggle",{open:!1,overlay:ae})},ke=ae=>{C.value=!0,o("overlay-toggle",{open:!0,overlay:ae})};return t({toggleTimePicker:ee}),(ae,ve)=>(I(),Z("div",{class:"dp--tp-wrap","data-dp-mobile":h(_)},[!h(s).timePicker&&!h(u).timePickerInline?Hn((I(),Z("button",{key:0,ref:"open-tp-btn",type:"button","data-dp-action-element":"0",class:be({...j.value,"dp--hidden-el":H.value}),"aria-label":h(c)?.openTimePicker,tabindex:e.noOverlayFocus?void 0:0,"data-test-id":"open-time-picker-btn",onKeydown:ve[0]||(ve[0]=ce=>h(b)(ce,()=>ee(!0))),onClick:ve[1]||(ve[1]=ce=>ee(!0))},[oe(ae.$slots,"clock-icon",{},()=>[Se(h(ms))])],42,Bv)),[[qn,!h(y)("time")]]):z("",!0),Se(Gr,{name:h(d)(H.value),css:h(p)&&!h(u).timePickerInline},{default:se(()=>[H.value||h(s).timePicker||h(u).timePickerInline?(I(),Z("div",{key:0,ref:"overlay",role:h(u).timePickerInline?void 0:"dialog",class:be({dp__overlay:!h(u).timePickerInline,"dp--overlay-absolute":!h(s).timePicker&&!h(u).timePickerInline,"dp--overlay-relative":h(s).timePicker}),style:ht(h(s).timePicker?{height:`${h(m).modeHeight}px`}:void 0),"aria-label":h(c)?.timePicker,tabindex:h(u).timePickerInline?void 0:0},[we("div",{class:be(h(u).timePickerInline?"dp__time_picker_inline_container":"dp__overlay_container dp__container_flex dp__time_picker_overlay_container"),style:{display:"flex"}},[oe(ae.$slots,"time-picker-overlay",{hours:e.hours,minutes:e.minutes,seconds:e.seconds,setHours:q,setMinutes:ie,setSeconds:K},()=>[we("div",{class:be(h(u).timePickerInline?"dp__flex":"dp__overlay_row dp__flex_row")},[(I(!0),Z($e,null,Ye(J.value,(ce,_e)=>Hn((I(),xe(Iv,xt({key:_e},{ref_for:!0},{order:_e,hours:ce.hours,minutes:ce.minutes,seconds:ce.seconds,closeTimePickerBtn:k.value,disabledTimesConfig:e.disabledTimesConfig,disabled:_e===0?h(v).fixedStart:h(v).fixedEnd},{ref_for:!0,ref:"tp-input","validate-time":(me,Ee)=>e.validateTime(me,L(Ee,_e,me)),"onUpdate:hours":me=>q(L(me,_e,"hours")),"onUpdate:minutes":me=>ie(L(me,_e,"minutes")),"onUpdate:seconds":me=>K(L(me,_e,"seconds")),onMounted:le,onOverlayClosed:he,onOverlayOpened:ke}),Je({_:2},[Ye(h(Q),(me,Ee)=>({name:me,fn:se(D=>[oe(ae.$slots,me,xt({ref_for:!0},D))])}))]),1040,["validate-time","onUpdate:hours","onUpdate:minutes","onUpdate:seconds"])),[[qn,_e===0?!0:N.value]])),128))],2)]),!h(s).timePicker&&!h(u).timePickerInline?Hn((I(),Z("button",{key:0,ref:"close-tp-btn","data-dp-action-element":"1",type:"button",class:be({...j.value,"dp--hidden-el":C.value}),"aria-label":h(c)?.closeTimePicker,tabindex:"0",onKeydown:ve[2]||(ve[2]=ce=>h(b)(ce,()=>ee(!1))),onClick:ve[3]||(ve[3]=ce=>ee(!1))},[oe(ae.$slots,"calendar-icon",{},()=>[Se(h(bn))])],42,Vv)),[[qn,!h(y)("time")]]):z("",!0)],2)],14,Nv)):z("",!0)]),_:3},8,["name","css"])],8,Fv))}}),Ds=e=>{const{getDate:t,modelValue:r,time:n,rootProps:a,defaults:{range:o,timeConfig:l}}=Oe(),{isDateEqual:i,setTime:s}=ot(),c=(k,P)=>Array.isArray(n[k])?n[k][P]:n[k],f=k=>l.value.enableSeconds?Array.isArray(n.seconds)?n.seconds[k]:n.seconds:0,m=(k,P)=>k?s(P!==void 0?{hours:c("hours",P),minutes:c("minutes",P),seconds:f(P)}:{hours:n.hours,minutes:n.minutes,seconds:f()},k):lm(t(),f(P)),v=(k,P)=>{n[k]=P},u=B(()=>a.modelAuto&&o.value.enabled?Array.isArray(r.value)?r.value.length>1:!1:o.value.enabled),w=(k,P)=>{const C=Object.fromEntries(Object.keys(n).map(N=>N===k?[N,P]:[N,n[N]].slice()));if(u.value&&!o.value.disableTimeRangeValidation){const N=W=>r.value?s({hours:C.hours[W],minutes:C.minutes[W],seconds:C.seconds[W]},r.value[W]):null,H=W=>om(r.value[W],0);return!(i(N(0),N(1))&&(It(N(0),H(1))||Ut(N(1),H(0))))}return!0},b=(k,P)=>{w(k,P)&&(v(k,P),e&&e())},x=k=>{b("hours",k)},d=k=>{b("minutes",k)},p=k=>{b("seconds",k)},y=(k,P)=>{x(k.hours),d(k.minutes),p(k.seconds),r.value&&P(r.value)},_=k=>{if(k){const P=Array.isArray(k),C=P?[+k[0].hours,+k[1].hours]:+k.hours,N=P?[+k[0].minutes,+k[1].minutes]:+k.minutes,H=P?[+(k[0].seconds??0),+(k[1].seconds??0)]:+(k.seconds??0);v("hours",C),v("minutes",N),l.value.enableSeconds&&v("seconds",H)}},S=(k,P)=>{const C={hours:Array.isArray(n.hours)?n.hours[k]:n.hours,disabledArr:[]};return(P||P===0)&&(C.hours=P),Array.isArray(a.disabledTimes)&&(C.disabledArr=o.value.enabled&&Array.isArray(a.disabledTimes[k])?a.disabledTimes[k]:a.disabledTimes),C},Y=B(()=>(k,P)=>{if(Array.isArray(a.disabledTimes)){const{disabledArr:C,hours:N}=S(k,P),H=C.filter(W=>+W.hours===N);return H[0]?.minutes==="*"?{hours:[N],minutes:void 0,seconds:void 0}:{hours:[],minutes:H?.map(W=>+W.minutes)??[],seconds:H?.map(W=>W.seconds?+W.seconds:void 0)??[]}}return{hours:[],minutes:[],seconds:[]}});return{assignTime:v,updateHours:x,updateMinutes:d,updateSeconds:p,getSetDateTime:m,updateTimeValues:y,getSecondsValue:f,assignStartTime:_,validateTime:w,disabledTimesConfig:Y}},Hv=e=>{const{getDate:t,time:r,modelValue:n,state:a,defaults:{startTime:o,range:l,timeConfig:i}}=Oe(),{getTimeObj:s}=ot();kn(()=>{a.isTextInputDate&&S()});const{updateTimeValues:c,getSetDateTime:f,assignTime:m,assignStartTime:v,disabledTimesConfig:u,validateTime:w}=Ds(b);function b(){e("update-flow-step")}const x=k=>{const{hours:P,minutes:C,seconds:N}=k;return{hours:+P,minutes:+C,seconds:N?+N:0}},d=()=>{if(i.value.startTime){if(Array.isArray(i.value.startTime)){const P=x(i.value.startTime[0]),C=x(i.value.startTime[1]);return[Te(t(),P),Te(t(),C)]}const k=x(i.value.startTime);return Te(t(),k)}return l.value.enabled?[null,null]:null},p=()=>{if(l.value.enabled){const[k,P]=d();n.value=[f(k,0),f(P,1)]}else n.value=f(d())},y=k=>Array.isArray(k)?[s(t(k[0])),s(t(k[1]))]:[s(k??t())],_=(k,P,C)=>{m("hours",k),m("minutes",P),m("seconds",i.value.enableSeconds?C:0)},S=()=>{const[k,P]=y(n.value);return l.value.enabled?_([k.hours,P.hours],[k.minutes,P.minutes],[k.seconds,P.seconds]):_(k.hours,k.minutes,k.seconds)};et(()=>(v(o.value),n.value?S():p()));const Y=()=>{Array.isArray(n.value)?n.value=n.value.map((k,P)=>k&&f(k,P)):n.value=f(n.value),e("time-update")};return{modelValue:n,time:r,disabledTimesConfig:u,validateTime:w,updateTime:k=>{c(k,Y)}}},qv=Xe({__name:"TimePickerSolo",props:{flowStep:{},collapse:{type:Boolean},menuWrapRef:{},noOverlayFocus:{type:Boolean}},emits:["time-update","mount","reset-flow","update-flow-step"],setup(e,{expose:t,emit:r}){const n=r,a=lr(),o=Ht(a,Et.TimePicker),l=Ve("time-input"),{time:i,modelValue:s,disabledTimesConfig:c,updateTime:f,validateTime:m}=Hv(n);return et(()=>{n("mount")}),t({getSidebarProps:()=>({modelValue:s,time:i,updateTime:f}),toggleTimePicker:(v,u=!1,w="")=>{l.value?.toggleTimePicker(v,u,w)}}),(v,u)=>(I(),xe(fa,{"multi-calendars":0,stretch:""},{default:se(({wrapClass:w})=>[we("div",{class:be(w)},[Se(As,xt({ref:"time-input"},v.$props,{hours:h(i).hours,minutes:h(i).minutes,seconds:h(i).seconds,"disabled-times-config":h(c),"validate-time":h(m),"onUpdate:hours":u[0]||(u[0]=b=>h(f)({hours:b,minutes:h(i).minutes,seconds:h(i).seconds})),"onUpdate:minutes":u[1]||(u[1]=b=>h(f)({hours:h(i).hours,minutes:b,seconds:h(i).seconds})),"onUpdate:seconds":u[2]||(u[2]=b=>h(f)({hours:h(i).hours,minutes:h(i).minutes,seconds:b})),onResetFlow:u[3]||(u[3]=b=>v.$emit("reset-flow"))}),Je({_:2},[Ye(h(o),(b,x)=>({name:b,fn:se(d=>[oe(v.$slots,b,pt(Pt(d)))])}))]),1040,["hours","minutes","seconds","disabled-times-config","validate-time"])],2)]),_:3}))}}),Wv=(e,t)=>{const{getDate:r,rootProps:n,defaults:{filters:a}}=Oe(),{validateMonthYearInRange:o,validateMonthYear:l}=_t(),i=(v,u)=>{let w=v;return a.value.months.includes(Pe(w))?(w=u?Ct(v,1):Kr(v,1),i(w,u)):w},s=(v,u)=>{let w=v;return a.value.years.includes(ye(w))?(w=u?go(v,1):ds(v,1),s(w,u)):w},c=(v,u=!1)=>{const w=Te(r(),{month:e.month,year:e.year});let b=v?Ct(w,1):Kr(w,1);n.disableYearSelect&&(b=Ot(b,e.year));let x=Pe(b),d=ye(b);a.value.months.includes(x)&&(b=i(b,v),x=Pe(b),d=ye(b)),a.value.years.includes(d)&&(b=s(b,v),d=ye(b)),o(x,d,v,n.preventMinMaxNavigation)&&f(x,d,u)},f=(v,u,w=!1)=>{t("update-month-year",{month:v,year:u,fromNav:w})},m=B(()=>v=>l(Te(r(),{month:e.month,year:e.year}),n.preventMinMaxNavigation,v));return{handleMonthYearChange:c,isDisabled:m,updateMonthYear:f}},jv={class:"dp--header-wrap"},Uv={key:0,class:"dp__month_year_wrap"},Kv={key:0},Gv={class:"dp__month_year_wrap"},Qv=["data-dp-element","aria-label","data-test-id","onClick","onKeydown"],zv=Xe({__name:"DpHeader",props:{month:{},year:{},instance:{},years:{},months:{},menuWrapRef:{}},emits:["mount","reset-flow","update-month-year"],setup(e,{expose:t,emit:r}){const n=r,a=e,{rootEmit:o,rootProps:l,modelValue:i,defaults:{ariaLabels:s,filters:c,config:f,highlight:m,safeDates:v,ui:u}}=Oe(),{transitionName:w,showTransition:b}=xn(),{showLeftIcon:x,showRightIcon:d}=da(),{handleMonthYearChange:p,isDisabled:y,updateMonthYear:_}=Wv(a,n),{getMaxMonth:S,getMinMonth:Y,getYearFromDate:k,groupListAndMap:P,checkHighlightYear:C,checkHighlightMonth:N}=ot(),{checkKeyDown:H}=Ze(),{formatYear:W}=ir(),{checkMinMaxValue:J}=_t(),{boolHtmlAttribute:ee}=zr(),j=ue(!1),Q=ue(!1),L=ue(!1);et(()=>{n("mount")});const q=R=>({get:()=>a[R],set:X=>{const T=R===Tt.month?Tt.year:Tt.month;n("update-month-year",{[R]:X,[T]:a[T]}),R===Tt.month?ce(!0):_e(!0)}}),ie=B(q(Tt.month)),K=B(q(Tt.year)),le=B(()=>R=>({month:a.month,year:a.year,items:R===Tt.month?a.months:a.years,instance:a.instance,updateMonthYear:_,toggle:R===Tt.month?ce:_e})),he=B(()=>a.months.find(X=>X.value===a.month)||{text:"",value:0}),ke=B(()=>P(a.months,R=>{const X=a.month===R.value,T=J(R.value,Y(a.year,v.value.minDate),S(a.year,v.value.maxDate))||c.value.months.includes(R.value),F=N(m.value,R.value,a.year);return{active:X,disabled:T,highlighted:F}})),ae=B(()=>P(a.years,R=>{const X=a.year===R.value,T=J(R.value,k(v.value.minDate),k(v.value.maxDate))||c.value.years.includes(R.value),F=C(m.value,R.value);return{active:X,disabled:T,highlighted:F}})),ve=(R,X,T)=>{T===void 0?R.value=!R.value:R.value=T,R.value?(L.value=!0,o("overlay-toggle",{open:!0,overlay:X})):(L.value=!1,o("overlay-toggle",{open:!1,overlay:X}))},ce=(R=!1,X)=>{me(R),ve(j,lt.month,X)},_e=(R=!1,X)=>{me(R),ve(Q,lt.year,X)},me=R=>{R||n("reset-flow")},Ee=B(()=>[{type:Tt.month,index:1,toggle:ce,modelValue:ie.value,updateModelValue:R=>ie.value=R,text:he.value.text,showSelectionGrid:j.value,items:ke.value,ariaLabel:s.value?.openMonthsOverlay,overlayLabel:s.value.monthPicker?.(!0)??void 0},{type:Tt.year,index:2,toggle:_e,modelValue:K.value,updateModelValue:R=>K.value=R,text:W(a.year),showSelectionGrid:Q.value,items:ae.value,ariaLabel:s.value?.openYearsOverlay,overlayLabel:s.value.yearPicker?.(!0)??void 0}]),D=B(()=>l.disableYearSelect?[Ee.value[0]]:l.yearFirst?[...Ee.value].reverse():Ee.value);return t({toggleMonthPicker:ce,toggleYearPicker:_e,handleMonthYearChange:p}),(R,X)=>(I(),Z("div",jv,[R.$slots["month-year"]?(I(),Z("div",Uv,[oe(R.$slots,"month-year",pt(Pt({month:e.month,year:e.year,months:e.months,years:e.years,updateMonthYear:h(_),handleMonthYearChange:h(p),instance:e.instance,isDisabled:h(y)})))])):(I(),Z($e,{key:1},[R.$slots["top-extra"]?(I(),Z("div",Kv,[oe(R.$slots,"top-extra",{value:h(i)})])):z("",!0),we("div",Gv,[h(x)(e.instance)&&!h(l).vertical?(I(),xe(ln,{key:0,"aria-label":h(s)?.prevMonth,disabled:h(ee)(h(y)(!1)),class:be(h(u)?.navBtnPrev),"el-name":"action-prev",onActivate:X[0]||(X[0]=T=>h(p)(!1,!0))},{default:se(()=>[R.$slots["arrow-left"]?oe(R.$slots,"arrow-left",{key:0}):z("",!0),R.$slots["arrow-left"]?z("",!0):(I(),xe(h(ps),{key:1}))]),_:3},8,["aria-label","disabled","class"])):z("",!0),we("div",{class:be(["dp__month_year_wrap",{dp__year_disable_select:h(l).disableYearSelect}])},[(I(!0),Z($e,null,Ye(D.value,T=>(I(),Z($e,{key:T.type},[we("button",{type:"button","data-dp-element":`overlay-${T.type}`,class:be(["dp__btn dp__month_year_select",{"dp--hidden-el":L.value}]),"aria-label":`${T.text}-${T.ariaLabel}`,"data-test-id":`${T.type}-toggle-overlay-${e.instance}`,tabindex:"0","data-dp-action-element":"0",onClick:F=>T.toggle(!1),onKeydown:F=>h(H)(F,()=>T.toggle(),!0)},[R.$slots[T.type]?oe(R.$slots,T.type,{key:0,text:T.text,value:a[T.type]}):z("",!0),R.$slots[T.type]?z("",!0):(I(),Z($e,{key:1},[Ce(Fe(T.text),1)],64))],42,Qv),Se(Gr,{name:h(w)(T.showSelectionGrid),css:h(b)},{default:se(()=>[T.showSelectionGrid?(I(),xe(_n,{key:0,items:T.items,"is-last":h(l).autoApply&&!h(f).keepActionRow,"skip-button-ref":!1,type:T.type,"header-refs":[],"menu-wrap-ref":e.menuWrapRef,"overlay-label":T.overlayLabel,onSelected:T.updateModelValue,onToggle:T.toggle},Je({"button-icon":se(()=>[R.$slots["calendar-icon"]?oe(R.$slots,"calendar-icon",{key:0}):z("",!0),R.$slots["calendar-icon"]?z("",!0):(I(),xe(h(bn),{key:1}))]),_:2},[R.$slots[`${T.type}-overlay-value`]?{name:"item",fn:se(({item:F})=>[oe(R.$slots,`${T.type}-overlay-value`,{text:F.text,value:F.value})]),key:"0"}:void 0,R.$slots[`${T.type}-overlay`]?{name:"overlay",fn:se(()=>[oe(R.$slots,`${T.type}-overlay`,xt({ref_for:!0},le.value(T.type)))]),key:"1"}:void 0,R.$slots[`${T.type}-overlay-header`]?{name:"header",fn:se(()=>[oe(R.$slots,`${T.type}-overlay-header`,{toggle:T.toggle})]),key:"2"}:void 0]),1032,["items","is-last","type","menu-wrap-ref","overlay-label","onSelected","onToggle"])):z("",!0)]),_:2},1032,["name","css"])],64))),128))],2),h(x)(e.instance)&&h(l).vertical?(I(),xe(ln,{key:1,"aria-label":h(s)?.prevMonth,"el-name":"action-prev",disabled:h(ee)(h(y)(!1)),class:be(h(u)?.navBtnPrev),onActivate:X[1]||(X[1]=T=>h(p)(!1,!0))},{default:se(()=>[R.$slots["arrow-up"]?oe(R.$slots,"arrow-up",{key:0}):z("",!0),R.$slots["arrow-up"]?z("",!0):(I(),xe(h(vs),{key:1}))]),_:3},8,["aria-label","disabled","class"])):z("",!0),h(d)(e.instance)?(I(),xe(ln,{key:2,ref:"rightIcon","el-name":"action-next",disabled:h(ee)(h(y)(!0)),"aria-label":h(s)?.nextMonth,class:be(h(u)?.navBtnNext),onActivate:X[2]||(X[2]=T=>h(p)(!0,!0))},{default:se(()=>[R.$slots[h(l).vertical?"arrow-down":"arrow-right"]?oe(R.$slots,h(l).vertical?"arrow-down":"arrow-right",{key:0}):z("",!0),R.$slots[h(l).vertical?"arrow-down":"arrow-right"]?z("",!0):(I(),xe(Ja(h(l).vertical?h(gs):h(hs)),{key:1}))]),_:3},8,["disabled","aria-label","class"])):z("",!0)])],64))]))}}),Xv={class:"dp__calendar_header",role:"row"},Zv={key:0,class:"dp__calendar_header_item",role:"gridcell"},Jv=["aria-label"],eg={key:0,class:"dp__calendar_item dp__week_num",role:"gridcell"},tg={class:"dp__cell_inner"},rg=["id","aria-selected","aria-disabled","aria-label","tabindex","data-test-id","data-dp-element-active","onClick","onTouchend","onKeydown","onMouseenter","onMouseleave","onMousedown"],ng=Xe({__name:"DpCalendar",props:{instance:{},mappedDates:{},month:{},year:{}},emits:["mount","select-date","set-hover-date","handle-scroll","handle-swipe"],setup(e,{expose:t,emit:r}){const n=r,a=e,{getDate:o,rootEmit:l,rootProps:i,defaults:{transitions:s,config:c,ariaLabels:f,multiCalendars:m,weekNumbers:v,multiDates:u,ui:w}}=Oe(),{isDateAfter:b,isDateEqual:x,resetDateTime:d,getCellId:p}=ot(),{checkKeyDown:y,checkStopPropagation:_,isTouchDevice:S}=Ze(),{formatWeekDay:Y}=ir(),k=Ve("calendar-wrap"),P=Ve("active-tooltip"),C=ue([]),N=ue(null),H=ue(!0),W=ue(!1),J=ue(""),ee=ue({bottom:"",left:"",transform:""}),j=ue({left:"50%"});Nf(k,{onSwipeEnd:(g,$)=>{c.value.noSwipe||(i.vertical?($==="up"||$==="down")&&n("handle-swipe",$==="up"?"left":"right"):($==="left"||$==="right")&&n("handle-swipe",$==="right"?"left":"right"))}});const Q=B(()=>i.calendar?i.calendar(a.mappedDates):a.mappedDates),L=B(()=>i.dayNames?Array.isArray(i.dayNames)?i.dayNames:i.dayNames():V());et(()=>{n("mount",{cmp:"calendar",dayRefs:C.value}),c.value.monthChangeOnScroll&&k.value&&k.value.addEventListener("wheel",R,{passive:!1})}),yr(()=>{c.value.monthChangeOnScroll&&k.value&&k.value.removeEventListener("wheel",R)});const q=g=>g?i.vertical?"vNext":"next":i.vertical?"vPrevious":"previous",ie=(g,$)=>{if(i.transitions){const A=d(Te(o(),{month:a.month,year:a.year}));J.value=b(d(Te(o(),{month:g,year:$})),A)?s.value[q(!0)]:s.value[q(!1)],H.value=!1,ut(()=>{H.value=!0})}},K=B(()=>({...w.value.calendar})),le=g=>({type:"dot",...g}),he=B(()=>g=>{const $=le(g);return{dp__marker_dot:$.type==="dot",dp__marker_line:$.type==="line"}}),ke=B(()=>g=>x(g,N.value)),ae=B(()=>({dp__calendar:!0,dp__calendar_next:m.value.count>0&&a.instance!==0})),ve=B(()=>g=>i.hideOffsetDates?g.current:!0),ce=async(g,$)=>{const{width:A,height:U}=g.getBoundingClientRect();N.value=$.value;let M={left:`${A/2}px`},ne=-50;if(await ut(),P.value?.[0]){const{left:re,width:Me}=P.value[0].getBoundingClientRect();re<0&&(M={left:"0"},ne=0,j.value.left=`${A/2}px`),globalThis.innerWidth<re+Me&&(M={right:"0"},ne=0,j.value.left=`${Me-A/2}px`)}ee.value={bottom:`${U}px`,...M,transform:`translateX(${ne}%)`}},_e=async(g,$,A)=>{const U=mt(C.value?.[$]?.[A]);U&&(g.marker?.customPosition&&g.marker?.tooltip?.length?ee.value=g.marker.customPosition(U):await ce(U,g),l("tooltip-open",g.marker))},me=async(g,$,A)=>{if(W.value&&u.value.enabled&&u.value.dragSelect)return n("select-date",g);if(n("set-hover-date",g),g.marker?.tooltip?.length){if(i.hideOffsetDates&&!g.current)return;await _e(g,$,A)}},Ee=g=>{N.value&&(N.value=null,ee.value=structuredClone({bottom:"",left:"",transform:""}),l("tooltip-close",g.marker))},D=(g,$,A)=>{g&&(Array.isArray(C.value[$])?C.value[$][A]=g:C.value[$]=[g])},R=g=>{c.value.monthChangeOnScroll&&(g.preventDefault(),n("handle-scroll",g))},X=g=>v.value?v.value.type==="local"?ko(g.value,{weekStartsOn:+i.weekStart,locale:i.locale}):v.value.type==="iso"?bo(g.value):typeof v.value.type=="function"?v.value.type(g.value):"":"",T=g=>{const $=g[0];return v.value?.hideOnOffsetDates?g.some(A=>A.current)?X($):"":X($)},F=(g,$,A=!0)=>{!A&&S()||(!u.value.enabled||c.value.allowPreventDefault)&&(_(g,c.value),n("select-date",$))},te=g=>{_(g,c.value)},O=g=>{u.value.enabled&&u.value.dragSelect?(W.value=!0,n("select-date",g)):u.value.enabled&&n("select-date",g)},V=()=>{const g=o(),$=kt(g,{locale:i.locale,weekStartsOn:+i.weekStart}),A=wo(g,{locale:i.locale,weekStartsOn:+i.weekStart});return yo({start:$,end:A}).map(U=>Y(U))};return t({triggerTransition:ie}),(g,$)=>(I(),Z("div",{class:be(ae.value)},[we("div",{ref:"calendar-wrap",class:be(K.value),role:"grid"},[we("div",Xv,[h(v)?(I(),Z("div",Zv,Fe(h(v).label),1)):z("",!0),(I(!0),Z($e,null,Ye(L.value,(A,U)=>(I(),Z("div",{key:U,class:"dp__calendar_header_item",role:"gridcell","data-test-id":"calendar-header","aria-label":h(f)?.weekDay?.(U)},[oe(g.$slots,"calendar-header",{day:A,index:U},()=>[Ce(Fe(A),1)])],8,Jv))),128))]),$[2]||($[2]=we("div",{class:"dp__calendar_header_separator"},null,-1)),Se(Gr,{name:J.value,css:!!h(s)},{default:se(()=>[H.value?(I(),Z("div",{key:0,class:"dp__calendar",role:"rowgroup",onMouseleave:$[1]||($[1]=A=>W.value=!1)},[(I(!0),Z($e,null,Ye(Q.value,(A,U)=>(I(),Z("div",{key:U,class:"dp__calendar_row",role:"row"},[h(v)?(I(),Z("div",eg,[we("div",tg,Fe(T(A.days)),1)])):z("",!0),(I(!0),Z($e,null,Ye(A.days,(M,ne)=>(I(),Z("div",{id:h(p)(M.value),ref_for:!0,ref:re=>D(re,U,ne),key:ne+U,role:"gridcell",class:"dp__calendar_item","aria-selected":(M.classData.dp__active_date||M.classData.dp__range_start||M.classData.dp__range_end)??void 0,"aria-disabled":M.classData.dp__cell_disabled||void 0,"aria-label":h(f)?.day?.(M),tabindex:!M.current&&h(i).hideOffsetDates?void 0:0,"data-test-id":h(p)(M.value),"data-dp-element-active":M.classData.dp__active_date?0:void 0,"data-dp-action-element":"0",onClick:mr(re=>F(re,M),["prevent"]),onTouchend:re=>F(re,M,!1),onKeydown:re=>h(y)(re,()=>g.$emit("select-date",M)),onMouseenter:re=>me(M,U,ne),onMouseleave:re=>Ee(M),onMousedown:re=>O(M),onMouseup:$[0]||($[0]=re=>W.value=!1)},[we("div",{class:be(["dp__cell_inner",M.classData])},[g.$slots.day&&ve.value(M)?oe(g.$slots,"day",{key:0,day:+M.text,date:M.value}):z("",!0),g.$slots.day?z("",!0):(I(),Z($e,{key:1},[Ce(Fe(M.text),1)],64)),M.marker&&ve.value(M)?oe(g.$slots,"marker",{key:2,marker:M.marker,day:+M.text,date:M.value},()=>[we("div",{class:be(he.value(M.marker)),style:ht(M.marker.color?{backgroundColor:M.marker.color}:{})},null,6)]):z("",!0),ke.value(M.value)?(I(),Z("div",{key:3,ref_for:!0,ref:"active-tooltip",class:"dp__marker_tooltip",style:ht(ee.value)},[M.marker?.tooltip?(I(),Z("div",{key:0,class:"dp__tooltip_content",onClick:te},[(I(!0),Z($e,null,Ye(M.marker.tooltip,(re,Me)=>(I(),Z("div",{key:Me,class:"dp__tooltip_text"},[oe(g.$slots,"marker-tooltip",{tooltip:re,day:M.value},()=>[we("div",{class:"dp__tooltip_mark",style:ht(re.color?{backgroundColor:re.color}:{})},null,4),we("div",null,Fe(re.text),1)])]))),128)),we("div",{class:"dp__arrow_bottom_tp",style:ht(j.value)},null,4)])):z("",!0)],4)):z("",!0)],2)],40,rg))),128))]))),128))],32)):z("",!0)]),_:3},8,["name","css"])],2)],2))}}),ag=(e,t,r,n)=>{const a=ue([]),o=ue(new Date),l=ue(),{getDate:i,rootEmit:s,calendars:c,month:f,year:m,time:v,modelValue:u,rootProps:w,today:b,state:x,defaults:{multiCalendars:d,startTime:p,range:y,config:_,safeDates:S,multiDates:Y,timeConfig:k,flow:P}}=Oe(),{validateMonthYearInRange:C,isDisabled:N,isDateRangeAllowed:H,checkMinMaxRange:W}=_t(),{updateTimeValues:J,getSetDateTime:ee,assignTime:j,assignStartTime:Q,validateTime:L,disabledTimesConfig:q}=Ds(n),{formatDay:ie}=ir(),{resetDateTime:K,setTime:le,isDateBefore:he,isDateEqual:ke,getDaysInBetween:ae}=ot(),{checkRangeAutoApply:ve,getRangeWithFixedDate:ce,handleMultiDatesSelect:_e,setPresetDate:me}=pa(),{getMapDate:Ee}=Ze();kn(()=>O(x.isTextInputDate));const D=E=>!_.value.keepViewOnOffsetClick||E?!0:!l.value,R=(E,G,pe,De=!1)=>{D(De)&&(c.value[E]??=c.value[E]={month:0,year:0},c.value[E].month=G??c.value[E]?.month,c.value[E].year=pe??c.value[E]?.year)},X=()=>{w.autoApply&&t("select-date")},T=()=>{p.value&&Q(p.value)};et(()=>{u.value||(Pn(),T()),O(!0),w.focusStartDate&&w.startDate&&Pn()});const F=B(()=>P.value?.steps?.length&&!P.value?.partial?e.flowStep===P.value.steps.length:!0),te=()=>{w.autoApply&&F.value&&t("auto-apply",P.value?.partial?e.flowStep!==P.value?.steps?.length:!1)},O=(E=!1)=>{if(u.value)return Array.isArray(u.value)?(a.value=u.value,re(E)):A(u.value,E);if(d.value.count&&E&&!w.startDate)return $(i(),E)},V=()=>Array.isArray(u.value)&&y.value.enabled?Pe(u.value[0])===Pe(u.value[1]??u.value[0]):!1,g=E=>{const G=Ct(E,1);return{month:Pe(G),year:ye(G)}},$=(E=i(),G=!1)=>{if((!d.value.count||!d.value.static||G)&&R(0,Pe(E),ye(E)),d.value.count&&(!u.value||V()||!d.value.solo)&&(!d.value.solo||G))for(let pe=1;pe<d.value.count;pe++){const De=Te(i(),{month:f.value(pe-1),year:m.value(pe-1)}),We=zi(De,{months:1});c.value[pe]={month:Pe(We),year:ye(We)}}},A=(E,G)=>{$(E),j("hours",Wt(E)),j("minutes",Gt(E)),j("seconds",or(E)),d.value.count&&G&&kr()},U=E=>{if(d.value.count){if(d.value.solo)return 0;const G=Pe(E[0]),pe=Pe(E[1]);return Math.abs(pe-G)<d.value.count?0:1}return 1},M=(E,G)=>{E[1]&&y.value.showLastInRange?$(E[U(E)],G):$(E[0],G);const pe=(De,We)=>[De(E[0]),E?.[1]?De(E[1]):v[We][1]];j("hours",pe(Wt,"hours")),j("minutes",pe(Gt,"minutes")),j("seconds",pe(or,"seconds"))},ne=(E,G)=>{if((y.value.enabled||w.weekPicker)&&!Y.value.enabled)return M(E,G);if(Y.value.enabled&&G){const pe=E[E.length-1];return A(pe,G)}},re=E=>{const G=u.value;ne(G,E),d.value.count&&d.value.solo&&kr()},Me=(E,G)=>{const pe=Te(i(),{month:f.value(G),year:m.value(G)}),De=E<0?Ct(pe,1):Kr(pe,1);C(Pe(De),ye(De),E<0,w.preventMinMaxNavigation)&&(R(G,Pe(De),ye(De)),s("update-month-year",{instance:G,month:Pe(De),year:ye(De)}),d.value.count&&!d.value.solo&&Ae(G),r())},Ae=E=>{for(let G=E-1;G>=0;G--){const pe=Kr(Te(i(),{month:f.value(G+1),year:m.value(G+1)}),1);R(G,Pe(pe),ye(pe))}for(let G=E+1;G<=d.value.count-1;G++){const pe=Ct(Te(i(),{month:f.value(G-1),year:m.value(G-1)}),1);R(G,Pe(pe),ye(pe))}},kr=()=>{if(Array.isArray(u.value)&&u.value.length===2){const E=i(i(u.value[1]??Ct(u.value[0],1))),[G,pe]=[Pe(u.value[0]),ye(u.value[0])],[De,We]=[Pe(u.value[1]),ye(u.value[1])];(G!==De||G===De&&pe!==We)&&d.value.solo&&R(1,Pe(E),ye(E))}else u.value&&!Array.isArray(u.value)&&(R(0,Pe(u.value),ye(u.value)),$(i()))},Pn=()=>{w.startDate&&(R(0,Pe(i(w.startDate)),ye(i(w.startDate))),d.value.count&&Ae(0))},Cn=(E,G)=>{if(_.value.monthChangeOnScroll){const pe=Date.now()-o.value.getTime(),De=Math.abs(E.deltaY);let We=500;De>1&&(We=100),De>100&&(We=0),pe>We&&(o.value=new Date,Me(_.value.monthChangeOnScroll==="inverse"?E.deltaY:-E.deltaY,G))}},ka=(E,G,pe=!1)=>{_.value.monthChangeOnArrows&&w.vertical===pe&&Sn(E,G)},Sn=(E,G)=>{Me(E==="right"?-1:1,G)},_a=E=>{if(S.value.markers)return Ee(E.value,S.value.markers)},Aa=(E,G)=>{switch(w.sixWeeks===!0?"append":w.sixWeeks){case"prepend":return[!0,!1];case"center":return[E==0,!0];case"fair":return[E==0||G>E,!0];case"append":return[!1,!1];default:return[!1,!1]}},Da=(E,G,pe,De)=>{if(w.sixWeeks&&E.length<6){const We=6-E.length,zt=(G.getDay()+7-De)%7,_r=6-(pe.getDay()+7-De)%7,[Jr,Rn]=Aa(zt,_r);for(let en=1;en<=We;en++)if(Rn?!!(en%2)==Jr:Jr){const Xt=E[0].days[0],Pa=Xr(wt(Xt.value,-7),Pe(G));E.unshift({days:Pa})}else{const Xt=E[E.length-1],Pa=Xt.days[Xt.days.length-1],Is=Xr(wt(Pa.value,1),Pe(G));E.push({days:Is})}}return E},Xr=(E,G)=>{const pe=i(E),De=[];for(let We=0;We<7;We++){const zt=wt(pe,We),_r=Pe(zt)!==G;De.push({text:w.hideOffsetDates&&_r?"":ie(zt),value:zt,current:!_r,classData:{}})}return De},Ta=(E,G)=>{const pe=[],De=i(new Date(G,E)),We=i(new Date(G,E+1,0)),zt=w.weekStart,_r=kt(De,{weekStartsOn:zt}),Jr=Rn=>{const en=Xr(Rn,E);if(pe.push({days:en}),!pe[pe.length-1].days.some(Xt=>ke(i(Xt.value),K(We)))){const Xt=wt(Rn,7);Jr(Xt)}};return Jr(_r),Da(pe,De,We,zt)},Ma=E=>{const G=le({hours:v.hours,minutes:v.minutes,seconds:$n()},i(E.value));s("date-click",G),Y.value.enabled?_e(G,Y.value.limit):u.value=G,n(),ut().then(()=>{te()})},En=E=>y.value.noDisabledRange?ae(a.value[0],E).some(G=>N(G)):!1,fe=()=>{a.value=u.value?u.value.slice().filter(E=>!!E):[],a.value.length===2&&!(y.value.fixedStart||y.value.fixedEnd)&&(a.value=[])},ct=(E,G)=>{const pe=[i(E.value),wt(i(E.value),+y.value.autoRange)];H(pe)?(G&&At(E.value),a.value=pe):s("invalid-date",E.value)},At=E=>{const G=Pe(i(E)),pe=ye(i(E));if(R(0,G,pe),d.value.count>0)for(let De=1;De<d.value.count;De++){const We=g(Te(i(E),{year:m.value(De-1),month:f.value(De-1)}));R(De,We.month,We.year)}},Zr=E=>{if(En(E.value)||!W(E.value,u.value,y.value.fixedStart?0:1))return s("invalid-date",E.value);a.value=ce(i(E.value))},sr=(E,G)=>{if(fe(),y.value.autoRange)return ct(E,G);if(y.value.fixedStart||y.value.fixedEnd)return Zr(E);a.value[0]?W(i(E.value),u.value)&&!En(E.value)?he(i(E.value),i(a.value[0]))?y.value.autoSwitchStartEnd?(a.value.unshift(i(E.value)),s("range-end",a.value[0])):(a.value[0]=i(E.value),s("range-start",a.value[0])):(a.value[1]=i(E.value),s("range-end",a.value[1])):s("invalid-date",E.value):(a.value[0]=i(E.value),s("range-start",a.value[0]))},$n=(E=!0)=>k.value.enableSeconds?Array.isArray(v.seconds)?E?v.seconds[0]:v.seconds[1]:v.seconds:0,Oa=E=>{a.value[E]=le({hours:v.hours[E],minutes:v.minutes[E],seconds:$n(E!==1)},a.value[E])},Ms=()=>{a.value[0]&&a.value[1]&&+a.value?.[0]>+a.value?.[1]&&(a.value.reverse(),s("range-start",a.value[0]),s("range-end",a.value[1]))},Os=()=>{a.value.length&&(a.value[0]&&!a.value[1]?Oa(0):(Oa(0),Oa(1),n()),Ms(),u.value=a.value.slice(),ve(a.value,t,a.value.length<2||P.value?.steps.length?e.flowStep!==P.value?.steps?.length:!1))},Ps=(E,G=!1)=>{if(N(E.value)||!E.current&&w.hideOffsetDates)return s("invalid-date",E.value);if(l.value=structuredClone(E),!y.value.enabled)return Ma(E);Array.isArray(v.hours)&&Array.isArray(v.minutes)&&!Y.value.enabled&&(sr(E,G),Os())},Cs=(E,G)=>{R(E,G.month,G.year,!0),d.value.count&&!d.value.solo&&Ae(E),s("update-month-year",{instance:E,month:G.month,year:G.year}),r(d.value.solo?E:void 0);const pe=P.value?.steps?.length?P.value.steps[e.flowStep]:void 0;!G.fromNav&&(pe===lt.month||pe===lt.year)&&n()},Ss=E=>{me({value:E}),X(),w.multiCalendars&&ut().then(()=>O(!0))},Es=()=>{let E=i();return w.actionRow?.nowBtnRound&&(E=am(E,{roundingMethod:w.actionRow.nowBtnRound.rounding??"ceil",nearestTo:w.actionRow.nowBtnRound.roundTo??15})),E},$s=()=>{const E=Es();!y.value.enabled&&!Y.value.enabled?u.value=E:u.value&&Array.isArray(u.value)&&u.value[0]?Y.value.enabled?u.value=[...u.value,E]:u.value=he(E,u.value[0])?[E,u.value[0]]:[u.value[0],E]:u.value=[E],X()},Rs=()=>{if(Array.isArray(u.value))if(Y.value.enabled){const E=Ls();u.value[u.value.length-1]=ee(E)}else u.value=u.value.map((E,G)=>E&&ee(E,G));else u.value=ee(u.value);t("time-update")},Ls=()=>Array.isArray(u.value)&&u.value.length?u.value[u.value.length-1]:null,Ys=E=>{let G="";if(y.value.enabled&&Array.isArray(u.value))for(const pe of Object.keys(E)){const De=E[pe];Array.isArray(De)&&(v[pe][0]!==De[0]&&(G="range-start"),v[pe][1]!==De[1]&&(G="range-start"))}return G};return{calendars:c,modelValue:u,month:f,year:m,time:v,disabledTimesConfig:q,today:b,validateTime:L,getCalendarDays:Ta,getMarker:_a,handleScroll:Cn,handleSwipe:Sn,handleArrow:ka,selectDate:Ps,updateMonthYear:Cs,presetDate:Ss,selectCurrentDate:$s,updateTime:E=>{const G=Ys(E);J(E,Rs),G&&s(G,u.value[G==="range-start"?0:1])},assignMonthAndYear:$,setStartTime:T}},og=()=>{const{isModelAuto:e,matchDate:t,isDateAfter:r,isDateBefore:n,isDateBetween:a,isDateEqual:o,getWeekFromDate:l,getBeforeAndAfterInRange:i}=ot(),{getDate:s,today:c,rootProps:f,defaults:{multiCalendars:m,multiDates:v,ui:u,highlight:w,safeDates:b,range:x},modelValue:d}=Oe(),{isDisabled:p}=_t(),y=ue(null),_=g=>{!g.current&&f.hideOffsetDates||(y.value=g.value)},S=()=>{y.value=null},Y=g=>Array.isArray(d.value)&&x.value.enabled&&d.value[0]&&y.value?g?r(y.value,d.value[0]):n(y.value,d.value[0]):!0,k=(g,$)=>{const A=()=>d.value?$?d.value[0]||null:d.value[1]:null,U=d.value&&Array.isArray(d.value)?A():null;return o(s(g.value),U)},P=g=>{const $=Array.isArray(d.value)?d.value[0]:null;return g?!n(y.value,$):!0},C=(g,$=!0)=>(x.value.enabled||f.weekPicker)&&Array.isArray(d.value)&&d.value.length===2?f.hideOffsetDates&&!g.current?!1:o(s(g.value),d.value[$?0:1]):x.value.enabled?k(g,$)&&P($)||o(g.value,Array.isArray(d.value)?d.value[0]:null)&&Y($):!1,N=(g,$)=>{if(Array.isArray(d.value)&&d.value[0]&&d.value.length===1){const A=o(g.value,y.value);return $?r(d.value[0],g.value)&&A:n(d.value[0],g.value)&&A}return!1},H=g=>!d.value||f.hideOffsetDates&&!g.current?!1:x.value.enabled?f.modelAuto&&Array.isArray(d.value)?o(g.value,d.value[0]??c):!1:v.value.enabled&&Array.isArray(d.value)?d.value.some($=>o($,g.value)):o(g.value,d.value?d.value:c),W=g=>{if(x.value.autoRange||f.weekPicker){if(y.value){if(f.hideOffsetDates&&!g.current)return!1;const $=wt(y.value,+x.value.autoRange),A=l(s(y.value),f.weekStart);return f.weekPicker?o(A[1],s(g.value)):o($,s(g.value))}return!1}return!1},J=g=>{if(x.value.autoRange||f.weekPicker){if(y.value){const $=wt(y.value,+x.value.autoRange);if(f.hideOffsetDates&&!g.current)return!1;const A=l(s(y.value),f.weekStart);return f.weekPicker?r(g.value,A[0])&&n(g.value,A[1]):r(g.value,y.value)&&n(g.value,$)}return!1}return!1},ee=g=>{if(x.value.autoRange||f.weekPicker){if(y.value){if(f.hideOffsetDates&&!g.current)return!1;const $=l(s(y.value),f.weekStart);return f.weekPicker?o($[0],g.value):o(y.value,g.value)}return!1}return!1},j=g=>a(d.value,y.value,g.value),Q=()=>f.modelAuto&&Array.isArray(d.value)?!!d.value[0]:!1,L=()=>f.modelAuto?e(d.value):!0,q=g=>{if(f.weekPicker)return!1;const $=x.value.enabled?!C(g)&&!C(g,!1):!0;return!p(g.value)&&!H(g)&&!(!g.current&&f.hideOffsetDates)&&$},ie=g=>x.value.enabled?f.modelAuto?Q()&&H(g):!1:H(g),K=g=>w.value?t(g.value,b.value.highlight):!1,le=g=>{const $=p(g.value);return $&&(typeof w.value=="function"?!w.value(g.value,$):!w.value.options.highlightDisabled)},he=g=>typeof w.value=="function"?w.value(g.value):w.value.weekdays?.includes(g.value.getDay()),ke=g=>(x.value.enabled||f.weekPicker)&&(!(m.value.count>0)||g.current)&&L()&&!(!g.current&&f.hideOffsetDates)&&!H(g)?j(g):!1,ae=g=>{if(Array.isArray(d.value)&&d.value.length===1){const{before:$,after:A}=i(+x.value.maxRange,d.value[0]);return Ut(g.value,$)||It(g.value,A)}return!1},ve=g=>{if(Array.isArray(d.value)&&d.value.length===1){const{before:$,after:A}=i(+x.value.minRange,d.value[0]);return a([$,A],d.value[0],g.value)}return!1},ce=g=>x.value.enabled&&(x.value.maxRange||x.value.minRange)?x.value.maxRange&&x.value.minRange?ae(g)||ve(g):x.value.maxRange?ae(g):ve(g):!1,_e=g=>{const{isRangeStart:$,isRangeEnd:A}=R(g),U=x.value.enabled?$||A:!1;return{dp__cell_offset:!g.current,dp__pointer:!f.disabled&&!(!g.current&&f.hideOffsetDates)&&!p(g.value)&&!ce(g),dp__cell_disabled:p(g.value)||ce(g),dp__cell_highlight:!le(g)&&(K(g)||he(g))&&!ie(g)&&!U&&!ee(g)&&!(ke(g)&&f.weekPicker)&&!A,dp__cell_highlight_active:!le(g)&&(K(g)||he(g))&&ie(g),dp__today:!f.noToday&&o(g.value,c)&&g.current,"dp--past":n(g.value,c),"dp--future":r(g.value,c)}},me=g=>({dp__active_date:ie(g),dp__date_hover:q(g)}),Ee=g=>{if(d.value&&!Array.isArray(d.value)){const $=l(d.value,f.weekStart);return{...O(g),dp__range_start:o($[0],g.value),dp__range_end:o($[1],g.value),dp__range_between_week:r(g.value,$[0])&&n(g.value,$[1])}}return{...O(g)}},D=g=>{if(d.value&&Array.isArray(d.value)){const $=l(d.value[0],f.weekStart),A=d.value[1]?l(d.value[1],f.weekStart):[];return{...O(g),dp__range_start:o($[0],g.value)||o(A[0],g.value),dp__range_end:o($[1],g.value)||o(A[1],g.value),dp__range_between_week:r(g.value,$[0])&&n(g.value,$[1])||r(g.value,A[0])&&n(g.value,A[1]),dp__range_between:r(g.value,$[1])&&n(g.value,A[0])}}return{...O(g)}},R=g=>{const $=m.value.count>0?g.current&&C(g)&&L():C(g)&&L(),A=m.value.count>0?g.current&&C(g,!1)&&L():C(g,!1)&&L();return{isRangeStart:$,isRangeEnd:A}},X=g=>x.value.enabled&&(x.value.fixedStart||x.value.fixedEnd)&&Array.isArray(d.value)&&d.value.length===2,T=(g,$,A,U)=>!X(d.value)||!y.value?!1:$?x.value.fixedEnd&&o(g.value,y.value)&&Ut(g.value,d.value[0])&&!A:x.value.fixedStart&&o(g.value,y.value)&&It(g.value,d.value[1])&&!U,F=(g,$)=>!X(d.value)||!y.value?!1:$?x.value.fixedEnd&&It(g.value,y.value)&&Ut(g.value,d.value[0]):x.value.fixedStart&&Ut(g.value,y.value)&&It(g.value,d.value[1]),te=g=>{const{isRangeStart:$,isRangeEnd:A}=R(g);return{dp__range_start:$,dp__range_end:A,dp__range_between:ke(g),dp__date_hover:o(g.value,y.value)&&!$&&!A&&!f.weekPicker,dp__date_hover_start:N(g,!0)||T(g,!0,$,A),dp__date_hover_end:N(g,!1)||T(g,!1,$,A),"dp--extended-fixed-start":F(g,!0),"dp--extended-fixed-end":F(g,!1)}},O=g=>({...te(g),dp__cell_auto_range:J(g),dp__cell_auto_range_start:ee(g),dp__cell_auto_range_end:W(g)}),V=g=>x.value.enabled?x.value.autoRange?O(g):f.modelAuto?{...me(g),...te(g)}:f.weekPicker?D(g):te(g):f.weekPicker?Ee(g):me(g);return{setHoverDate:_,clearHoverDate:S,getDayClassData:g=>f.hideOffsetDates&&!g.current?{}:{..._e(g),...V(g),[u.value.dayClass?u.value.dayClass(g.value,d.value):""]:!0,...u.value.calendarCell}}},lg={key:0},ig=Xe({__name:"DatePicker",props:El({flowStep:{},collapse:{type:Boolean},menuWrapRef:{},noOverlayFocus:{type:Boolean}},av),emits:["mount","update-flow-step","reset-flow","focus-menu","select-date","time-update","auto-apply"],setup(e,{expose:t,emit:r}){const n=r,a=e,{month:o,year:l,modelValue:i,time:s,disabledTimesConfig:c,today:f,validateTime:m,getCalendarDays:v,getMarker:u,handleArrow:w,handleScroll:b,handleSwipe:x,selectDate:d,updateMonthYear:p,presetDate:y,selectCurrentDate:_,updateTime:S,assignMonthAndYear:Y,setStartTime:k}=ag(a,n,me,Ee),P=lr(),{setHoverDate:C,getDayClassData:N,clearHoverDate:H}=og(),{getDate:W,rootEmit:J,rootProps:ee,defaults:{multiCalendars:j,timeConfig:Q}}=Oe(),{getYears:L,getMonths:q}=ca(),{getCellId:ie}=ot(),K=Ve("calendar-header"),le=Ve("calendar"),he=Ve("time-picker"),ke=Ht(P,Et.Calendar),ae=Ht(P,Et.DatePickerHeader),ve=Ht(P,Et.TimePicker),ce=V=>{n("mount",V)};st(j,(V,g)=>{V.count-g.count>0&&Y()},{deep:!0});const _e=B(()=>V=>v(o.value(V),l.value(V)).map(g=>({...g,days:g.days.map($=>($.marker=u($),$.classData=N($),$))})));function me(V){V||V===0?le.value?.[V]?.triggerTransition(o.value(V),l.value(V)):le.value?.forEach((g,$)=>g?.triggerTransition(o.value($),l.value($)))}function Ee(){n("update-flow-step")}const D=(V,g,$=0)=>{K.value?.[$]?.toggleMonthPicker(V,g)},R=(V,g,$=0)=>{K.value?.[$]?.toggleYearPicker(V,g)},X=(V,g,$)=>{he.value?.toggleTimePicker(V,g,$)},T=(V,g)=>{if(!ee.range){const $=i.value?i.value:f,A=g?W(g):$,U=V?kt(A,{weekStartsOn:1}):wo(A,{weekStartsOn:1});d({value:U,current:Pe(A)===o.value(0),text:"",classData:{}}),document.getElementById(ie(U))?.focus()}},F=V=>{K.value?.[0]?.handleMonthYearChange(V,!0)},te=V=>{p(0,{month:o.value(0),year:l.value(0)+(V?1:-1),fromNav:!0})},O=V=>{J("overlay-toggle",{open:!1,overlay:V}),n("focus-menu")};return t({clearHoverDate:H,presetDate:y,selectCurrentDate:_,handleArrow:w,updateMonthYear:p,setStartTime:k,toggleMonthPicker:D,toggleYearPicker:R,toggleTimePicker:X,getSidebarProps:()=>({modelValue:i,month:o,year:l,time:s,updateTime:S,updateMonthYear:p,selectDate:d,presetDate:y}),changeMonth:F,changeYear:te,selectWeekDate:T}),(V,g)=>(I(),Z($e,null,[Se(fa,{collapse:e.collapse},{default:se(({instances:$,wrapClass:A})=>[(I(!0),Z($e,null,Ye($,U=>(I(),Z("div",{key:U,class:be(A)},[h(ee).hideMonthYearSelect?z("",!0):(I(),xe(zv,{key:0,ref_for:!0,ref:"calendar-header",months:h(q)(),years:h(L)(),month:h(o)(U),year:h(l)(U),instance:U,"menu-wrap-ref":e.menuWrapRef,onMount:g[0]||(g[0]=M=>ce(h(hr).header)),onResetFlow:g[1]||(g[1]=M=>V.$emit("reset-flow")),onUpdateMonthYear:M=>h(p)(U,M),onOverlayClosed:O},Je({_:2},[Ye(h(ae),(M,ne)=>({name:M,fn:se(re=>[oe(V.$slots,M,xt({ref_for:!0},re))])}))]),1032,["months","years","month","year","instance","menu-wrap-ref","onUpdateMonthYear"])),Se(ng,{ref_for:!0,ref:"calendar","mapped-dates":_e.value(U),instance:U,month:h(o)(U),year:h(l)(U),onSelectDate:M=>h(d)(M,U!==1),onSetHoverDate:g[2]||(g[2]=M=>h(C)(M)),onHandleScroll:M=>h(b)(M,U),onHandleSwipe:M=>h(x)(M,U),onMount:g[3]||(g[3]=M=>ce(h(hr).calendar))},Je({_:2},[Ye(h(ke),(M,ne)=>({name:M,fn:se(re=>[oe(V.$slots,M,xt({ref_for:!0},re))])}))]),1032,["mapped-dates","instance","month","year","onSelectDate","onHandleScroll","onHandleSwipe"])],2))),128))]),_:3},8,["collapse"]),h(Q).enableTimePicker?(I(),Z("div",lg,[oe(V.$slots,"time-picker",pt(Pt({time:h(s),updateTime:h(S)})),()=>[Se(As,{ref:"time-picker",hours:h(s).hours,minutes:h(s).minutes,seconds:h(s).seconds,"disabled-times-config":h(c),"validate-time":h(m),"no-overlay-focus":e.noOverlayFocus,onMount:g[4]||(g[4]=$=>ce(h(hr).timePicker)),"onUpdate:hours":g[5]||(g[5]=$=>h(S)({hours:$,minutes:h(s).minutes,seconds:h(s).seconds})),"onUpdate:minutes":g[6]||(g[6]=$=>h(S)({hours:h(s).hours,minutes:$,seconds:h(s).seconds})),"onUpdate:seconds":g[7]||(g[7]=$=>h(S)({hours:h(s).hours,minutes:h(s).minutes,seconds:$})),onResetFlow:g[8]||(g[8]=$=>V.$emit("reset-flow"))},Je({_:2},[Ye(h(ve),($,A)=>({name:$,fn:se(U=>[oe(V.$slots,$,pt(Pt(U)))])}))]),1032,["hours","minutes","seconds","disabled-times-config","validate-time","no-overlay-focus"])])])):z("",!0)],64))}}),sg=(e,t)=>{const{getDate:r,modelValue:n,year:a,calendars:o,defaults:{highlight:l,range:i,multiDates:s}}=Oe(),{isDateBetween:c,isDateEqual:f}=ot(),{checkRangeAutoApply:m,handleMultiDatesSelect:v,setMonthOrYearRange:u}=pa();kn();const{isDisabled:w}=_t(),{formatQuarterText:b}=ir(),{selectYear:x,groupedYears:d,showYearPicker:p,isDisabled:y,toggleYearPicker:_,handleYearSelect:S,handleYear:Y,setStartDate:k}=_s(t),P=ue();et(()=>{k()});const C=B(()=>L=>n.value?Array.isArray(n.value)?n.value.some(q=>_l(L,q)):_l(n.value,L):!1),N=L=>{if(i.value.enabled){if(Array.isArray(n.value)){const q=f(L,n.value[0])||f(L,n.value[1]);return c(n.value,P.value,L)&&!q}return!1}return!1},H=(L,q)=>L.quarter===gl(q)&&L.year===ye(q),W=L=>typeof l.value=="function"?l.value({quarter:gl(L),year:ye(L)}):l.value.quarters.some(q=>H(q,L)),J=B(()=>L=>{const q=Te(r(),{year:a.value(L)});return Wp({start:Fr(q),end:ts(q)}).map(ie=>{const K=cr(ie),le=yl(ie),he=w(ie),ke=N(K),ae=W(K);return{text:b(K,le),value:K,active:C.value(K),highlighted:ae,disabled:he,isBetween:ke}})}),ee=L=>{v(L,s.value.limit),t("auto-apply",!0)},j=L=>{n.value=u(L),m(n.value,t,n.value.length<2)},Q=L=>{n.value=L,t("auto-apply")};return{groupedYears:d,year:a,isDisabled:y,quarters:J,showYearPicker:p,modelValue:n,selectYear:x,toggleYearPicker:_,handleYearSelect:S,handleYear:Y,setHoverDate:L=>{P.value=L},selectQuarter:(L,q,ie)=>{if(!ie)return o.value[q].month=Pe(yl(L)),s.value.enabled?ee(L):i.value.enabled?j(L):Q(L)}}},ug={class:"dp--quarter-items"},cg=["data-test-id","disabled","onClick","onMouseover"],dg=Xe({__name:"QuarterPicker",props:{flowStep:{},collapse:{type:Boolean},menuWrapRef:{},noOverlayFocus:{type:Boolean}},emits:["reset-flow","auto-apply"],setup(e,{expose:t,emit:r}){const n=r,a=e,{defaults:{config:o}}=Oe(),l=lr(),{boolHtmlAttribute:i}=zr(),s=Ht(l,Et.YearMode),{groupedYears:c,year:f,isDisabled:m,quarters:v,modelValue:u,showYearPicker:w,setHoverDate:b,selectQuarter:x,toggleYearPicker:d,handleYearSelect:p,handleYear:y}=sg(a,n);return t({getSidebarProps:()=>({modelValue:u,year:f,selectQuarter:x,handleYearSelect:p,handleYear:y})}),(_,S)=>(I(),xe(fa,{collapse:e.collapse,stretch:""},{default:se(({instances:Y,wrapClass:k})=>[(I(!0),Z($e,null,Ye(Y,P=>(I(),Z("div",{key:P,class:be(k)},[we("div",{class:"dp-quarter-picker-wrap",style:ht({minHeight:`${h(o).modeHeight}px`})},[_.$slots["top-extra"]?oe(_.$slots,"top-extra",{key:0,value:h(u)}):z("",!0),we("div",null,[Se(ks,{items:h(c)(P),instance:P,"show-year-picker":h(w)[P],year:h(f)(P),"is-disabled":C=>h(m)(P,C),onHandleYear:C=>h(y)(P,C),onYearSelect:C=>h(p)(C,P),onToggleYearPicker:C=>h(d)(P,C?.flow,C?.show)},Je({_:2},[Ye(h(s),(C,N)=>({name:C,fn:se(H=>[oe(_.$slots,C,xt({ref_for:!0},H))])}))]),1032,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),we("div",ug,[(I(!0),Z($e,null,Ye(h(v)(P),(C,N)=>(I(),Z("div",{key:N},[we("button",{type:"button",class:be(["dp--qr-btn",{"dp--qr-btn-active":C.active,"dp--qr-btn-between":C.isBetween,"dp--qr-btn-disabled":C.disabled,"dp--highlighted":C.highlighted}]),"data-dp-action-element":"0","data-test-id":C.value,disabled:h(i)(C.disabled),onClick:H=>h(x)(C.value,P,C.disabled),onMouseover:H=>h(b)(C.value)},[oe(_.$slots,"quarter",{value:C.value,text:C.text},()=>[Ce(Fe(C.text),1)])],42,cg)]))),128))])],4)],2))),128))]),_:3},8,["collapse"]))}}),fg=["id","tabindex","role","aria-label"],pg={key:0,class:"dp--menu-load-container"},hg={key:1,class:"dp--menu-header"},mg=["data-dp-mobile"],vg={key:0,class:"dp__sidebar_left"},gg=["data-dp-mobile"],yg=["data-test-id","data-dp-mobile","onClick","onKeydown"],wg={class:"dp__instance_calendar"},bg={key:2,class:"dp__sidebar_right"},xg={key:2,class:"dp__action_extra"},kg=Xe({__name:"DatepickerMenu",props:{collapse:{type:Boolean},noOverlayFocus:{type:Boolean},getInputRect:{type:Function}},emits:["close-picker","select-date","auto-apply","time-update","menu-blur"],setup(e,{expose:t,emit:r}){const n=r,a=lr(),{state:o,rootProps:l,defaults:{textInput:i,inline:s,config:c,ui:f,ariaLabels:m},setState:v}=Oe(),{isMobile:u}=ua(),{handleEventPropagation:w,getElWithin:b,checkStopPropagation:x,checkKeyDown:d}=Ze();mm();const p=Ve("inner-menu"),y=Ve("dp-menu"),_=Ve("dyn-cmp"),S=ue(0),Y=ue(!1),k=ue(!1),{flowStep:P,updateFlowStep:C,childMount:N,resetFlow:H,handleFlow:W}=gm(_),J=O=>{k.value=!0,c.value.allowPreventDefault&&O.preventDefault(),x(O,c.value,!0)};et(()=>{Y.value=!0,ee(),globalThis.addEventListener("resize",ee);const O=mt(y);O&&!i.value.enabled&&!s.value.enabled&&v("menuFocused",!0),O&&(O.addEventListener("pointerdown",J),O.addEventListener("mousedown",J)),document.addEventListener("mousedown",te)}),yr(()=>{globalThis.removeEventListener("resize",ee),document.removeEventListener("mousedown",te);const O=mt(y);O&&(O.removeEventListener("pointerdown",J),O.removeEventListener("mousedown",J))});const ee=()=>{const O=mt(p);O&&(S.value=O.getBoundingClientRect().width)},j=B(()=>l.monthPicker?Mv:l.yearPicker?Pv:l.timePicker?qv:l.quarterPicker?dg:ig),Q=()=>{const O=mt(y);O&&O.focus({preventScroll:!0})},L=B(()=>_.value?.getSidebarProps()||{}),q=Ht(a,Et.ActionRow),ie=Ht(a,Et.PassTrough),K=B(()=>({dp__menu_disabled:l.disabled,dp__menu_readonly:l.readonly,"dp-menu-loading":l.loading})),le=B(()=>({dp__menu:!0,dp__menu_index:!s.value.enabled,dp__relative:s.value.enabled,...f.value.menu})),he=O=>{x(O,c.value,!0)},ke=O=>{c.value.escClose&&(n("close-picker"),w(O,c.value))},ae=O=>{l.arrowNavigation||(O===Mt.left||O===Mt.up?me("handleArrow",Mt.left,0,O===Mt.up):me("handleArrow",Mt.right,0,O===Mt.down))},ve=O=>{v("shiftKeyInMenu",O.shiftKey),!l.hideMonthYearSelect&&O.code===Ie.tab&&O.target.classList.contains("dp__menu")&&o.shiftKeyInMenu&&(O.preventDefault(),x(O,c.value,!0),n("close-picker"))},ce=O=>{_.value?.toggleTimePicker(!1,!1),_.value?.toggleMonthPicker(!1,!1,O),_.value?.toggleYearPicker(!1,!1,O)},_e=(O,V=0)=>O==="month"?_.value?.toggleMonthPicker(!1,!0,V):O==="year"?_.value?.toggleYearPicker(!1,!0,V):O==="time"?_.value?.toggleTimePicker(!0,!1):ce(V),me=(O,...V)=>{_.value?.[O]&&_.value?.[O](...V)},Ee=()=>{me("selectCurrentDate")},D=O=>{me("presetDate",tr(O))},R=()=>{me("clearHoverDate")},X=(O,V)=>{me("updateMonthYear",O,V)},T=(O,V)=>{O.preventDefault(),ae(V)},F=O=>{if(ve(O),O.key===Ie.home||O.key===Ie.end)return me("selectWeekDate",O.key===Ie.home,O.target.getAttribute("id"));switch((O.key===Ie.pageUp||O.key===Ie.pageDown)&&(O.shiftKey?(me("changeYear",O.key===Ie.pageUp),b(y.value,"overlay-year")?.focus()):(me("changeMonth",O.key===Ie.pageUp),b(y.value,O.key===Ie.pageUp?"action-prev":"action-next")?.focus()),O.target.getAttribute("id")&&y.value?.focus({preventScroll:!0})),O.key){case Ie.esc:return ke(O);case Ie.arrowLeft:return T(O,Mt.left);case Ie.arrowRight:return T(O,Mt.right);case Ie.arrowUp:return T(O,Mt.up);case Ie.arrowDown:return T(O,Mt.down);default:return}},te=O=>{s.value.enabled&&!s.value.input&&!y.value?.contains(O.target)&&k.value&&(k.value=!1,n("menu-blur"))};return t({updateMonthYear:X,switchView:_e,onValueCleared:()=>{_.value?.setStartTime?.()},handleFlow:W}),(O,V)=>(I(),Z("div",{id:h(l).menuId,ref:"dp-menu",tabindex:h(s).enabled?void 0:"0",role:h(s).enabled?void 0:"dialog","aria-label":h(m)?.menu,class:be(le.value),onMouseleave:R,onClick:he,onKeydown:F},[(h(l).disabled||h(l).readonly)&&h(s).enabled||h(l).loading?(I(),Z("div",{key:0,class:be(K.value)},[h(l).loading?(I(),Z("div",pg,[...V[5]||(V[5]=[we("span",{class:"dp--menu-loader"},null,-1)])])):z("",!0)],2)):z("",!0),O.$slots["menu-header"]?(I(),Z("div",hg,[oe(O.$slots,"menu-header")])):z("",!0),oe(O.$slots,"arrow"),we("div",{ref:"inner-menu",class:be({dp__menu_content_wrapper:h(l).presetDates?.length||!!O.$slots["left-sidebar"]||!!O.$slots["right-sidebar"],"dp--menu-content-wrapper-collapsed":e.collapse&&(h(l).presetDates?.length||!!O.$slots["left-sidebar"]||!!O.$slots["right-sidebar"])}),"data-dp-mobile":h(u),style:ht({"--dp-menu-width":`${S.value}px`})},[O.$slots["left-sidebar"]?(I(),Z("div",vg,[oe(O.$slots,"left-sidebar",pt(Pt(L.value)))])):z("",!0),h(l).presetDates.length?(I(),Z("div",{key:1,class:be({"dp--preset-dates-collapsed":e.collapse,"dp--preset-dates":!0}),"data-dp-mobile":h(u)},[(I(!0),Z($e,null,Ye(h(l).presetDates,(g,$)=>(I(),Z($e,{key:$},[g.slot?oe(O.$slots,g.slot,{key:0,presetDate:D,label:g.label,value:g.value}):(I(),Z("button",{key:1,type:"button",style:ht(g.style||{}),class:be(["dp__btn dp--preset-range",{"dp--preset-range-collapsed":e.collapse}]),"data-test-id":g.testId??void 0,"data-dp-mobile":h(u),onClick:mr(A=>D(g.value),["prevent"]),onKeydown:A=>h(d)(A,()=>D(g.value),!0)},Fe(g.label),47,yg))],64))),128))],10,gg)):z("",!0),we("div",wg,[(I(),xe(Ja(j.value),{ref:"dyn-cmp","flow-step":h(P),collapse:e.collapse,"no-overlay-focus":e.noOverlayFocus,"menu-wrap-ref":y.value,onMount:h(N),onUpdateFlowStep:h(C),onResetFlow:h(H),onFocusMenu:Q,onSelectDate:V[0]||(V[0]=g=>O.$emit("select-date")),onAutoApply:V[1]||(V[1]=g=>O.$emit("auto-apply",g)),onTimeUpdate:V[2]||(V[2]=g=>O.$emit("time-update"))},Je({_:2},[Ye(h(ie),(g,$)=>({name:g,fn:se(A=>[oe(O.$slots,g,pt(Pt({...A})))])}))]),1064,["flow-step","collapse","no-overlay-focus","menu-wrap-ref","onMount","onUpdateFlowStep","onResetFlow"]))]),O.$slots["right-sidebar"]?(I(),Z("div",bg,[oe(O.$slots,"right-sidebar",pt(Pt(L.value)))])):z("",!0)],14,mg),O.$slots["action-extra"]?(I(),Z("div",xg,[O.$slots["action-extra"]?oe(O.$slots,"action-extra",{key:0,selectCurrentDate:Ee}):z("",!0)])):z("",!0),!h(l).autoApply||h(c).keepActionRow?(I(),xe(yv,{key:3,"menu-mount":Y.value,"calendar-width":S.value,onClosePicker:V[3]||(V[3]=g=>O.$emit("close-picker")),onSelectDate:V[4]||(V[4]=g=>O.$emit("select-date")),onSelectNow:Ee},Je({_:2},[Ye(h(q),(g,$)=>({name:g,fn:se(A=>[oe(O.$slots,g,pt(Pt(A)))])}))]),1032,["menu-mount","calendar-width"])):z("",!0)],42,fg))}}),_g=["data-dp-mobile"],Ag=Xe({__name:"VueDatePicker",setup(e,{expose:t}){const{rootEmit:r,setState:n,inputValue:a,modelValue:o,rootProps:l,defaults:{inline:i,config:s,textInput:c,range:f,multiDates:m,teleport:v,floatingConfig:u}}=Oe(),{validateDate:w,isValidTime:b}=_t(),{menuTransition:x,showTransition:d}=xn(),{isMobile:p}=ua(),{findNextFocusableElement:y,getNumVal:_}=Ze(),S=lr(),Y=ue(!1),k=ue(i.value.enabled||l.centered),P=$o(l,"modelValue"),C=$o(l,"timezone"),N=Ve("dp-menu-wrap"),H=Ve("dp-menu"),W=Ve("input-cmp"),J=Ve("picker-wrapper"),ee=Ve("menu-arrow"),j=ue(!1),Q=ue(!1),L=ue(!1),q=ue(!0),ie=fe=>(u.value.arrow&&fe.push(Ip({element:u.value.arrow===!0?ee:u.value.arrow})),u.value.flip&&fe.push($p(typeof u.value.flip=="object"?u.value.flip:{})),u.value.shift&&fe.push(Ep(typeof u.value.shift=="object"?u.value.shift:{})),fe),{floatingStyles:K,middlewareData:le,placement:he,y:ke}=Fp(W,N,{strategy:u.value.strategy,placement:u.value.placement,middleware:ie([Sp(u.value.offset)]),whileElementsMounted:Cp});et(()=>{ce(l.modelValue),ut().then(()=>{i.value.enabled||globalThis.addEventListener("resize",te)}),i.value.enabled&&(Y.value=!0),globalThis.addEventListener("keyup",O),globalThis.addEventListener("keydown",V)}),yr(()=>{i.value.enabled||globalThis.removeEventListener("resize",te),globalThis.removeEventListener("keyup",O),globalThis.removeEventListener("keydown",V)});const ae=xs(S,l.presetDates),ve=Ht(S,Et.Input);st([P,C],()=>{ce(P.value)},{deep:!0}),st([he,ke],()=>{!i.value.enabled&&!l.centered&&q.value&&(k.value=!1,ut().then(()=>{q.value=!1,k.value=!0}))});const{parseExternalModelValue:ce,emitModelValue:_e,formatInputValue:me,checkBeforeEmit:Ee}=vm(),D=B(()=>({dp__main:!0,dp__theme_dark:l.dark,dp__theme_light:!l.dark,dp__flex_display:i.value.enabled,"dp--flex-display-collapsed":L.value,dp__flex_display_with_input:i.value.input})),R=B(()=>l.dark?"dp__theme_dark":"dp__theme_light"),X=B(()=>i.value.enabled&&(l.timePicker||l.monthPicker||l.yearPicker||l.quarterPicker)),T=()=>W.value?.$el?.getBoundingClientRect()??{width:0,left:0,right:0},F=()=>{Y.value&&s.value.closeOnScroll&&Ae()},te=()=>{const fe=H.value?.$el.getBoundingClientRect().width??0;L.value=document.body.offsetWidth<=fe},O=fe=>{fe.key==="Tab"&&!i.value.enabled&&!l.teleport&&s.value.tabOutClosesMenu&&(J.value.contains(document.activeElement)||Ae()),Q.value=fe.shiftKey},V=fe=>{Q.value=fe.shiftKey},g=()=>{!l.disabled&&!l.readonly&&(q.value=!0,Y.value=!0,Y.value&&r("open"),Y.value||Me(),ce(l.modelValue))},$=()=>{a.value="",Me(),H.value?.onValueCleared(),W.value?.setParsedDate(null),r("update:model-value",null),r("cleared"),s.value.closeOnClearValue&&Ae()},A=()=>{const fe=o.value;return!fe||!Array.isArray(fe)&&w(fe)?!0:Array.isArray(fe)?m.value.enabled||fe.length===2&&w(fe[0])&&w(fe[1])?!0:f.value.partialRange&&!l.timePicker?w(fe[0]):!1:!1},U=()=>{Ee()&&A()?(_e(),Ae()):r("invalid-select")},M=fe=>{ne(),_e(),s.value.closeOnAutoApply&&!fe&&Ae()},ne=()=>{W.value&&c.value.enabled&&W.value.setParsedDate(o.value)},re=(fe=!1)=>{l.autoApply&&b(o.value)&&A()&&(f.value.enabled&&Array.isArray(o.value)?(f.value.partialRange||o.value.length===2)&&M(fe):M(fe))},Me=()=>{c.value.enabled||(o.value=null)},Ae=(fe=!1)=>{q.value=!0,fe&&o.value&&s.value.setDateOnMenuClose&&U(),i.value.enabled||(Y.value&&(Y.value=!1,n("menuFocused",!1),n("shiftKeyInMenu",!1),r("closed"),a.value&&ce(P.value)),Me(),r("blur"))},kr=(fe,ct,At=!1)=>{if(!fe){o.value=null;return}const Zr=Array.isArray(fe)?fe.every($n=>w($n)):w(fe),sr=b(fe);Zr&&sr?(n("isTextInputDate",!0),o.value=fe,ct?(j.value=At,U(),r("text-submit")):l.autoApply&&re(!0),ut().then(()=>{n("isTextInputDate",!1)})):r("invalid-date",fe)},Pn=()=>{l.autoApply&&b(o.value)&&_e(),ne()},Cn=()=>Y.value?Ae():g(),ka=fe=>{o.value=fe},Sn=()=>{c.value.enabled&&(n("isInputFocused",!0),me()),r("focus")},_a=()=>{c.value.enabled&&(n("isInputFocused",!1),ce(l.modelValue),j.value&&y(J.value,Q.value)?.focus()),r("blur")},Aa=(fe,ct)=>{H.value&&H.value.updateMonthYear(ct??0,{month:_(fe.month),year:_(fe.year)})},Da=fe=>{ce(fe??l.modelValue)},Xr=(fe,ct)=>{H.value?.switchView(fe,ct)},Ta=(fe,ct)=>{if(Y.value)return s.value.onClickOutside?s.value.onClickOutside(fe,ct):Ae(!0)},Ma=(fe=0)=>{H.value?.handleFlow(fe)},En=()=>N;return Bf(N,fe=>Ta(A,fe),{ignore:[W]}),t({closeMenu:Ae,selectDate:U,clearValue:$,openMenu:g,onScroll:F,formatInputValue:me,updateInternalModelValue:ka,setMonthYear:Aa,parseModel:Da,switchView:Xr,toggleMenu:Cn,handleFlow:Ma,getDpWrapMenuRef:En,dpMenuRef:()=>H,dpWrapMenuRef:()=>N,inputRef:()=>W}),(fe,ct)=>(I(),Z("div",{ref:"picker-wrapper",class:be(D.value),"data-datepicker-instance":"","data-dp-mobile":h(p)},[Se(pv,{ref:"input-cmp","is-menu-open":Y.value,onClear:$,onOpen:g,onSetInputDate:kr,onSetEmptyDate:h(_e),onSelectDate:U,onToggle:Cn,onClose:Ae,onFocus:Sn,onBlur:_a,onRealBlur:ct[0]||(ct[0]=At=>h(n)("isInputFocused",!1))},Je({_:2},[Ye(h(ve),(At,Zr)=>({name:At,fn:se(sr=>[oe(fe.$slots,At,pt(Pt(sr)))])}))]),1032,["is-menu-open","onSetEmptyDate"]),Se(Vs,{to:h(v),disabled:!h(v)},{default:se(()=>[we("div",{ref:"dp-menu-wrap",class:be({"dp--menu-wrapper":!h(i).enabled,dp__outer_menu_wrap:!0,"dp--centered":h(l).centered}),style:ht(!h(i).enabled&&!h(l).centered?h(K):void 0)},[Se(Gr,{name:h(x)(h(he).startsWith("top")),css:h(d)&&!h(i).enabled&&!h(l).centered&&k.value},{default:se(()=>[Y.value&&k.value?(I(),xe(kg,{key:0,ref:"dp-menu",class:be({[R.value]:!0}),"no-overlay-focus":X.value,collapse:L.value,"get-input-rect":T,onClosePicker:Ae,onSelectDate:U,onAutoApply:re,onTimeUpdate:Pn,onMenuBlur:ct[1]||(ct[1]=At=>h(r)("blur"))},Je({_:2},[Ye(h(ae),(At,Zr)=>({name:At,fn:se(sr=>[oe(fe.$slots,At,pt(Pt({...sr})))])})),!h(i).enabled&&!h(l).centered&&h(u).arrow===!0?{name:"arrow",fn:se(()=>[we("div",{ref:"menu-arrow",class:be({dp__arrow_top:h(he)==="bottom",dp__arrow_bottom:h(he)==="top"}),style:ht({left:h(le).arrow?.x!=null?`${h(le).arrow.x}px`:"",top:h(le).arrow?.y!=null?`${h(le).arrow.y}px`:""})},null,6)]),key:"0"}:void 0]),1032,["class","no-overlay-focus","collapse"])):z("",!0)]),_:3},8,["name","css"])],6)]),_:3},8,["to","disabled"])],10,_g))}}),Dg=Xe({__name:"VueDatePickerRoot",props:El({multiCalendars:{type:[Boolean,Number,String,Object]},modelValue:{},modelType:{},dark:{type:Boolean},transitions:{type:[Boolean,Object]},ariaLabels:{},hideNavigation:{},timezone:{},vertical:{type:Boolean},hideMonthYearSelect:{type:Boolean},disableYearSelect:{type:Boolean},yearRange:{},autoApply:{type:Boolean},disabledDates:{type:[Array,Function]},startDate:{},hideOffsetDates:{type:Boolean},noToday:{type:Boolean},allowedDates:{},markers:{},presetDates:{},flow:{},preventMinMaxNavigation:{type:Boolean},reverseYears:{type:Boolean},weekPicker:{type:Boolean},filters:{},arrowNavigation:{type:Boolean},highlight:{type:[Function,Object]},teleport:{type:[String,Boolean]},centered:{type:Boolean},locale:{},weekStart:{},weekNumbers:{type:[Boolean,Object]},dayNames:{type:[Function,Array]},monthPicker:{type:Boolean},yearPicker:{type:Boolean},modelAuto:{type:Boolean},formats:{},multiDates:{type:[Boolean,Object]},minDate:{},maxDate:{},minTime:{},maxTime:{},inputAttrs:{},timeConfig:{},placeholder:{},timePicker:{type:Boolean},range:{type:[Boolean,Object]},menuId:{},disabled:{type:Boolean},readonly:{type:Boolean},inline:{type:[Boolean,Object]},textInput:{type:[Boolean,Object]},sixWeeks:{type:[Boolean,String]},actionRow:{},focusStartDate:{type:Boolean},disabledTimes:{type:[Function,Array]},calendar:{type:Function},config:{},quarterPicker:{type:Boolean},yearFirst:{type:Boolean},loading:{type:Boolean},ui:{},floating:{}},ov),emits:["update:model-value","internal-model-change","text-submit","text-input","open","closed","focus","blur","cleared","flow-step","update-month-year","invalid-select","invalid-fixed-range","invalid-date","tooltip-open","tooltip-close","am-pm-change","range-start","range-end","date-click","overlay-toggle","invalid"],setup(e,{expose:t,emit:r}){const n=r,a=e;pm(a,n);const o=lr(),l=xs(o,a.presetDates),i=Ve("date-picker");return t(iv(i)),(s,c)=>(I(),xe(Ag,{ref:"date-picker"},Je({_:2},[Ye(h(l),(f,m)=>({name:f,fn:se(v=>[oe(s.$slots,f,pt(Pt(v)))])}))]),1536))}}),Tg={components:{VueDatePicker:Dg},data(){const e="yyyy-MM-dd",t="HH:mm:ss";return{datepickerLang:null,weekStartDay:1,dateFormat:e,timeFormat:t,dateTimeFormat:`${e} ${t}`,twelveHourClock:!1}},computed:{...$l(["uiLanguage"])},watch:{uiLanguage:{immediate:!0,async handler(e){if(e)try{const t=(await Us(Object.assign({"../locales/ar/datepicker.js":()=>He(()=>import("./datepicker-DfUSduTx.js"),__vite__mapDeps([0,1])),"../locales/de-CH/datepicker.js":()=>He(()=>import("./datepicker-YfhJ1Gwr.js"),__vite__mapDeps([2,3,1])),"../locales/de/datepicker.js":()=>He(()=>import("./datepicker-BEvijyE4.js"),__vite__mapDeps([4,3,1])),"../locales/en-GB/datepicker.js":()=>He(()=>import("./datepicker-C7rMgKby.js"),__vite__mapDeps([5,6,1])),"../locales/en-US/datepicker.js":()=>He(()=>import("./datepicker-Dvdh3peJ.js"),__vite__mapDeps([7,8,6,1])),"../locales/en/datepicker.js":()=>He(()=>import("./datepicker-Baom71XP.js"),__vite__mapDeps([9,8,6,1])),"../locales/es/datepicker.js":()=>He(()=>import("./datepicker-12UwHVoa.js"),__vite__mapDeps([10,1])),"../locales/fr-CA/datepicker.js":()=>He(()=>import("./datepicker-CSr9teMr.js"),__vite__mapDeps([11,12,1,13])),"../locales/fr-CH/datepicker.js":()=>He(()=>import("./datepicker-CSulcXBB.js"),__vite__mapDeps([14,12,1])),"../locales/fr/datepicker.js":()=>He(()=>import("./datepicker-CPCLpoGN.js"),__vite__mapDeps([15,12,1,13])),"../locales/id/datepicker.js":()=>He(()=>import("./datepicker-XwOM_asX.js"),__vite__mapDeps([16,1])),"../locales/it-CH/datepicker.js":()=>He(()=>import("./datepicker-CjPcGVrk.js"),__vite__mapDeps([17,18,19,20,1])),"../locales/it/datepicker.js":()=>He(()=>import("./datepicker-Dbtq-1rX.js"),__vite__mapDeps([21,18,19,20,1])),"../locales/ja/datepicker.js":()=>He(()=>import("./datepicker-DpKIUoet.js"),__vite__mapDeps([22,1])),"../locales/pl/datepicker.js":()=>He(()=>import("./datepicker-CCSoOM2w.js"),__vite__mapDeps([23,1,19,20])),"../locales/pt-BR/datepicker.js":()=>He(()=>import("./datepicker-CclFEVqS.js"),__vite__mapDeps([24,1])),"../locales/pt/datepicker.js":()=>He(()=>import("./datepicker-C1hmHRXf.js"),__vite__mapDeps([25,1])),"../locales/ro/datepicker.js":()=>He(()=>import("./datepicker-D3y-tlK2.js"),__vite__mapDeps([26,1]))}),`../locales/${e}/datepicker.js`,4)).default;this.datepickerLang=t.locale,this.dateFormat=t.dateFormat,this.timeFormat=t.timeFormat,this.dateTimeFormat=t.dateTimeFormat,this.weekStartDay=t.locale.options.weekStartsOn}catch(t){console.error(`Could not load datepicker locale for ${e}`,t)}}}}};class Mg{constructor(t){this.filters=t}toJSON(){return{"filter-lang":"cql2-json",filter:this.filters.toJSON()}}toText(){return{"filter-lang":"cql2-text",filter:this.filters.toText()}}}class br{constructor(t,r=[]){this.operator=t,this.args=r}toText(){let t=this.operator.toUpperCase();return this.args.map(r=>r.toText()).join(` ${t} `)}toJSON(){return{op:this.operator,args:this.args.map(t=>t.toJSON())}}static get description(){return""}static get label(){return this.SYMBOL}static get longLabel(){return this.label}}class xr extends br{constructor(t,r=null,n=null){super(t,[r,n])}clone(t){return new this.constructor(this.operator,this.args[0],t)}static create(t,r,n){if(["=","==","==="].includes(r))return new ha(t,n);if(["<>","!=","!==","≠"].includes(r))return new ma(t,n);if([">=","≥"].includes(r))return new ga(t,n);if(r===">")return new va(t,n);if(["<=","≤"].includes(r))return new wa(t,n);if(r==="<")return new ya(t,n)}}class ha extends xr{static SYMBOL="=";constructor(t=null,r=null){super(ha.SYMBOL,t,r)}static get longLabel(){return Ne.global.t("search.equalTo")}}class ma extends xr{static SYMBOL="<>";constructor(t=null,r=null){super(ma.SYMBOL,t,r)}static get label(){return"≠"}static get longLabel(){return Ne.global.t("search.notEqualTo")}}class va extends xr{static SYMBOL=">";constructor(t=null,r=null){super(va.SYMBOL,t,r)}static get longLabel(){return Ne.global.t("search.greaterThan")}}class ga extends xr{static SYMBOL=">=";constructor(t=null,r=null){super(ga.SYMBOL,t,r)}static get label(){return"≥"}static get longLabel(){return Ne.global.t("search.greaterThanEqual")}}class ya extends xr{static SYMBOL="<";constructor(t=null,r=null){super(ya.SYMBOL,t,r)}static get longLabel(){return Ne.global.t("search.lessThan")}}class wa extends xr{static SYMBOL="<=";constructor(t=null,r=null){super(wa.SYMBOL,t,r)}static get label(){return"≤"}static get longLabel(){return Ne.global.t("search.lessThanEqual")}}class Do extends xr{static SYMBOL="like";constructor(t=null,r=null){super(Do.SYMBOL,t,r)}static get label(){return"~"}static get longLabel(){return Ne.global.t("search.matches")}static get description(){return Ne.global.t("search.likeOperatorDescription")}}class ba extends br{constructor(t,r=null,n=null){super(t,[r,n])}static create(t,r,n){switch(r){case"a_overlaps":return new An(t,n);case"a_contains":return new Dn(t,n);case"a_equals":return new Tn(t,n);case"a_contained_by":return new Mn(t,n);default:return null}}}class An extends ba{static SYMBOL="a_overlaps";constructor(t=null,r=null){super(An.SYMBOL,t,r)}static get label(){return"∩"}static get longLabel(){return Ne.global.t("search.arrayOverlaps")}static get description(){return Ne.global.t("search.arrayOverlapsDescription")}}class Dn extends ba{static SYMBOL="a_contains";constructor(t=null,r=null){super(Dn.SYMBOL,t,r)}static get label(){return"⊇"}static get longLabel(){return Ne.global.t("search.arrayContains")}static get description(){return Ne.global.t("search.arrayContainsDescription")}}class Tn extends ba{static SYMBOL="a_equals";constructor(t=null,r=null){super(Tn.SYMBOL,t,r)}static get label(){return"≡"}static get longLabel(){return Ne.global.t("search.arrayEquals")}static get description(){return Ne.global.t("search.arrayEqualsDescription")}}class Mn extends ba{static SYMBOL="a_contained_by";constructor(t=null,r=null){super(Mn.SYMBOL,t,r)}static get label(){return"⊆"}static get longLabel(){return Ne.global.t("search.arrayContainedBy")}static get description(){return Ne.global.t("search.arrayContainedByDescription")}}class To extends br{static SYMBOL="not";constructor(t=null,r=null){super(To.SYMBOL,[new An(t,r)])}static get label(){return"∌"}static get longLabel(){return Ne.global.t("search.notArrayOverlaps")}static get description(){return Ne.global.t("search.notArrayOverlapsDescription")}}class Mo extends br{static SYMBOL="not";constructor(t=null,r=null){super(Mo.SYMBOL,[new Dn(t,r)])}static get label(){return"⊉"}static get longLabel(){return Ne.global.t("search.notArrayContains")}static get description(){return Ne.global.t("search.notArrayContainsDescription")}}class Oo extends br{static SYMBOL="not";constructor(t=null,r=null){super(Oo.SYMBOL,[new Tn(t,r)])}static get label(){return"≢"}static get longLabel(){return Ne.global.t("search.notArrayEquals")}static get description(){return Ne.global.t("search.notArrayEqualsDescription")}}class Po extends br{static SYMBOL="not";constructor(t=null,r=null){super(Po.SYMBOL,[new Mn(t,r)])}static get label(){return"⊈"}static get longLabel(){return Ne.global.t("search.notArrayContainedBy")}static get description(){return Ne.global.t("search.notArrayContainedByDescription")}}class Og{constructor(t,r){this.id=t,this.schema=r}get title(){return typeof this.schema.title=="string"?this.schema.title:wu.formatKey(this.id)}get description(){return this.isTemporal?Ne.global.t("search.dateDescription"):""}get supported(){return this.isText||this.isNumeric||this.isBoolean||this.isArray}is(t){return this.types.includes(t)}get isSelection(){return Array.isArray(this.schema.enum)}get isText(){return this.is("string")}get isBoolean(){return this.is("boolean")}get isNumeric(){return this.is("number")||this.is("integer")}get isDate(){return this.isText&&this.schema.format==="date"}get isDateTime(){return this.isText&&this.schema.format==="date-time"}get isTemporal(){return this.isDate||this.isDateTime}get isArray(){return this.is("array")}get defaultValue(){return typeof this.schema.default<"u"?this.schema.default:this.isSelection?this.schema.enum[0]:this.isTemporal?new Date:this.isNumeric?typeof this.schema.minimum<"u"?this.schema.minimum:0:this.isText?"":this.isBoolean?!1:this.isArray?[]:null}get types(){return typeof this.schema.type=="string"?[this.schema.type]:Array.isArray(this.schema.type)?this.schema.type:[]}getOperators(t){let r=[];return this.isDateTime||(r.push(ha),r.push(ma)),this.isNumeric||this.isTemporal?(r.push(ya),r.push(wa),r.push(va),r.push(ga)):this.isText&&t.advancedComparison&&r.push(Do),this.isArray&&t.arrayOperators&&(r.push(An),r.push(Dn),r.push(Tn),r.push(Mn),r.push(To),r.push(Mo),r.push(Oo),r.push(Po)),r}toText(){return this.id}toJSON(){return{property:this.id}}}class On{constructor(t){this.value=t}static create(t){return t instanceof Date?new Pg(t):typeof t=="string"?new Cg(t):new On(t)}toJSON(){return this.value}toText(){return this.value}}class Pg extends On{constructor(t){super(t)}toJSON(){return{timestamp:this.toTimestamp()}}toText(){return`TIMESTAMP('${this.toTimestamp()}')`}toTimestamp(){return dt.dateToUTC(this.value).toISOString()}}class Cg extends On{constructor(t){super(t)}toJSON(){return this.value}toText(){return`'${this.value.replace("'","''")}'`}}class xa extends br{constructor(t,r=[]){super(t,r)}static create(t,r){if(["&&","and"].includes(t))return new Co(r);if(["||","or"].includes(t))return new So(r);if(["!","not"].includes(t))return new Eo(r)}}class Co extends xa{static SYMBOL="and";constructor(t=[]){super(Co.SYMBOL,t)}}class So extends xa{static SYMBOL="or";constructor(t=[]){super(So.SYMBOL,t)}}class Eo extends xa{static SYMBOL="not";constructor(t=null){super(Eo.SYMBOL,t?[t]:null)}}function Ts(){return{q:[],datetime:null,bbox:null,limit:null,ids:[],collections:[],sortby:null,filters:null}}function Cl(){return{sortOrder:1,sortTerm:null,provideBBox:!1,bbox:null,query:Ts(),filtersAndOr:"and",filters:[],selectedCollections:[]}}let Vn=0;const Sg=Xe({name:"SearchFilter",components:{Loading:yu,BCard:uu,BCardBody:su,BCardFooter:iu,BCardTitle:lu,BDropdown:du,BDropdownItem:cu,QueryableInput:Ln(()=>He(()=>import("./QueryableInput-DTANWk7V.js"),__vite__mapDeps([27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,20,8,6,1,45,46,47,48,49]))),MapSelect:Ln(()=>He(()=>import("./MapSelect-i9hMOnRB.js"),__vite__mapDeps([50,28,29,30,31,32,51,34,35,36,52,53]))),SortButtons:Ln(()=>He(()=>import("./SortButtons-DomhFXfH.js"),__vite__mapDeps([54,28,29,30,31,32]))),Multiselect:Ln(()=>He(()=>import("./vue-multiselect.esm-BmVF1_5Q.js"),__vite__mapDeps([55,28,29,30,31,32])))},mixins:[Qs,Tg],props:{parent:{type:Object,default:null},title:{type:String,required:!0},type:{type:String,required:!0},value:{type:Object,default:()=>({})}},emits:["input"],data(){return Object.assign({results:null,loaded:!1,queryables:null,hasAllCollections:!1,collections:[],collectionsLoadingTimer:null,additionalCollectionCount:0},Cl())},computed:{...$l(["searchResultsPerPage","maxEntriesPerPage","uiLanguage"]),...Js(["canSearchCollections","supportsConformance"]),collectionSelectOptions(){let e=!this.hasAllCollections,t=this.collections.length>0&&!this.hasAllCollections;return{id:this.ids.collections,multiple:!0,taggable:e,options:this.collections,trackBy:"value",label:"text",placeholder:e?this.$t("search.enterCollections"):this.$t("search.selectCollections"),tagPlaceholder:this.$t("search.addCollections"),selectLabel:this.$t("multiselect.selectLabel"),selectedLabel:this.$t("multiselect.selectedLabel"),deselectLabel:this.$t("multiselect.deselectLabel"),limitText:r=>this.$t("multiselect.andMore",{count:r}),loading:this.collectionsLoadingTimer!==null,showNoResults:!1,internalSearch:!t}},collectionSearchLink(){return this.parent&&this.parent.isCatalogLike()&&this.parent.getApiCollectionsLink()},canSearchCollectionsFreeText(){return this.canSearchCollections&&this.supportsConformance(Zs.Collections.FreeText)},ids(){let e={};return["q","datetime","bbox","collections","ids","sort","limit"].forEach(t=>e[t]=t+Vn),e},stac(){return this.parent instanceof Xs?this.parent:null},andOrOptions(){return[{value:"and",text:this.$t("search.logical.and")},{value:"or",text:this.$t("search.logical.or")}]},showAdditionalFilters(){return this.cql&&Array.isArray(this.queryables)&&this.queryables.length>0},sortOptions(){const e=[{text:this.$t("default"),value:null},{text:this.$t("fields.Identifier"),value:"id"}],t=this.type==="Collections"?"":"properties.";return e.push({text:this.$t("fields.Title"),value:`${t}title`}),this.type!=="Collections"&&e.push({text:this.$t("fields.Time of Data"),value:"properties.datetime"}),e.push({text:this.$t("fields.Created"),value:`${t}created`}),e.push({text:this.$t("fields.Updated"),value:`${t}updated`}),e},sortedQueryables(){if(!Array.isArray(this.queryables))return[];const e=new Intl.Collator(this.uiLanguage);return this.queryables.slice(0).sort((t,r)=>e.compare(t.title,r.title))},maxItems(){return this.maxEntriesPerPage||1e3},limitPlaceholder(){return this.searchResultsPerPage>0?this.$t("defaultWithValue",{value:this.searchResultsPerPage}):this.$t("default")},datetime:{get(){return Array.isArray(this.query.datetime)?this.query.datetime.map(e=>dt.dateFromUTC(e)):null},set(e){this.query.datetime=Array.isArray(e)?e.map(t=>dt.dateToUTC(t)):null}}},watch:{parent:{immediate:!0,handler(e,t){e instanceof Ro&&e.setApiDataListener("searchfilter"+Vn,()=>this.updateApiCollections()),t instanceof Ro&&t.setApiDataListener("searchfilter"+Vn),this.updateApiCollections()}},value:{immediate:!0,deep:!0,handler(e){this.query=Object.assign(Ts(),e),this.collections.length>0&&this.hasAllCollections?this.selectedCollections=this.collections.filter(t=>this.query.collections.includes(t.value)):this.selectedCollections=this.query.collections.map(t=>{let r=this.selectedCollections.find(n=>n.value===t);return r||this.collectionToMultiSelect({id:t})})}},query:{deep:!0,handler(e){e?.bbox&&(this.bbox=e.bbox)}},selectedCollections:{deep:1,handler(e){this.query.collections=e.map(t=>t.value)}},provideBBox(e){e?this.query.bbox=this.bbox:this.query.bbox=null}},beforeCreate(){Vn++},created(){let e=[];if(this.cql&&this.stac&&this.type!=="Collections"){let t=this.findQueryableLink(this.stac.links);e.push(this.loadQueryables(t).catch(r=>console.error(r)))}(this.type==="Collections"||this.conformances.CollectionIdFilter)&&this.stac&&e.push(this.loadCollections(this.stac.getApiCollectionsLink()).then(({collections:t,queryableLink:r})=>(this.collections=t,this.collections.length>0&&(this.hasAllCollections=!0),this.loadQueryables(r))).catch(t=>console.error(t))),Promise.all(e).finally(()=>this.loaded=!0)},methods:{resetSearchCollection(){clearTimeout(this.collectionsLoadingTimer),this.collectionsLoadingTimer=null},searchCollections(e){if(!(!this.canSearchCollectionsFreeText||this.hasAllCollections)){if(this.resetSearchCollection(),this.additionalCollectionCount=0,typeof e!="string"||e.trim().length<2){this.collections=[];return}this.collectionsLoadingTimer=setTimeout(async()=>{try{const t=dt.addFiltersToLink(this.collectionSearchLink,{q:[e]}),r=await Ca(this.$store,t);this.collectionsLoadingTimer&&dt.isObject(r.data)&&Array.isArray(r.data.collections)&&(this.collections=this.prepareCollections(r.data.collections),typeof r.data.numberMatched=="number"&&(this.additionalCollectionCount=r.data.numberMatched-this.collections.length))}catch(t){console.error(t),this.collections=[]}finally{this.resetSearchCollection()}},250)}},async loadCollections(e){let t=!1,r={collections:[],queryableLink:null};if(this.type==="Global"&&this.collections)r.collections=this.collections,t=!1;else if(this.type==="Global"||this.type==="Collections"){let n=await Ca(this.$store,e);if(!dt.isObject(n.data))return{};if(Array.isArray(n.data.links)){let a=n.data.links;t=!!dt.getLinkWithRel(a,"next"),r.queryableLink=this.findQueryableLink(a)||null}if(!t&&Array.isArray(n.data.collections)){let a=n.data.collections.map(o=>zs(o));r.collections=this.prepareCollections(a)}}return r},updateApiCollections(){if(!this.parent)return;let e=this.parent.getChildren("collections"),t=this.parent._apiChildren.next;if(!Array.isArray(e)||t||!this.conformances.CollectionIdFilter){this.collections=[];return}this.collections=this.prepareCollections(e),this.collections.length>0&&(this.hasAllCollections=!0)},collectionToMultiSelect(e){return{value:e.id,text:e.title||e.id}},prepareCollections(e){const t=new Intl.Collator(this.uiLanguage);return e.map(this.collectionToMultiSelect).sort((r,n)=>t.compare(r.text,n.text))},findQueryableLink(e){return dt.getLinksWithRels(e,fu).find(t=>dt.isMediaType(t.type,pu,!0))},async loadQueryables(e){if(this.queryables=[],!dt.isObject(e))return;let t=await Ca(this.$store,e);if(!dt.isObject(t.data))return;let r;try{r=await Er.dereference(t.data)}catch(n){console.error(n),r=t.data}dt.isObject(r)&&dt.isObject(r.properties)&&(this.queryables=Object.entries(r.properties).map(([n,a])=>new Og(n,a)))},buildFilter(){if(this.filters.length===0)return null;const e=this.filters.map(r=>new r.operator(r.queryable,r.value)),t=xa.create(this.filtersAndOr,e);return new Mg(t)},removeQueryable(e){this.filters.splice(e,1)},additionalFieldSelected(e){const t=e.getOperators(this.cql);this.filters.push({id:`${e.id}-${Date.now()}-${Math.random()}`,value:On.create(e.defaultValue),operator:t[0],queryable:e})},onSubmit(){this.canSort&&this.sortTerm&&this.sortOrder&&(this.query.sortby=this.formatSort());let e=this.buildFilter();this.query.filters=e,this.$emit("input",this.query,!1)},async onReset(){Object.assign(this,Cl()),this.$emit("input",{},!0)},setLimit(e){e=Number.parseInt(e,10),e>this.maxItems?e=this.maxItems:(typeof e!="number"||isNaN(e)||e<1)&&(e=null),this.query.limit=e},addSearchTerm(e){dt.hasText(e)&&this.query.q.push(e)},addCollection(e){if(!this.collectionSelectOptions.taggable)return;this.resetSearchCollection();let t=this.collectionToMultiSelect({id:e});this.selectedCollections.push(t),this.collections.push(t),this.query.collections.push(e)},addId(e){this.query.ids.push(e)},formatSort(){return this.sortTerm&&this.sortTerm.value&&this.sortOrder?`${this.sortOrder<0?"-":""}${this.sortTerm.value}`:null}}}),Eg={class:"multiselect__option multiselect__option--disabled"},$g={key:8},Rg={class:"d-flex justify-content-between align-items-center"};function Lg(e,t,r,n,a,o){const l=gt("Loading"),i=gt("b-card-title"),s=gt("multiselect"),c=ou,f=gt("VueDatePicker"),m=au,v=gt("MapSelect"),u=nu,w=ru,b=gt("b-dropdown-item"),x=gt("b-dropdown"),d=gt("QueryableInput"),p=gt("SortButtons"),y=tu,_=gt("b-card-body"),S=Gs,Y=gt("b-card-footer"),k=gt("b-card"),P=eu;return I(),xe(P,{class:"filter mb-4",onSubmit:mr(e.onSubmit,["stop","prevent"]),onReset:e.onReset},{default:se(()=>[Se(k,{"no-body":"",title:e.title},{default:se(()=>[Se(_,null,{default:se(()=>[e.loaded?z("",!0):(I(),xe(l,{key:0,fill:""})),t[16]||(t[16]=Ce()),e.title?(I(),xe(i,{key:1,title:e.title},null,8,["title"])):z("",!0),t[17]||(t[17]=Ce()),e.canFilterFreeText?(I(),xe(c,{key:2,class:"filter-freetext",label:e.$t("search.freeText"),"label-for":e.ids.q,description:e.$t("search.freeTextDescription")},{default:se(()=>[Se(s,{id:e.ids.q,modelValue:e.query.q,"onUpdate:modelValue":t[0]||(t[0]=C=>e.query.q=C),multiple:!0,taggable:!0,options:e.query.q,placeholder:e.$t("search.enterSearchTerms"),"tag-placeholder":e.$t("search.addSearchTerm"),"no-options":e.$t("search.addSearchTerm"),onTag:e.addSearchTerm},{noOptions:se(()=>[Ce(Fe(e.$t("search.noOptions")),1)]),_:1},8,["id","modelValue","options","placeholder","tag-placeholder","no-options","onTag"])]),_:1},8,["label","label-for","description"])):z("",!0),t[18]||(t[18]=Ce()),e.canFilterExtents?(I(),xe(c,{key:3,class:"filter-datetime",label:e.$t("search.temporalExtent"),"label-for":e.ids.datetime,description:e.$t("search.dateDescription")},{default:se(()=>[Se(f,{"input-class":"form-control mx-input",id:e.ids.datetime,modelValue:e.datetime,"onUpdate:modelValue":t[1]||(t[1]=C=>e.datetime=C),locale:e.datepickerLang,formats:{input:e.dateTimeFormat},"week-start":e.weekStartDay,"close-on-scroll":!1,placeholder:e.$t("search.selectDateRange"),"time-config":{enableTimePicker:!0,seconds:!0,timePickerInline:!0},"input-attrs":{clearable:!0},"auto-apply":"",range:"","multi-calendars":2},null,8,["id","modelValue","locale","formats","week-start","placeholder"])]),_:1},8,["label","label-for","description"])):z("",!0),t[19]||(t[19]=Ce()),e.canFilterExtents?(I(),xe(c,{key:4,class:"filter-bbox",label:e.$t("search.spatialExtent"),"label-for":e.ids.bbox},{default:se(()=>[Se(m,{id:e.ids.bbox,modelValue:e.provideBBox,"onUpdate:modelValue":t[2]||(t[2]=C=>e.provideBBox=C),value:"1"},{default:se(()=>[Ce(Fe(e.$t("search.filterBySpatialExtent")),1)]),_:1},8,["id","modelValue"]),t[9]||(t[9]=Ce()),e.provideBBox?(I(),xe(v,{key:0,class:"mb-4",modelValue:e.query.bbox,"onUpdate:modelValue":t[3]||(t[3]=C=>e.query.bbox=C),stac:e.stac},null,8,["modelValue","stac"])):z("",!0)]),_:1},8,["label","label-for"])):z("",!0),t[20]||(t[20]=Ce()),e.conformances.CollectionIdFilter?(I(),xe(c,{key:5,class:"filter-collection",label:e.$t("stacCollection",e.collections.length),"label-for":e.ids.collections},{default:se(()=>[Se(s,xt({modelValue:e.selectedCollections,"onUpdate:modelValue":t[4]||(t[4]=C=>e.selectedCollections=C)},e.collectionSelectOptions,{onTag:e.addCollection,onSearchChange:e.searchCollections}),Je({noOptions:se(()=>[Ce(Fe(e.$t("search.noOptions")),1)]),_:2},[e.additionalCollectionCount>0?{name:"afterList",fn:se(()=>[we("li",null,[we("strong",Eg,Fe(e.$t("multiselect.andMore",{count:e.additionalCollectionCount})),1)])]),key:"0"}:void 0]),1040,["modelValue","onTag","onSearchChange"])]),_:1},8,["label","label-for"])):z("",!0),t[21]||(t[21]=Ce()),e.conformances.ItemIdFilter?(I(),xe(c,{key:6,class:"filter-item-id",label:e.$t("search.itemIds"),"label-for":e.ids.ids},{default:se(()=>[Se(s,{id:e.ids.ids,modelValue:e.query.ids,"onUpdate:modelValue":t[5]||(t[5]=C=>e.query.ids=C),multiple:!0,taggable:!0,options:e.query.ids,placeholder:e.$t("search.enterItemIds"),"tag-placeholder":e.$t("search.addItemIds"),"no-options":e.$t("search.addItemIds"),onTag:e.addId},{noOptions:se(()=>[Ce(Fe(e.$t("search.noOptions")),1)]),_:1},8,["id","modelValue","options","placeholder","tag-placeholder","no-options","onTag"])]),_:1},8,["label","label-for"])):z("",!0),t[22]||(t[22]=Ce()),e.showAdditionalFilters?(I(),xe(c,{key:7,class:"additional-filters",label:e.$t("search.additionalFilters")},{default:se(()=>[Se(u,{modelValue:e.filtersAndOr,"onUpdate:modelValue":t[6]||(t[6]=C=>e.filtersAndOr=C),options:e.andOrOptions,name:"logical",size:"sm"},null,8,["modelValue","options"]),t[12]||(t[12]=Ce()),Se(x,{size:"sm",text:e.$t("search.addFilter"),variant:"primary",class:"queryables mt-2 mb-3","menu-class":"w-100","toggle-class":"w-100"},{default:se(()=>[(I(!0),Z($e,null,Ye(e.sortedQueryables,C=>(I(),Z($e,{key:C.id},[C.supported?(I(),xe(b,{key:0,onClick:N=>e.additionalFieldSelected(C),"link-class":"d-flex justify-content-between align-items-center"},{default:se(()=>[we("span",null,Fe(C.title),1),t[11]||(t[11]=Ce()),Se(w,{variant:"dark",class:"ms-2"},{default:se(()=>[Ce(Fe(C.id),1)]),_:2},1024)]),_:2},1032,["onClick"])):z("",!0)],64))),128))]),_:1},8,["text"]),t[13]||(t[13]=Ce()),(I(!0),Z($e,null,Ye(e.filters,(C,N)=>(I(),xe(d,{key:C.id,value:C.value,"onUpdate:value":H=>C.value=H,operator:C.operator,"onUpdate:operator":H=>C.operator=H,queryable:C.queryable,index:N,cql:e.cql,onRemoveQueryable:H=>e.removeQueryable(N)},null,8,["value","onUpdate:value","operator","onUpdate:operator","queryable","index","cql","onRemoveQueryable"]))),128))]),_:1},8,["label"])):z("",!0),t[23]||(t[23]=Ce()),e.canFilterExtents||e.conformances.CollectionIdFilter||e.conformances.ItemIdFilter||e.showAdditionalFilters?(I(),Z("hr",$g)):z("",!0),t[24]||(t[24]=Ce()),e.canSort?(I(),xe(c,{key:9,class:"sort",label:e.$t("sort.title"),"label-for":e.ids.sort,description:e.$t("search.notFullySupported")},{default:se(()=>[Se(s,{id:e.ids.sort,modelValue:e.sortTerm,"onUpdate:modelValue":t[7]||(t[7]=C=>e.sortTerm=C),options:e.sortOptions,"track-by":"value",label:"text",placeholder:e.$t("default"),"select-label":e.$t("multiselect.selectLabel"),"selected-label":e.$t("multiselect.selectedLabel"),"deselect-label":e.$t("multiselect.deselectLabel")},{option:se(({option:C})=>[we("span",Rg,[we("span",null,Fe(C.text),1),t[14]||(t[14]=Ce()),C.value?(I(),xe(w,{key:0,variant:"dark",class:"ms-2"},{default:se(()=>[Ce(Fe(C.value),1)]),_:2},1024)):z("",!0)])]),_:1},8,["id","modelValue","options","placeholder","select-label","selected-label","deselect-label"]),t[15]||(t[15]=Ce()),e.sortTerm&&e.sortTerm.value?(I(),xe(p,{key:0,class:"mt-1",modelValue:e.sortOrder,"onUpdate:modelValue":t[8]||(t[8]=C=>e.sortOrder=C),enforce:!0},null,8,["modelValue"])):z("",!0)]),_:1},8,["label","label-for","description"])):z("",!0),t[25]||(t[25]=Ce()),Se(c,{class:"limit",label:e.$t("search.itemsPerPage"),"label-for":e.ids.limit,description:e.$t("search.itemsPerPageDescription",{maxItems:e.maxItems})},{default:se(()=>[Se(y,{id:e.ids.limit,"model-value":e.query.limit,"onUpdate:modelValue":e.setLimit,min:"1",max:e.maxItems,type:"number",placeholder:e.limitPlaceholder},null,8,["id","model-value","onUpdate:modelValue","max","placeholder"])]),_:1},8,["label","label-for","description"])]),_:1}),t[27]||(t[27]=Ce()),Se(Y,null,{default:se(()=>[Se(S,{type:"submit",variant:"primary"},{default:se(()=>[Ce(Fe(e.$t("submit")),1)]),_:1}),t[26]||(t[26]=Ce()),Se(S,{type:"reset",variant:"danger",class:"ms-3"},{default:se(()=>[Ce(Fe(e.$t("reset")),1)]),_:1})]),_:1})]),_:1},8,["title"])]),_:1},8,["onSubmit","onReset"])}const Yg=Ks(Sg,[["render",Lg]]),Xg=Object.freeze(Object.defineProperty({__proto__:null,default:Yg},Symbol.toStringTag,{value:"Module"}));export{On as C,Tg as D,Yg as S,Xg as a};
//# sourceMappingURL=SearchFilter-BxlEJ_x6.js.map
