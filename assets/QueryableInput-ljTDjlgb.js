const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Description-CScC8SvM.js","assets/_commonjsHelpers-CE1G-McA.js","assets/index-DxkmsBdF.js","assets/utils-UTZ1_q7B.js","assets/I18N-DlIXJTel.js","assets/index-tJa7Rfc7.css","assets/Description-BJNSZaWm.css"])))=>i.map(i=>d[i]);
import{bk as O,bl as u,n as o,B as p,y as b,H as m,G as l,L as d,q as s,I as w,ax as C,p as n,v as _,K as c,_ as B,bt as I,bu as T}from"./index-DxkmsBdF.js";import{D as L,_ as P,C as N}from"./SearchFilter-BOtdDXp8.js";import{a as U}from"./BFormCheckboxGroup.vue_vue_type_script_setup_true_lang-Dx_mpGFE-BC4QW5di.js";import{_ as j}from"./BFormInput.vue_vue_type_script_setup_true_lang-DRDhfD8d-xwhnCuP_.js";import{b as F}from"./BFormSelect.vue_vue_type_script_setup_true_lang-djrVhugk-w06uaRtX.js";import{_ as S}from"./BBadge.vue_vue_type_script_setup_true_lang-D9DEOOtU-8KL1g6_S.js";import{b as z,_ as E}from"./BDropdownText.vue_vue_type_script_setup_true_lang-Cm6QYE9x-B5Of2QxN.js";import{j as A}from"./utils-UTZ1_q7B.js";import"./_commonjsHelpers-CE1G-McA.js";import"./I18N-DlIXJTel.js";import"./BForm.vue_vue_type_script_setup_true_lang-u44ElAm9-B1fSnH0Y.js";import"./BFormRadioGroup.vue_vue_type_script_setup_true_lang-DaMHx4U3-Bgrm5c_H.js";import"./useStateClass-BGbSLWFN-Dclm8Qkt.js";import"./ConditionalWrapper.vue_vue_type_script_lang-IX_NpHH--DrCiXEJF.js";import"./BFormGroup.vue_vue_type_script_setup_true_lang-RIWLdYTY-D9ILsp3E.js";import"./BCard.vue_vue_type_script_setup_true_lang-9RhyvL8I-hWwn1mXO.js";import"./Description-CScC8SvM.js";import"./startOfWeek-m7vVpAR3.js";import"./en-US-DRXoBfJp.js";import"./match-DN4VZKeM.js";import"./buildMatchPatternFn-_eSDZv-o.js";import"./Loading-DpTRFY2S.js";import"./helper-CaHhXSPV.js";import"./helper-DO3U350M.js";import"./debounce-BHqBzJ1a-BajiDTTr.js";const M={name:"QueryableInput",components:{BDropdown:E,BDropdownItemButton:z,Description:I(()=>T(()=>import("./Description-CScC8SvM.js"),__vite__mapDeps([0,1,2,3,4,5,6])))},mixins:[L],props:{value:{},operator:{type:Function,required:!0},queryable:{type:Object,required:!0},cql:{type:Object,required:!0}},emits:["remove-queryable","update:value","update:operator"],computed:{validation(){return this.queryable.isText?{type:"text",minlength:this.schema.minLength,maxlength:this.schema.maxLength,required:this.schema.minLength>0}:this.queryable.isNumeric?{type:"number",number:!0,min:this.schema.minimum,max:this.schema.maximum,step:this.schema.multipleOf||"any"}:{}},schema(){return this.queryable.schema},operators(){return this.queryable.getOperators(this.cql)},queryableOptions(){return this.queryable.isSelection?this.schema.enum.map(a=>({value:a,text:a})):[]}},methods:{iterateOps(){let a=this.operators.findIndex(t=>t===this.operator),e=++a%this.operators.length;this.updateOperator(this.operators[e])},updateValue(a){let e=A.isObject(a)&&"target"in a?a.target.value:a;typeof e=="string"&&this.queryable.is("integer")?e=parseInt(e,10):typeof e=="string"&&this.queryable.is("number")&&(e=parseFloat(e)),this.$emit("update:value",N.create(e))},updateOperator(a){this.$emit("update:operator",a)}}},Q={class:"queryable-group"},G={class:"queryable-row"},H={class:"title"},K={key:0,class:"queryable-help text-muted small"};function R(a,e,t,Y,J,i){const f=S,v=u("b-dropdown-item-button"),q=u("b-dropdown"),k=u("VueDatePicker"),h=F,g=j,x=U,V=P,D=B,y=u("Description");return o(),p("div",Q,[b("div",G,[b("span",H,m(t.queryable.title),1),e[5]||(e[5]=l()),d(q,{size:"sm",class:"op",variant:"dark",split:"",text:t.operator.label,onClick:i.iterateOps},{default:s(()=>[(o(!0),p(w,null,C(i.operators,r=>(o(),n(v,{key:r.SYMBOL,active:r===t.operator,onClick:W=>i.updateOperator(r),"button-class":"d-flex justify-content-between align-items-center"},{default:s(()=>[b("span",null,m(r.longLabel),1),e[4]||(e[4]=l()),d(f,{variant:"dark",class:"ms-2"},{default:s(()=>[l(m(r.label),1)]),_:2},1024)]),_:2},1032,["active","onClick"]))),128))]),_:1},8,["text","onClick"]),e[6]||(e[6]=l()),t.queryable.isTemporal?(o(),n(k,{key:0,class:"value","model-value":t.value?.value,"onUpdate:modelValue":i.updateValue,locale:a.datepickerLang,"week-start":a.weekStartDay,formats:{input:t.queryable.isDateTime?a.dateTimeFormat:a.dateFormat},"close-on-scroll":!1,"time-config":{enableTimePicker:t.queryable.isDateTime,seconds:t.queryable.isDateTime,timePickerInline:!0},"input-attrs":{clearable:!0},"auto-apply":""},null,8,["model-value","onUpdate:modelValue","locale","week-start","formats","time-config"])):t.queryable.isSelection?(o(),n(h,_({key:1,options:i.queryableOptions,size:"sm",class:"value","model-value":t.value.value,"onUpdate:modelValue":e[0]||(e[0]=r=>i.updateValue(r))},i.validation),null,16,["options","model-value"])):t.queryable.isText||t.queryable.isNumeric?(o(),n(g,_({key:2,size:"sm",class:"value","model-value":t.value.value,"onUpdate:modelValue":e[1]||(e[1]=r=>i.updateValue(r))},i.validation),null,16,["model-value"])):t.queryable.isBoolean?(o(),n(x,_({key:3,switch:"",class:"value","model-value":t.value.value,"onUpdate:modelValue":e[2]||(e[2]=r=>i.updateValue(r))},i.validation),{default:s(()=>[l(m(a.$t(`checkbox.${t.value.value}`)),1)]),_:1},16,["model-value"])):c("",!0),e[7]||(e[7]=l()),d(D,{class:"delete",size:"sm",variant:"danger",onClick:e[3]||(e[3]=r=>a.$emit("remove-queryable"))},{default:s(()=>[d(V,{"aria-hidden":"true"})]),_:1})]),e[9]||(e[9]=l()),t.queryable.description||t.operator.description?(o(),p("div",K,[t.operator.description?(o(),n(y,{key:0,description:t.operator.description,inline:""},null,8,["description"])):c("",!0),e[8]||(e[8]=l()),t.queryable.description?(o(),n(y,{key:1,description:t.queryable.description,inline:""},null,8,["description"])):c("",!0)])):c("",!0)])}const ge=O(M,[["render",R]]);export{ge as default};
//# sourceMappingURL=QueryableInput-ljTDjlgb.js.map
